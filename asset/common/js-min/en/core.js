function fl(a){return'\x3cli\x3e\x3cimg src\x3d"'+ig(a.rj)+'" title\x3d"'+ig(a.title)+'" /\x3e\x3c/li\x3e'}function gl(a,b){var c=eg(fl,{title:b.Ub,rj:b.tj});a.J("helper-tile-btns").appendChild(c);a.i().b(c,"click",function(){this.kg(b)})}
function hl(a){return a=""+('\x3cdiv class\x3d"entry-editor"\x3e\x3ch2\x3eEintrag bearbeiten\x3c/h2\x3e\x3cdiv class\x3d"entry-info"\x3e\x3cspan class\x3d"entry-date"\x3e'+ig(a.o)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-editor-body"\x3e\x3c/div\x3e\x3cdiv class\x3d"recommondations"\x3e\x3c/div\x3e\x3cul class\x3d"helper-tile-btns"\x3e\x3c/ul\x3e\x3cdiv class\x3d"helper-tiles"\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-actions"\x3e\x3cbutton class\x3d"btn primary save-btn"\x3eSpeichern\x3c/button\x3e\x3cbutton class\x3d"btn cancle-btn"\x3eAbbrechen\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e')}
function il(a){var b=qd(a);if("undefined"==typeof b)throw Error("Keys are undefined");var c=new Mh(null,0,void 0);a=pd(a);for(var d=0;d<b.length;d++){var f=b[d],g=a[d];if(y(g)){var h=c;h.remove(f);0<g.length&&(h.yb=null,h.ka.set(Oh(h,f),Xa(g)),h.V+=g.length)}else c.add(f,g)}return c}
ni.prototype.save=s(33,function(a,b,c){var d=new Nd;d.b("complete",function(d){d=ae(d.target);a.update(d);ha(b)&&b.call(c,a)},!1,this);var f=il(a.dc()).toString();a.aa()?d.send("/entries/"+a.aa(),"PUT",f):d.send("/entries","POST",f)});de.prototype.dc=s(32,function(){return{}});ci.prototype.dc=s(31,function(){var a=[];G(this.Ba,function(b){a.push(b.dc())});return a});function jl(a){U.call(this);this.mf=a;this.Tb=new zi("");this.Y(this.Tb);this.ac=a.he();this.jd=[]}D(jl,U);p=jl.prototype;
p.f=function(){var a={o:kl(this.mf.yi)},a=eg(hl,a);this.n(a)};p.n=function(a){jl.a.n.call(this,a);this.Tb.ma(this.J("entry-editor-body"));this.Tb.P(this.mf.Lc())};p.g=function(){jl.a.g.call(this);var a=this.i(),b=this.J("save-btn");a.b(b,"click",this.$p);b=this.J("cancle-btn");a.b(b,"click",this.close);a.b(this.Tb,"change",this.vd);G(this.jd,function(a){a.Qa();a.mj&&gl(this,a)},this);this.Tb.c().focus()};p.kg=function(a,b){b=b||a.hp();b.ir(a);this.Y(b);b.ma(this.J("helper-tiles"))};p.close=function(){this.j()};
p.e=function(){G(this.jd,function(a){a.j()},this);jl.a.e.call(this)};p.vd=function(){this.ac.jr(this.Tb.t());this.dispatchEvent(Ai)};p.$p=function(){var a=this.Tb.t();0<a.length&&(this.mf.yk(a),this.mf.save(),this.close())};p.he=e("ac");function ll(a){return!!a.Ma&&0!=a.Ma.length}ii.prototype.je=s(30,e("ok"));ni.prototype.ae=s(26,function(a){(new Nd).send("/entries/"+a.aa(),"DELETE")});M.prototype.ceil=s(25,function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this});
Lb.prototype.ceil=s(24,function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this});oe.prototype.ceil=s(23,function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this});pe.prototype.ceil=s(22,function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this});
jd.prototype.setInterval=s(21,function(a){this.xd=a;this.w&&this.enabled?(this.stop(),this.start()):this.w&&this.stop()});U.prototype.gk=s(20,function(a){for(var b=[];ll(this);)b.push(this.removeChild(W(this,0),a));return b});ri.prototype.Eh=s(19,function(a){this.Pm=a;this.c()&&this.me()});ni.prototype.search=s(18,function(a,b,c,d){return this.getEntries("/entries?query\x3d"+encodeURIComponent(a),b,c,d)});Aj.prototype.removeItem=s(17,function(a){(a=this.removeChild(a,!0))&&a.j()});
Ej.prototype.removeItem=s(16,function(a){(a=Gj(this).removeChild(a,!0))&&a.j()});Ij.prototype.removeItem=s(15,function(a){a&&Ta(this.Ra,a)&&a==this.na&&(this.na=null,this.dispatchEvent("select"))});Lj.prototype.removeItem=s(14,function(a){Lj.a.removeItem.call(this,a);this.O&&this.O.removeItem(a)});fe.prototype.km=s(8,function(a){$d(a.target)?(this.dispatchEvent(ie),document.location.reload()):this.dispatchEvent(je)});jf.prototype.reset=s(6,function(){this.wa&&this.wa.reset()});
of.prototype.reset=s(5,function(){V(this,function(a){"function"==typeof a.reset&&a.reset()},this)});Vf.prototype.reset=s(4,function(){this.P("")});Wg.prototype.reset=s(3,function(a){this.Nl=a;for(a=0;a<this.Xa.length;a++){var b=this.rd.id;b&&this.re.Nb(b);this.rd.Nb(this.Xa[a])}this.Xa.length=0;this.Vc.clear();this.Ih=C();this.ql=this.Lk=this.Un=this.Mh=this.Nh=0;b=this.Ld.rb();for(a=0;a<b.length;a++){var c=this.Ld.get(b[a]);c.count=0;c.time=0;c.fg=0;this.Ck.Nb(c)}this.Ld.clear()});
Dh.prototype.reset=s(2,function(){this.set(C())});zi.prototype.reset=s(1,function(){this.c().value=""});Rj.prototype.reset=s(0,function(){this.Tf(0)});function ml(a,b){a.Gb&&a.Gb.j();var c=new jl(b);c.ma(a.Kf);G(a.jd,function(a){a=new a(b,c);c.jd.push(a);c.v&&(a.Qa(),a.mj&&gl(c,a))},a);a.Gb=c}function nl(){var a,b=ni.h();a||(a=new ii);a.Yg=!0;var c=new Nd;c.b("complete",function(b){b=oi(ae(b.target));hi(a,b);mi(a)},!1,b);c.send("/entries");return a}
function ol(a,b){for(var c=a.Ba,d=A(c)?c.split(""):c,f=c.length-1;0<=f;--f)f in d&&b.call(void 0,d[f],f,c)}function pl(a){a=a.Vb.locale;return x(a)?a:"en"}var ql=/&([^;\s<&]+);?/g,rl={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"};function sl(a){for(var b in a)return!1;return!0}
function tl(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}
function ul(a){var b={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'},c=document.createElement("div");return a.replace(ql,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})}function vl(a,b){var c=wl.h().pk,d={title:b||a,type:"request",query:a};xl(c,c.Ta.Ia(),d);c.ne()}function yl(a,b){var c=wl.h();zl(c.Jj,a,b)}
function Al(a){return ni.h().search(a,void 0,void 0,void 0)}function Bl(a){a=new a;var b=Ch.h();a.Ea(b)}function Cl(a,b){null!=a&&this.append.apply(this,arguments)}p=Cl.prototype;p.va="";p.set=function(a){this.va=""+a};p.append=function(a,b,c){this.va+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.va+=arguments[d];return this};p.clear=function(){this.va=""};p.toString=e("va");function Dl(a,b){var c="";b&&(c=b.id);X(a,"activedescendant",c)}
function El(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity\x3d"+100*b+")")}function Fl(a){if(fa(a))return Xa(a);a=ud(a);var b=[];vd(a,function(a){b.push(a)});return b}function Gl(a){this.yh=a}Gl.prototype.dc=function(a){var b=[];Hl(this,a,b);return b.join("")};
function Hl(a,b,c){switch(typeof b){case "string":Il(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(y(b)){var d=b.length;c.push("[");for(var f="",g=0;g<d;g++)c.push(f),f=b[g],Hl(a,a.yh?a.yh.call(b,String(g),f):f,c),f=",";c.push("]");break}c.push("{");d="";for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(f=b[g],"function"!=typeof f&&(c.push(d),Il(g,c),
c.push(":"),Hl(a,a.yh?a.yh.call(b,g,f):f,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}function Il(a,b){b.push('"',a.replace(nd,function(a){if(a in rl)return rl[a];var b=a.charCodeAt(0),f="\\u";16>b?f+="000":256>b?f+="00":4096>b&&(f+="0");return rl[a]=f+b.toString(16)}),'"')}function Jl(a){a.preventDefault()}function Kl(a,b){a=a.parentNode;for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}
function Ll(a,b,c){return cc(document,arguments)}function Ml(a){var b=!H(Db(a),"visible");Hb(a,"visible",b)}function Nl(a){return/^[\s\xa0]*$/.test(null==a?"":String(a))}function Ol(a,b){for(var c=a.split("%s"),d="",f=Array.prototype.slice.call(arguments,1);f.length&&1<c.length;)d+=c.shift()+f.shift();return d+c.join("%s")};function Pl(a,b){P.call(this,"navigate");this.ur=a;this.cs=b}D(Pl,P);function Ql(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};function Rl(a,b,c,d){R.call(this);if(a&&!b)throw Error("Can't use invisible history without providing a blank page.");var f;c?f=c:(f="history_state"+Sl,document.write(Ol(Tl,f,f)),f=Vb(document,f));this.zf=f;this.H=c?N(c)?N(c).parentWindow||N(c).defaultView:window:window;this.Ug=b;I&&!b&&(this.Ug="https"==window.location.protocol?"https:///":'javascript:""');this.w=new jd(Ul);Cc(this,this.w);this.Od=!a;this.s=new S(this);if(a||Vl)d?a=d:(a="history_iframe"+Sl,b=this.Ug?'src\x3d"'+za(this.Ug)+'"':"",
document.write(Ol(Wl,a,b)),a=Vb(document,a)),this.se=a,this.Xn=!0;Vl&&(this.s.b(this.H,"load",this.Mq),this.Bn=this.Ii=!1);this.Od?Xl(this,this.zb(),!0):Yl(this,this.zf.value);Sl++}D(Rl,R);Rl.prototype.ha=!1;Rl.prototype.Be=!1;Rl.prototype.ze=null;
var Zl=function(a,b){var c=b||Ql;return function(){var b=this||t,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),f=c(ka(a),arguments);return b.hasOwnProperty(f)?b[f]:b[f]=a.apply(this,arguments)}}(function(){return I?8<=document.documentMode:"onhashchange"in t}),Vl=I&&!xb(8),$l=Vl;p=Rl.prototype;p.Ae=null;p.e=function(){Rl.a.e.call(this);this.s.j();this.za(!1)};
p.za=function(a){if(a!=this.ha)if(Vl&&!this.Ii)this.Bn=a;else if(a)if(lb?this.s.b(this.H.document,am,this.Tq):J&&this.s.b(this.H,"pageshow",this.ph),Zl()&&this.Od)this.s.b(this.H,"hashchange",this.Nq),this.ha=!0,this.dispatchEvent(new Pl(this.zb(),!1));else{if(!I||this.Ii)this.s.b(this.w,kd,B(this.hd,this,!0)),this.ha=!0,Vl||(this.ze=this.zb(),this.dispatchEvent(new Pl(this.zb(),!1))),this.w.start()}else this.ha=!1,this.s.ub(),this.w.stop()};
p.Mq=function(){this.Ii=!0;this.zf.value&&Yl(this,this.zf.value,!0);this.za(this.Bn)};p.ph=function(a){a.Pa.persisted&&(this.za(!1),this.za(!0))};p.Nq=function(){var a=bm(this.H);a!=this.ze&&this.Nd(a,!0)};p.zb=function(){return null!=this.Ae?this.Ae:this.Od?bm(this.H):cm(this)||""};p.Fh=function(a,b){dm(this,a,!1,b)};p.mn=function(a,b){dm(this,a,!0,b)};function bm(a){a=a.location.href;var b=a.indexOf("#");return 0>b?"":a.substring(b+1)}
function dm(a,b,c,d){a.zb()!=b&&(a.Od?(Xl(a,b,c),Zl()||I&&Yl(a,b,c,d),a.ha&&a.hd(!1)):(Yl(a,b,c),a.Ae=a.ze=a.zf.value=b,a.dispatchEvent(new Pl(b,!1))))}function Xl(a,b,c){a=a.H.location;var d=a.href.split("#")[0],f=Ga(a.href,"#");if($l||f||b)d+="#"+b;d!=a.href&&(c?a.replace(d):a.href=d)}
function Yl(a,b,c,d){if(a.Xn||b!=cm(a))if(a.Xn=!1,b=encodeURIComponent(String(b)),I){var f=a.se.contentDocument||a.se.contentWindow.document;f.open("text/html",c?"replace":void 0);f.write(Ol(em,za(d||a.H.document.title),b));f.close()}else if(b=a.Ug+"#"+b,a=a.se.contentWindow)c?a.location.replace(b):a.location.href=b}
function cm(a){if(I)return a=a.se.contentDocument||a.se.contentWindow.document,a.body?ya(a.body.innerHTML):null;var b=a.se.contentWindow;if(b){var c;try{c=ya(bm(b))}catch(d){return a.Be||(!0!=a.Be&&a.w.setInterval(fm),a.Be=!0),null}a.Be&&(!1!=a.Be&&a.w.setInterval(Ul),a.Be=!1);return c||null}return null}p.hd=function(a){if(this.Od){var b=bm(this.H);b!=this.ze&&this.Nd(b,a)}if(!this.Od||Vl)if(b=cm(this)||"",null==this.Ae||b==this.Ae)this.Ae=null,b!=this.ze&&this.Nd(b,a)};
p.Nd=function(a,b){this.ze=this.zf.value=a;this.Od?(Vl&&Yl(this,a),Xl(this,a)):Yl(this,a);this.dispatchEvent(new Pl(this.zb(),b))};p.Tq=function(){this.w.stop();this.w.start()};var am=["mousedown","keydown","mousemove"],em="\x3ctitle\x3e%s\x3c/title\x3e\x3cbody\x3e%s\x3c/body\x3e",Wl='\x3ciframe id\x3d"%s" style\x3d"display:none" %s\x3e\x3c/iframe\x3e',Tl='\x3cinput type\x3d"text" name\x3d"%s" id\x3d"%s" style\x3d"display:none"\x3e',Sl=0,Ul=150,fm=1E4;function gm(a,b){R.call(this);this.H=a||window;this.Oh=b||null;Q(this.H,"popstate",this.Je,!1,this);Q(this.H,"hashchange",this.Je,!1,this)}D(gm,R);p=gm.prototype;p.ha=!1;p.eg=!0;p.Lf="/";p.za=function(a){a!=this.ha&&(this.ha=a)&&this.dispatchEvent(new Pl(this.zb(),!1))};p.zb=function(){if(this.eg){var a=this.H.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)}return this.Oh?this.Oh.ks(this.Lf,this.H.location):this.H.location.pathname.substr(this.Lf.length)};
p.Fh=function(a,b){a!=this.zb()&&(this.H.history.pushState(null,b||this.H.document.title||"",hm(this,a)),this.dispatchEvent(new Pl(a,!1)))};p.mn=function(a,b){this.H.history.replaceState(null,b||this.H.document.title||"",hm(this,a));this.dispatchEvent(new Pl(a,!1))};p.e=function(){$c(this.H,"popstate",this.Je,!1,this);this.eg&&$c(this.H,"hashchange",this.Je,!1,this)};p.kr=function(a){this.eg!=a&&(a?Q(this.H,"hashchange",this.Je,!1,this):$c(this.H,"hashchange",this.Je,!1,this),this.eg=a)};
function hm(a,b){return a.eg?"#"+b:a.Oh?a.Oh.Mr(b,a.Lf,a.H.location):a.Lf+b+a.H.location.search}p.Je=function(){this.ha&&this.dispatchEvent(new Pl(this.zb(),!0))};function im(a,b,c){this.pattern=a;this.gd=b;this.oe=c;this.ol=!0}function jm(){R.call(this);this.sa=new S(this);this.sa.b(document,"click",this.kp);this.yj=!1;this.pn=[];this.dg=""}D(jm,R);w(jm);jm.prototype.Ea=function(a){var b=window,b=b.history&&b.history.pushState?new gm:new Rl;b.Lf=a.path_prefix;b.za(!0);this.tm=b;b.kr||(a=b.zb(),this.navigate(""),this.navigate(a));this.sa.b(b,"navigate",this.Ip,!1,this)};
jm.prototype.kp=function(a){if(0==a.button){var b=a.target.href?a.target:Kl(a.target,function(a){return a.href?!0:!1});b&&b.href&&("redirect"!=b.rel&&"_blank"!=b.target)&&(a.preventDefault(),a=Ld(Md(5,b.href))||"",this.navigate(a))}};jm.prototype.Ip=function(a){if(!this.yj){var b=a.ur;b!=this.dg&&(a=Qa(this.pn,function(a){var d=a.pattern.exec(b);d?(a.gd.apply(a.oe,d),a=!0):a=!1;return a},this))&&(a.ol?(this.dispatchEvent(km),lm(this,b)):lm(this,this.dg,!0))}};
function mm(a,b,c,d,f){A(b)&&(b=RegExp("^"+Ha(b).replace(/\\:\w+/g,"(\\w+)").replace(/\\\*/g,"(.*)").replace(/\\\[/g,"(").replace(/\\\]/g,")?").replace(/\\\{/g,"(?:").replace(/\\\}/g,")?")+"$"));b=new im(b,c,d);x(f)&&(b.ol=f);a.pn.push(b)}jm.prototype.navigate=function(a){"/"==a.substr(0,1)&&(a=a.substr(1));this.tm.Fh(a)};function lm(a,b,c){a.dg=b;c&&("/"==b.substr(0,1)&&(b=b.substr(1)),a.yj=!0,a.tm.mn(b),a.yj=!1)}var km="navigate";function nm(){U.call(this)}D(nm,U);function om(a,b,c){R.call(this);this.target=a;this.handle=b||a;this.Lm=c||new pe(NaN,NaN,NaN,NaN);this.A=N(a);this.s=new S(this);Cc(this,this.s);Q(this.handle,["touchstart","mousedown"],this.Qe,!1,this)}D(om,R);var pm=I||J&&L("1.9.3");p=om.prototype;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.Mn=0;p.Nn=0;p.Yd=0;p.Zd=0;p.ha=!0;p.od=!1;p.qj=0;p.Hq=0;p.sq=!1;p.Th=!1;p.i=e("s");p.tk=function(a){this.qj=Math.pow(a,2)};p.yn=ba("Ch");p.za=ba("ha");
p.e=function(){om.a.e.call(this);$c(this.handle,["touchstart","mousedown"],this.Qe,!1,this);this.s.ub();pm&&this.A.releaseCapture();this.handle=this.target=null};function qm(a){x(a.Qb)||(a.Qb=Ae(a.target));return a.Qb}
p.Qe=function(a){var b="mousedown"==a.type;if(!this.ha||this.od||b&&!Ic(a))this.dispatchEvent("earlycancel");else{rm(a);if(0==this.qj)if(this.dispatchEvent(new sm("start",this,a.clientX,a.clientY,a)))this.od=!0,a.preventDefault();else return;else a.preventDefault();var b=this.A,c=b.documentElement,d=!pm;this.s.b(b,["touchmove","mousemove"],this.Sp,d);this.s.b(b,["touchend","mouseup"],this.qd,d);pm?(c.setCapture(!1),this.s.b(c,"losecapture",this.qd)):this.s.b(b?b.parentWindow||b.defaultView:window,
"blur",this.qd);I&&this.sq&&this.s.b(b,"dragstart",Jl);this.Ch&&this.s.b(this.Ch,"scroll",this.en,d);this.clientX=this.Mn=a.clientX;this.clientY=this.Nn=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Th?(a=this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=te(a,"position")||(c=N(a).documentElement),c?(J?(d=De(c),b+=d.left):xb(8)&&(d=De(c),b-=d.left),a=Ae(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.Yd=a;this.Zd=this.target.offsetTop;this.ak=wc(Tb(this.A));
this.Hq=C()}};p.qd=function(a,b){this.s.ub();pm&&this.A.releaseCapture();if(this.od){rm(a);this.od=!1;var c=tm(this,this.Yd),d=um(this,this.Zd);this.dispatchEvent(new sm("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function rm(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.Qa(a.Pa.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.Qa(a.Pa.changedTouches[0],a.currentTarget)}
p.Sp=function(a){if(this.ha){rm(a);var b=(this.Th&&qm(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.od){var d=this.Mn-this.clientX,f=this.Nn-this.clientY;if(d*d+f*f>this.qj)if(this.dispatchEvent(new sm("start",this,a.clientX,a.clientY,a)))this.od=!0;else{this.Ic||this.qd(a);return}}c=vm(this,b,c);b=c.x;c=c.y;this.od&&this.dispatchEvent(new sm("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(wm(this,a,b,c),a.preventDefault())}};function vm(a,b,c){var d=wc(Tb(a.A));b+=d.x-a.ak.x;c+=d.y-a.ak.y;a.ak=d;a.Yd+=b;a.Zd+=c;b=tm(a,a.Yd);a=um(a,a.Zd);return new M(b,a)}p.en=function(a){var b=vm(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;wm(this,a,b.x,b.y)};function wm(a,b,c,d){a.Th&&qm(a)?a.target.style.right=c+"px":a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new sm("drag",a,b.clientX,b.clientY,b,c,d))}
function tm(a,b){var c=a.Lm,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function um(a,b){var c=a.Lm,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function sm(a,b,c,d,f,g,h,k){P.call(this,a);this.clientX=c;this.clientY=d;this.ll=f;this.left=x(g)?g:b.Yd;this.top=x(h)?h:b.Zd;this.Vo=b;this.Uo=!!k}D(sm,P);function xm(){R.call(this);this.Oa=[];this.ee=[];this.Ki={};this.s=new S(this);this.vq=this.Am=!1;this.Ok=!0}D(xm,R);p=xm.prototype;p.um=0;p.tk=ba("um");
p.Qa=function(){if(!this.Am){for(var a=0,b=this.Oa.length;a<b;a++)for(var c=jc(this.Oa[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,k=ka(h);this.Ki[k]=g;this.Tl&&(this.s.b(g,"mouseover",this.yp),this.s.b(g,"mouseout",this.xp));this.Sl&&(this.s.b(h,"mouseover",this.wp),this.s.b(h,"mouseout",this.vp));this.ee.push(g);this.s.b(h,["mousedown","touchstart"],this.Vp)}this.Am=!0}};
p.e=function(){this.s.j();for(var a=0,b=this.Oa.length;a<b;a++){var c=this.Oa[a];c.Rl=void 0;c.nd=void 0}this.Oa.length=0;this.ee.length=0;this.Ki=null;ym(this);xm.a.e.call(this)};function zm(a,b){for(var c=0,d=a.Oa.length;c<d;c++){var f=a.Oa[c];f.ce=He(f)}c=0;for(d=a.ee.length;c<d;c++)f=a.ee[c],f!=b&&(f.ce=He(f))}
p.Vp=function(a){var b=ka(a.currentTarget);this.u=this.Ki[b];this.ca=this.ti(this.u);this.Wo&&bf(this.ca,this.Wo||[]);this.ca.style.margin="0";this.ca.style.position="absolute";this.ca.style.visibility="hidden";N(this.u).body.appendChild(this.ca);b=ze(this.u);Ee(this.ca,b);this.Z=new om(this.ca);this.Z.tk(this.um);Q(this.Z,"start",this.Mg,!1,this);Q(this.Z,"end",this.Lg,!1,this);Q(this.Z,"earlycancel",this.si,!1,this);this.Z.Qe(a)};
p.Mg=function(a){if(this.dispatchEvent(new Am("beforedragstart",this,a.ll,this.u,null,null))){this.rh=this.u.parentNode;this.Hl=this.Zj=void 0!=this.u.nextElementSibling?this.u.nextElementSibling:lc(this.u.nextSibling,!0);this.Bi=this.rh;this.Ai?bf(this.u,this.Ai||[]):this.u.style.visibility="hidden";var b=Fe(this.ca);this.ca.jp=b.width/2;this.ca.ip=b.height/2;this.ca.style.visibility="";this.Ok&&(this.u.style.display="none");zm(this,this.u);this.u.style.display="";Q(this.Z,"drag",this.zp,!1,this);
this.dispatchEvent(new Am("dragstart",this,a.ll,this.u,this.ca,this.Z))}else a.preventDefault(),this.si()};
p.zp=function(a){var b=ze(this.ca),b=new M(b.x+this.ca.jp,b.y+this.ca.ip),c;a:{c=null;if("none"!=this.u.style.display){c=this.u.parentNode;var d=He(c);if(Bm(b,d))break a}for(var d=0,f=this.Oa.length;d<f;d++){var g=this.Oa[d];if(g!=c&&Bm(b,g.ce)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var k,l,d=!1,f=void 0;switch(c.Rl){case 0:h=b.y;k=Cm;l=Dm;break;case 4:d=!0;case 2:h=b.x;k=Em;l=Dm;break;case 5:d=!0;case 3:h=b.x,k=Fm,l=Gm}for(var g=null,
n,q=jc(c),v=0,Va=q.length;v<Va;v++){var oa=q[v];if(oa!=this.u){var Da=k(oa.ce);if(d){var Pa=Hm(oa,b);x(f)||(f=Pa);l(h,Da)&&(void 0==n||Pa<f||Pa==f&&(l(Da,n)||Da==n))&&(g=oa,n=Da);Pa<f&&(f=Pa)}else l(h,Da)&&(void 0==n||l(Da,n))&&(g=oa,n=Da)}}h=null!==g&&Hm(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new Am("beforedragmove",this,a,this.u,this.ca,this.Z,b,c,h)))return!1;if(c)this.Ok?this.u.parentNode==c&&(void 0!=this.u.nextElementSibling?this.u.nextElementSibling:lc(this.u.nextSibling,!0))==h||
c.insertBefore(this.u,h):h&&(this.Hl=h),this.u.style.display="",c.nd&&af(c,c.nd);else for(this.vq||(this.u.style.display="none"),k=0,l=this.Oa.length;k<l;k++)n=this.Oa[k],n.nd&&cf(n,n.nd);c!=this.Bi&&(this.Bi=c,zm(this,this.u));this.dispatchEvent(new Am("dragmove",this,a,this.u,this.ca,this.Z,b,c,h));return!1};p.si=function(){ym(this);this.Z=this.ca=this.Zj=this.rh=this.Bi=this.u=null;for(var a=0,b=this.Oa.length;a<b;a++)this.Oa[a].ce=null;a=0;for(b=this.ee.length;a<b;a++)this.ee[a].ce=null};
p.Lg=function(a){if(!this.dispatchEvent(new Am("beforedragend",this,a,this.u,this.ca,this.Z)))return!1;this.Ok||this.rh.insertBefore(this.u,this.Hl);ym(this);this.dispatchEvent(new Am("dragend",this,a,this.u,this.ca,this.Z));this.si();return!0};function ym(a){Dc(a.Z);a.ca&&ic(a.ca);a.u&&"none"==a.u.style.display&&(a.rh.insertBefore(a.u,a.Zj),a.u.style.display="");a.Ai&&a.u?df(a.u,a.Ai||[]):a.u&&(a.u.style.visibility="visible");for(var b=0,c=a.Oa.length;b<c;b++){var d=a.Oa[b];d.nd&&cf(d,d.nd)}}
p.yp=function(a){bf(a.currentTarget,this.Tl||[])};p.xp=function(a){df(a.currentTarget,this.Tl||[])};p.wp=function(a){bf(a.currentTarget,this.Sl||[])};p.vp=function(a){df(a.currentTarget,this.Sl||[])};function Bm(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Hm(a,b){var c=a.ce;return Math.abs(b.y-(c.top+(c.height-1)/2))}function Cm(a){return a.top+a.height-1}function Em(a){return a.left+a.width-1}function Fm(a){return a.left||0}function Dm(a,b){return a<b}
function Gm(a,b){return a>b}p.ti=function(a){var b=a.cloneNode(!0);switch(a.tagName.toLowerCase()){case "tr":return Ll("table",null,Ll("tbody",null,b));case "td":case "th":return Ll("table",null,Ll("tbody",null,Ll("tr",null,b)));default:return b}};function Am(a,b,c,d,f,g,h,k,l){P.call(this,a);this.Rr=b;this.event=c;this.Or=d;this.Tr=f;this.Vo=g;this.Ur=h;this.$r=k;this.as=l}D(Am,P);var Im,Jm;function kl(a){var b=a.getTime(),c;c=C();var d=Math.floor((c-b)/6E4);c=!1;0>d&&(c=!0,d*=-1);60>d?c=Km(d,c,0):(d=Math.floor(d/60),24>d?c=Km(d,c,1):(d=new Date(C()),d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0),d=Math.ceil((d.getTime()-b)/864E5),c&&(d*=-1),c=14>d?Km(d,c,2):""));c&&(c=" ("+c+")");1440>Math.floor((C()-b)/6E4)?(Jm||(Jm=new Vj(7)),a=Xj(Jm,a)+c):(Im||(Im=new Vj(0)),a=Xj(Im,a)+c);return a}
function Km(a,b,c){var d=Zj(""+a);return b||0!=c?b&&0==c?1==a?"in "+(d+" minute"):"in "+(d+" minutes"):b||1!=c?b&&1==c?1==a?"in "+(d+" hour"):"in "+(d+" hours"):b||2!=c?b&&2==c?1==a?"in "+(d+" day"):"in "+(d+" days"):"":1==a?d+" day ago":d+" days ago":1==a?d+" hour ago":d+" hours ago":1==a?d+" minute ago":d+" minutes ago"};function ji(){R.call(this);this.Mi={}}D(ji,R);w(ji);ji.prototype.get=function(a){return this.Mi[a]||null};ji.prototype.set=function(a,b){this.Mi[a]=b;b.Sb(this)};ji.prototype.remove=function(a){return Pb(this.Mi,a)};function Lm(a,b){this.hc=a||"";this.mf=b||null;this.Vf=[];this.tg=[];this.Eq=[];this.wq=[];this.pi={};this.rk={}}Lm.prototype.jr=function(a){this.hc=a;this.rk={};this.pi={};a=twttr.txt.extractHashtagsWithIndices(this.hc);this.Vf=[];this.tg=[];for(var b=0;b<a.length;b++){var c=a[b],d=this.hc.slice(c.bs[1]),d=/^:(?:(?:"([^"]*)")|([^\s"]+))/g.exec(d),f=null;null!==d&&(f=d[1]?d[1]:d[2],void 0===f&&(f=""));d=f;null===d?-1==this.Vf.indexOf(c.rm)&&this.Vf.push(c.rm):this.tg.push({key:c.rm,value:d})}};
Lm.prototype.em=function(a){var b=this.pi[a];x(b)||(b=(new a).parse(this),this.pi[a]=b);return b};function Mm(a,b){R.call(this);this.$b=a;this.Gf=this.$b.Lc();this.is=this.$b.Lc();this.ac=b;this.Bm=!1;this.Sb(ji.h())}D(Mm,R);Mm.prototype.he=e("ac");Mm.prototype.toString=function(){if(!this.Bm){this.dispatchEvent(Nm);for(var a=this.Gf,b=this.ac.Vf,c=0;c<b.length;c++)var d="#"+b[c],a=a.replace(d,'\x3ca class\x3d"hash-link simple" href\x3d"/search/'+encodeURIComponent(b[c])+'"\x3e'+d+"\x3c/a\x3e");this.Gf=a;this.Bm=!0}return this.Gf};var Nm="entry_text_parse";function Om(a){R.call(this);var b;if(x(a)){var c=ji.h();if(b=c.get(a))return b;c.set(a,this)}this.ja=a||"";this.hc="";this.wn=this.Hk=this.ac=this.yi=null}D(Om,de);function pi(a){var b=new Om(a._id);b.update(a);b.wn=a;return b}p=Om.prototype;p.aa=e("ja");p.yk=function(a){this.hc=a;this.Hk=null;this.dispatchEvent(ki)};p.Lc=e("hc");
p.he=function(){if(!this.ac){var a=this.ac=new Lm(this.hc,this),b=this.wn||{};a.rk=b;x(b.simple_tags)&&(a.Vf=b.simple_tags);x(b.complex_tags)&&(a.tg=b.complex_tags);x(b.mentions)&&(a.Eq=b.mentions);x(b.keywords)&&(a.wq=b.keywords)}return this.ac};function Pm(a){return a.Hk||(a.Hk=new Mm(a,a.he()))}p.save=function(a,b){var c=ni.h();this.aa()?c.save(this,a,b):c.save(this,function(){ji.h().set(this.aa(),this);this.dispatchEvent(li);ha(a)&&a.call(b,this)},this)};
p.ae=function(){var a=ni.h();this.ja&&(a.ae(this),this.ja="");this.dispatchEvent("destroy")};p.update=function(a){var b={};x(a._id)&&(b.ja=a._id);x(a.text)&&(b.hc=a.text);x(a.created_date)&&(b.yi=A(a.created_date)?Gi(a.created_date):a.created_date);Om.a.update.call(this,b)};p.dc=function(){return{text:this.hc}};var li="entry_created",ki="text_changed";function Qm(a){var b='\x3cli class\x3d"entry"\x3e\x3cdiv class\x3d"entry-actions"\x3e\x3ca class\x3d"action-edit" href\x3d"'+ig(a.Xo)+'"\x3e\x3c/a\x3e\x3ca class\x3d"action-delete" href\x3d"'+ig(a.So)+'"\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-body"\x3e',c;c=(c=a.body)&&c.vg===dg?"zSoyz":String(c);return b+c+'\x3c/div\x3e\x3cdiv class\x3d"entry-info"\x3e\x3cspan class\x3d"entry-date"\x3e'+ig(a.o)+"\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e"};function Rm(a){U.call(this);this.bb=a}D(Rm,U);Rm.prototype.f=function(){var a=this.bb,b=kl(a.yi),a={Xo:"/edit/"+a.aa(),So:"/delete/"+a.aa(),body:Pm(a).toString(),o:b},a=eg(Qm,a);this.n(a)};Rm.prototype.g=function(){Rm.a.g.call(this);var a=this.bb;this.i().b(a,ki,this.vd);Pm(a).dispatchEvent({type:"entry_display",ms:this})};Rm.prototype.vd=function(){var a=Pm(this.bb).toString();this.J("entry-body").innerHTML=a};function Sm(a){U.call(this);this.lf=a;this.lf.forEach(function(a){Tm(this,a)},this);this.Hi=new xm;this.Hi.tk(10)}D(Sm,U);p=Sm.prototype;p.f=function(){var a=this.r().f("ul","entry-list");this.n(a)};p.g=function(){Sm.a.g.call(this);this.Eh();this.i().b(this.lf,di,this.Ap).b(this.lf,gi,this.Ep).b(Hh,"resize",this.Eh);var a=this.c(),b=this.Hi;window.setTimeout(function(){a.Rl=0;a.nd=void 0;b.Oa.push(a);b.Qa()},1E3)};p.Eh=function(){var a=this.c(),b=ac(window),c=ze(a).y;qe(a,"height",b.height-c+"px")};
p.Ap=function(a){Tm(this,a.item,a.index)};p.Ep=function(a){(a=this.removeChild(W(this,a.index),!0))&&a.j()};function Tm(a,b,c){b=new Rm(b);ga(c)?a.jc(b,c,!0):a.Y(b,!0)}p.e=function(){this.Hi.j()};function Um(a){U.call(this);this.bd=new Vf;Wf(this.bd,"Add Entry...");this.Rn=a||""}D(Um,U);p=Um.prototype;p.f=function(){var a=this.r(),a=a.f("div","quick-create-entry",[a.f("div","actions")]);this.n(a)};p.n=function(a){Um.a.n.call(this,a);this.Y(this.bd,!0)};p.g=function(){Um.a.g.call(this);this.i().b(this.bd,"submit",this.bq).b(this.bd,"focus",this.ud)};p.ud=function(){!this.bd.t()&&this.Rn&&this.bd.P(this.Rn+" ")};p.bq=function(){var a=this.bd.t();if(a){var b=new Om;b.yk(a);b.save();this.bd.reset()}};function Vm(a){return'\x3cdiv class\x3d"entry-list-container"\x3e\x3cdiv class\x3d"entry-list-actions"\x3e\x3cdiv class\x3d"action action-close" title\x3d"Schließen" data-action\x3d"close"\x3e\x3c/div\x3e\x3cdiv class\x3d"action action-toggle" data-action\x3d"toggle"\x3e\x3c/div\x3e\x3cul class\x3d"entry-list-menu"\x3e\x3cli class\x3d"action-save" data-action\x3d"save"\x3eSpeichern\x3c/li\x3e\x3cli class\x3d"action-delete" data-action\x3d"delete"\x3eAlle löschen\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3ch3\x3e'+
ig(a.title)+"\x3c/h3\x3e\x3c/div\x3e"};function Wm(a,b){U.call(this);this.Ni=new Sm(a);this.Zq=new Um;this.Ub=b||a.je()}D(Wm,U);p=Wm.prototype;p.f=function(){var a=eg(Vm,{title:this.Ub});this.n(a)};p.n=function(a){Wm.a.n.call(this,a);this.Y(this.Zq,!0);this.Y(this.Ni,!0)};p.g=function(){Wm.a.g.call(this);this.i().b(this.J("entry-list-actions"),"click",this.lp)};p.Jk=function(){var a=this.J("entry-list-menu");Ml(a);H(Db(a),"visible")?this.i().b(document.body,"click",this.Jk,!0):this.i().G(document.body,"click",this.Jk,!0)};p.je=function(){return this.Ni.lf.je()};
p.lp=function(a){switch(a.target.getAttribute("data-action")){case "toggle":this.Jk();break;case "close":this.close();break;case "save":vl(this.je(),this.Ub);break;case "delete":ol(this.Ni.lf,function(a){a.ae()}),this.close()}};p.close=function(){this.getParent().removeChild(this);this.j()};function Xm(a){this.lh=a;this.hr=new Gl}Xm.prototype.set=function(a,b){x(b)?this.lh.set(a,this.hr.dc(b)):this.lh.remove(a)};Xm.prototype.get=function(a){var b;try{b=this.lh.get(a)}catch(c){return}if(null!==b)try{return md(b)}catch(d){throw"Storage: Invalid value was encountered";}};Xm.prototype.remove=function(a){this.lh.remove(a)};function Ym(){};function Zm(a){Xm.call(this,a)}D(Zm,Xm);function $m(a){this.data=a}function an(a){return!x(a)||a instanceof $m?a:new $m(a)}Zm.prototype.set=function(a,b){Zm.a.set.call(this,a,an(b))};Zm.prototype.cj=function(a){a=Zm.a.get.call(this,a);if(!x(a)||a instanceof Object)return a;throw"Storage: Invalid value was encountered";};Zm.prototype.get=function(a){if(a=this.cj(a)){if(a=a.data,!x(a))throw"Storage: Invalid value was encountered";}else a=void 0;return a};function bn(a){Xm.call(this,a)}D(bn,Zm);bn.prototype.set=function(a,b,c){if(b=an(b)){if(c){if(c<C()){bn.prototype.remove.call(this,a);return}b.expiration=c}b.creation=C()}bn.a.set.call(this,a,b)};bn.prototype.cj=function(a,b){var c=bn.a.cj.call(this,a);if(c){var d;if(d=!b){d=c.creation;var f=c.expiration;d=!!f&&f<C()||!!d&&d>C()}if(d)bn.prototype.remove.call(this,a);else return c}};function cn(){}D(cn,Ym);cn.prototype.M=function(){var a=0;vd(this.Eb(!0),function(){a++});return a};cn.prototype.clear=function(){var a=Fl(this.Eb(!0)),b=this;G(a,function(a){b.remove(a)})};function dn(a){this.Cb=a}D(dn,cn);p=dn.prototype;p.xj=function(){if(!this.Cb)return!1;try{return this.Cb.setItem("__sak","1"),this.Cb.removeItem("__sak"),!0}catch(a){return!1}};p.set=function(a,b){try{this.Cb.setItem(a,b)}catch(c){if(0==this.Cb.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};p.get=function(a){a=this.Cb.getItem(a);if(!A(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};p.remove=function(a){this.Cb.removeItem(a)};
p.M=function(){return this.Cb.length};p.Eb=function(a){var b=0,c=this.Cb,d=new td;d.next=function(){if(b>=c.length)throw sd;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!A(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};p.clear=function(){this.Cb.clear()};p.key=function(a){return this.Cb.key(a)};function en(){var a=null;try{a=window.localStorage||null}catch(b){}this.Cb=a}D(en,dn);function fn(a,b){if(I&&!xb(9)){gn||(gn=new wd);this.gb=gn.get(a);this.gb||(b?this.gb=document.getElementById(b):(this.gb=document.createElement("userdata"),this.gb.addBehavior("#default#userData"),document.body.appendChild(this.gb)),gn.set(a,this.gb));this.Re=a;try{this.gb.load(this.Re)}catch(c){this.gb=null}}}D(fn,cn);var hn={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},gn=null;p=fn.prototype;p.gb=null;p.Re=null;
function jn(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return hn[a]})}p.xj=function(){return!!this.gb};p.set=function(a,b){this.gb.setAttribute(jn(a),b);kn(this)};p.get=function(a){a=this.gb.getAttribute(jn(a));if(!A(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};p.remove=function(a){this.gb.removeAttribute(jn(a));kn(this)};p.M=function(){return ln(this).attributes.length};
p.Eb=function(a){var b=0,c=ln(this).attributes,d=new td;d.next=function(){if(b>=c.length)throw sd;var d=c[b++];if(a)return decodeURIComponent(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!A(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};p.clear=function(){for(var a=ln(this),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);kn(this)};function kn(a){try{a.gb.save(a.Re)}catch(b){throw"Storage mechanism: Quota exceeded";}}
function ln(a){return a.gb.XMLDocument.documentElement};function mn(a,b){this.De=a;this.Ed=b+"::"}D(mn,cn);p=mn.prototype;p.De=null;p.Ed="";p.set=function(a,b){this.De.set(this.Ed+a,b)};p.get=function(a){return this.De.get(this.Ed+a)};p.remove=function(a){this.De.remove(this.Ed+a)};p.Eb=function(a){var b=this.De.Eb(!0),c=this,d=new td;d.next=function(){for(var d=b.next();d.substr(0,c.Ed.length)!=c.Ed;)d=b.next();return a?d.substr(c.Ed.length):c.De.get(d)};return d};function nn(){var a=new en;(a=a.xj()?new mn(a,"appdata"):null)||(a=new fn("appdata"),a=a.xj()?a:null);Xm.call(this,a)}D(nn,bn);w(nn);function on(){U.call(this);var a=nn.h().get(this.Re);if(a)for(var b=0;b<a.length;b++){var c=a[b],d=ni.h().getEntries(c.searchPattern,void 0,void 0,void 0);zl(this,d,c.title)}else a=nl(),b=Al("#start\x3dtoday"),zl(this,a,"Newest Entries"),zl(this,b,"Dayplanning")}D(on,nm);on.prototype.f=function(){var a=this.r().f("div","view list-view");this.n(a)};function zl(a,b,c){b=new Wm(b,c);a.Y(b,!0);pn(a);qn(a)}on.prototype.removeChild=function(a,b){var c=on.a.removeChild.call(this,a,b);pn(this);qn(this);return c};
function qn(a){var b=We(a);a.c().style.width=ve(300*b,!0)}on.prototype.Re="hash5-listview-opend";function pn(a){var b=[];V(a,function(a){b.push({searchPattern:a.je(),title:a.Ub})});nn.h().set(a.Re,b)};function rn(){U.call(this);this.Me=new Vf;Wf(this.Me,"Search...");this.Zf=null;this.tn=""}D(rn,U);w(rn);p=rn.prototype;p.n=function(a){rn.a.n.call(this,a);this.Me.ma(this.J("search-input"));this.Zf=this.J("search-suggests")};p.g=function(){rn.a.g.call(this);this.i().b(this.Me,"change",this.eq).b(this.Me,"submit",this.Jp)};p.eq=function(){var a=this.Me.t(),b=new ni;3<a.length&&a!=this.tn&&(b.search(a,void 0,this.dq,this),this.Kr=!1);0==a.length&&this.Sg();this.tn=a};
p.Jp=function(){var a=this.Me.t(),b=new ni;3<a.length&&(b.search(a,void 0,function(b){var d=wl.h();zl(d.Jj,b,a)},this),this.Sg())};p.dq=function(a){hc(this.Zf);if(0<a.count()){Fb(this.Zf,"hidden");var b=this.r();a.forEach(function(a){a=b.f("li",void 0,a.Lc());gc(this.Zf,a)},this);this.i().Tc(document.body,"click",this.Sg)}};p.Sg=function(){Fb(this.c(),"visible");Eb(this.Zf,"hidden");this.i().G(document.body,"click",this.Sg)};p.toggle=function(){Ml(this.c())};ef("search-field",function(){return rn.h()});function sn(){return'\x3cdiv class\x3d"settings"\x3e\x3ch2\x3eEinstellungen\x3c/h2\x3e\x3cdiv class\x3d"form-wrapper"\x3e\x3c/div\x3e\x3cbutton class\x3d"btn enabled primary btn-save"\x3eSpeichern\x3c/button\x3e\x3cbutton class\x3d"btn enabled primary btn-cancle"\x3eAbbrechen\x3c/button\x3e\x3c/div\x3e'};function tn(){U.call(this);this.p=new of}D(tn,U);tn.prototype.f=function(){var a=hg(sn);this.n(a);this.Y(this.p);this.p.ma(this.J("form-wrapper"))};tn.prototype.g=function(){tn.a.g.call(this);var a=un.h();a.ba(!0);this.i().b(a,"close",this.close);var a=this.J("btn-save"),b=this.J("btn-cancle");this.i().b(a,"click",this.aq).b(b,"click",this.close);a=pf(this.p,"Sprache","select",{fieldName:"language",options:[{text:"Deutsch",$b:"de"},{text:"English",$b:"en"}]});b=pl(fe.h());a.wa.P(b)};
tn.prototype.aq=function(){var a=this.p.getData(),b=fe.h(),a=a.language;pl(b)!=a&&(b.Vb.locale=a,ke(b,function(){document.location.reload()}));this.close()};tn.prototype.close=function(){un.h().ba(!1);this.j()};function vn(a){R.call(this);this.d=a;a=I?"focusout":"blur";this.yq=Q(this.d,I?"focusin":"focus",this,!I);this.zq=Q(this.d,a,this,!I)}D(vn,R);vn.prototype.handleEvent=function(a){var b=new Gc(a.Pa);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};vn.prototype.e=function(){vn.a.e.call(this);ad(this.yq);ad(this.zq);delete this.d};function wn(a,b,c){U.call(this,c);this.Ua=b||xn;this.qe=a}D(wn,U);var yn={};p=wn.prototype;p.qk=!1;p.of=!1;p.vr=null;p.no="";p.bh=!0;p.zg=-1;p.e=function(){wn.a.e.call(this);this.Ta&&(this.Ta.removeNode(this),this.Ta=null);this.d=null};
p.Wg=function(){var a=this.c();if(a){var b=zn(this);b&&!b.id&&(b.id=this.aa()+".label");Ef(a,"treeitem");X(a,"selected",!1);X(a,"expanded",!1);X(a,"level",this.sd());b&&X(a,"labelledby",b.id);(a=this.Jg())&&Ef(a,"presentation");(a=this.Yi())&&Ef(a,"presentation");if(a=An(this))if(Ef(a,"group"),a.hasChildNodes())for(a=We(this),b=1;b<=a;b++){var c=W(this,b-1).c();X(c,"setsize",a);X(c,"posinset",b)}}};p.f=function(){var a=new Cl;Bn(this,a);var b=this.r();this.d=fc(b.A,a.toString())};
p.g=function(){wn.a.g.call(this);yn[this.aa()]=this;this.Wg()};p.ia=function(){wn.a.ia.call(this);delete yn[this.aa()]};p.jc=function(a,b){var c=W(this,b-1),d=W(this,b);wn.a.jc.call(this,a,b);a.Fd=c;a.Mb=d;c?c.Mb=a:this.$l=a;d?d.Fd=a:this.Fm=a;var f=this.Ia();f&&Cn(a,f);Dn(a,this.sd()+1);if(this.c()&&(this.We(),this.qb())){f=An(this);a.c()||a.f();var g=a.c(),h=d&&d.c();f.insertBefore(g,h);this.v&&a.g();d||(c?c.We():(T(f,!0),this.Zc(this.qb())))}};
p.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.jc(a,b?Xe(this,b):We(this));return a};
p.removeChild=function(a){var b=this.Ia(),c=b?b.Ib():null;if(c==a||a.contains(c))b.hasFocus()?(this.select(),ld(this.Rq,10,this)):this.select();wn.a.removeChild.call(this,a);this.Fm==a&&(this.Fm=a.Fd);this.$l==a&&(this.$l=a.Mb);a.Fd&&(a.Fd.Mb=a.Mb);a.Mb&&(a.Mb.Fd=a.Fd);c=!a.Mb;a.Ta=null;a.zg=-1;if(b&&(b.removeNode(this),this.v)){b=An(this);if(a.v){var d=a.c();b.removeChild(d);a.ia()}c&&(c=W(this,We(this)-1))&&c.We();ll(this)||(b.style.display="none",this.We(),this.Jg().className=this.Ig())}return a};
p.remove=wn.prototype.removeChild;p.Rq=function(){this.select()};p.sd=function(){var a=this.zg;0>a&&(a=(a=this.getParent())?a.sd()+1:0,Dn(this,a));return a};function Dn(a,b){if(b!=a.zg){a.zg=b;var c=En(a);if(c){var d=Math.max(0,(a.sd()-1)*a.Ua.vj)+"px";a.we()?c.style.paddingRight=d:c.style.paddingLeft=d}V(a,function(a){Dn(a,b+1)})}}p.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};p.Vi=function(){var a=[];V(this,function(b){a.push(b)});return a};p.Zg=e("qk");
p.select=function(){var a=this.Ia();a&&a.fc(this)};function Fn(a,b){if(a.qk!=b){a.qk=b;Gn(a);var c=a.c();c&&(X(c,"selected",b),b&&(c=a.Ia().c(),X(c,"activedescendant",a.aa())))}}p.qb=e("of");
p.Zc=function(a){var b=a!=this.of;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){var c;this.of=a;c=this.Ia();var d=this.c();if(ll(this)){if(!a&&(c&&this.contains(c.Ib()))&&this.select(),d){if(c=An(this))if(T(c,a),a&&this.v&&!c.hasChildNodes()){var f=new Cl;V(this,function(a){Bn(a,f)});c.innerHTML=f.toString();V(this,function(a){a.g()})}this.We()}}else(c=An(this))&&T(c,!1);d&&(this.Jg().className=this.Ig(),X(d,"expanded",a));b&&this.dispatchEvent(a?"expand":"collapse")}};p.toggle=function(){this.Zc(!this.qb())};
p.collapse=function(){this.Zc(!1)};p.jk=function(){var a=this.getParent();a&&(a.Zc(!0),a.jk())};function Bn(a,b){var c=a.Ia(),c=!c.Dn||c==a.getParent()&&!c.Fn?a.Ua.Do:a.Ua.Co,d=a.qb()&&ll(a);b.append('\x3cdiv class\x3d"',a.Ua.Mo,'" id\x3d"',a.aa(),'"\x3e',Hn(a),'\x3cdiv class\x3d"',c,'" style\x3d"',"background-position:"+In(a)+";",d?"":"display:none;",'"\x3e');d&&V(a,function(a){Bn(a,b)});b.append("\x3c/div\x3e\x3c/div\x3e")}
function Hn(a){var b=new Cl;b.append('\x3cdiv class\x3d"',a.ie(),'" style\x3d"padding-',a.we()?"right:":"left:",Math.max(0,(a.sd()-1)*a.Ua.vj),'px"\x3e',a.bm(),'\x3cspan style\x3d"display:inline-block" class\x3d"'+a.Ig()+'"\x3e\x3c/span\x3e',Jn(a),"\x3c/div\x3e");return b.toString()}p.ie=function(){return this.Ua.Fl+(this.Zg()?" "+this.Ua.El:"")};
function Jn(a){var b=a.vr,c=new Cl;c.append('\x3cspan class\x3d"',a.Ua.No,'"',b?' title\x3d"'+za(b)+'"':"","\x3e",a.qe,"\x3c/span\x3e","\x3cspan\x3e",a.no,"\x3c/span\x3e");return c.toString()}p.bm=function(){return'\x3cspan type\x3d"expand" style\x3d"display:inline-block" class\x3d"'+Kn(this)+'"\x3e\x3c/span\x3e'};
function Kn(a){var b=a.Ia(),c=!b.Dn||b==a.getParent()&&!b.Fn,d=a.Ua,f=new Cl;f.append(d.Wd," ",d.Eo," ");if(ll(a)){var g=0;b.mr&&a.bh&&(g=a.qb()?2:1);c||(g=a.Mb?g+8:g+4);switch(g){case 1:f.append(d.Io);break;case 2:f.append(d.Ho);break;case 4:f.append(d.zl);break;case 5:f.append(d.Go);break;case 6:f.append(d.Fo);break;case 8:f.append(d.Al);break;case 9:f.append(d.Ko);break;case 10:f.append(d.Jo);break;default:f.append(d.yl)}}else c?f.append(d.yl):a.Mb?f.append(d.Al):f.append(d.zl);return f.toString()}
function In(a){return(a.Mb?(a.sd()-1)*a.Ua.vj:"-100")+"px 0"}p.c=function(){var a=wn.a.c.call(this);a||(this.d=a=this.r().c(this.aa()));return a};function En(a){return(a=a.c())?a.firstChild:null}p.Yi=function(){var a=En(this);return a?a.firstChild:null};p.Jg=function(){var a=En(this);return a?a.childNodes[1]:null};function zn(a){return(a=En(a))&&a.lastChild?a.lastChild.previousSibling:null}function An(a){return(a=a.c())?a.lastChild:null}p.yk=function(a){Ln(this,za(a))};
p.Lc=function(){return Ga(this.qe,"\x26")?"document"in t?ul(this.qe):tl(this.qe):this.qe};function Ln(a,b){a.qe=b;var c=zn(a);c&&(c.innerHTML=b);(c=a.Ia())&&Mn(c.Ue,a)}function Gn(a){var b=En(a);b&&(b.className=a.ie())}p.We=function(){var a=this.Yi();a&&(a.className=Kn(this));if(a=An(this))a.style.backgroundPosition=In(this)};p.Xm=Jl;p.Xj=function(a){!a.altKey&&(37<=a.keyCode&&40>=a.keyCode)&&a.preventDefault()};function Nn(a){return a.qb()&&ll(a)?Nn(W(a,We(a)-1)):a}
function Cn(a,b){a.Ta!=b&&(a.Ta=b,Mn(b.Ue,a),V(a,function(a){Cn(a,b)}))};function On(a,b,c){wn.call(this,a,b,c)}D(On,wn);On.prototype.Ta=null;On.prototype.Ia=function(){if(this.Ta)return this.Ta;var a=this.getParent();return a&&(a=a.Ia())?(Cn(this,a),a):null};On.prototype.Ig=function(){var a=this.qb();if(a&&this.Ri)return this.Ri;if(!a&&this.sj)return this.sj;var b=this.Ua;if(ll(this)){if(a&&b.Bl)return b.Wd+" "+b.Bl;if(!a&&b.wl)return b.Wd+" "+b.wl}else if(b.Dl)return b.Wd+" "+b.Dl;return""};function Pn(a){this.R=void 0;this.S={};if(a){var b=qd(a);a=pd(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}p=Pn.prototype;p.set=function(a,b){Qn(this,a,b,!1)};p.add=function(a,b){Qn(this,a,b,!0)};function Qn(a,b,c,d){for(var f=0;f<b.length;f++){var g=b.charAt(f);a.S[g]||(a.S[g]=new Pn);a=a.S[g]}if(d&&void 0!==a.R)throw Error('The collection already contains the key "'+b+'"');a.R=c}p.get=function(a){for(var b=this,c=0;c<a.length;c++){var d=a.charAt(c);if(!b.S[d])return;b=b.S[d]}return b.R};
p.Ja=function(){var a=[];Rn(this,a);return a};function Rn(a,b){void 0!==a.R&&b.push(a.R);for(var c in a.S)Rn(a.S[c],b)}p.rb=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var f=a.charAt(d);if(!c.S[f])return[];c=c.S[f]}Sn(c,a,b)}else Sn(this,"",b);return b};function Sn(a,b,c){void 0!==a.R&&c.push(b);for(var d in a.S)Sn(a.S[d],b+d,c)}p.Hc=function(a){return void 0!==this.get(a)};p.lc=function(a){if(this.R===a)return!0;for(var b in this.S)if(this.S[b].lc(a))return!0;return!1};
p.clear=function(){this.S={};this.R=void 0};p.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var f=a.charAt(d);if(!b.S[f])throw Error('The collection does not have the key "'+a+'"');c.push([b,f]);b=b.S[f]}a=b.R;for(delete b.R;0<c.length;)if(f=c.pop(),b=f[0],f=f[1],sl(b.S[f].S))delete b.S[f];else break;return a};p.T=function(){return new Pn(this)};p.M=function(){return od(this.Ja())};
p.Za=function(){return void 0===this.R&&("function"==typeof this.S.Za?this.S.Za():fa(this.S)||A(this.S)?0==this.S.length:sl(this.S))};function Tn(){this.Bd=new Pn}p=Tn.prototype;p.va="";p.Mj=null;p.kh=null;p.Ef=0;p.Ce=0;function Mn(a,b){var c=b.Lc();if(c&&!Nl(c)){var c=c.toLowerCase(),d=a.Bd.get(c);d?d.push(b):a.Bd.set(c,[b])}}function Un(a,b){var c=!1,d=a.Bd.rb(b);d&&d.length&&(a.Ce=0,a.Ef=0,c=a.Bd.get(d[0]),c=Vn(a,c))&&(a.Mj=d);return c}function Vn(a,b){var c;b&&(a.Ce<b.length&&(c=b[a.Ce],a.kh=b),c&&(c.jk(),c.select()));return!!c}p.clear=function(){this.va=""};function Wn(a,b,c){wn.call(this,a,b,c);this.of=!0;Fn(this,!0);this.na=this;this.Ue=new Tn;if(I)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){}}D(Wn,wn);p=Wn.prototype;p.ea=null;p.Si=null;p.Ui=!1;p.cp=null;p.Dn=!0;p.mr=!0;p.Jd=!0;p.Fn=!0;p.Ia=function(){return this};p.sd=m(0);p.jk=aa();p.ud=function(){this.Ui=!0;af(this.c(),"focused");this.na&&this.na.select()};p.np=function(){this.Ui=!1;cf(this.c(),"focused")};p.hasFocus=e("Ui");p.qb=function(){return!this.Jd||Wn.a.qb.call(this)};
p.Zc=function(a){this.Jd?Wn.a.Zc.call(this,a):this.of=a};p.bm=m("");p.Jg=function(){var a=En(this);return a?a.firstChild:null};p.Yi=m(null);p.We=aa();p.ie=function(){return Wn.a.ie.call(this)+(this.Jd?"":" "+this.Ua.Lo)};p.Ig=function(){var a=this.qb();if(a&&this.Ri)return this.Ri;if(!a&&this.sj)return this.sj;var b=this.Ua;return a&&b.Cl?b.Wd+" "+b.Cl:!a&&b.xl?b.Wd+" "+b.xl:""};
p.fc=function(a){if(this.na!=a){var b=!1;this.na&&(b=this.na==this.cp,Fn(this.na,!1));if(this.na=a)Fn(a,!0),b&&a.select();this.dispatchEvent("change")}};p.Ib=e("na");p.Wg=function(){Wn.a.Wg.call(this);var a=this.c();Ef(a,"tree");X(a,"labelledby",zn(this).id)};
p.g=function(){Wn.a.g.call(this);var a=this.c();a.className=this.Ua.Oo;a.setAttribute("hideFocus","true");a=this.c();a.tabIndex=0;var b=this.ea=new xf(a),c=this.Si=new vn(a);this.i().b(c,"focusout",this.np).b(c,"focusin",this.ud).b(b,"key",this.ib).b(a,"mousedown",this.jj).b(a,"click",this.jj).b(a,"dblclick",this.jj);this.Wg()};p.ia=function(){Wn.a.ia.call(this);this.ea.j();this.ea=null;this.Si.j();this.Si=null};
p.jj=function(a){var b;a:{b=null;for(var c=a.target;null!=c;){if(b=yn[c.id])break a;if(c==this.c())break;c=c.parentNode}b=null}if(b)switch(a.type){case "mousedown":"expand"==a.target.getAttribute("type")&&ll(b)?b.bh&&b.toggle():(b.select(),Gn(b));break;case "click":b.Xm(a);break;case "dblclick":"expand"==a.target.getAttribute("type")&&ll(b)||b.bh&&b.toggle()}};
p.ib=function(a){var b=!1,b=this.Ue,c=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){var c=40==a.keyCode?1:-1,d=b.Mj;if(d){var f=null,g=!1;if(b.kh){var h=b.Ce+c;0<=h&&h<b.kh.length?(b.Ce=h,f=b.kh):g=!0}f||(h=b.Ef+c,0<=h&&h<d.length&&(b.Ef=h),d.length>b.Ef&&(f=b.Bd.get(d[b.Ef])),f&&(f.length&&g)&&(b.Ce=-1==c?f.length-1:0));Vn(b,f)&&(b.Mj=d)}c=!0}break;case 8:d=b.va.length-1;c=!0;0<d?(b.va=b.va.substring(0,d),Un(b,b.va)):0==d?b.va="":c=!1;break;case 27:b.va="",c=!0}if(!(b=c)){if(b=this.na){b=this.na;
c=!0;switch(a.keyCode){case 39:if(a.altKey)break;ll(b)&&(b.qb()?W(b,0).select():b.Zc(!0));break;case 37:if(a.altKey)break;ll(b)&&b.qb()&&b.bh?b.Zc(!1):(d=b.getParent(),f=b.Ia(),d&&(f.Jd||d!=f)&&d.select());break;case 40:a:if(ll(b)&&b.qb())d=W(b,0);else{for(d=b;d!=b.Ia();){f=d.Mb;if(null!=f){d=f;break a}d=d.getParent()}d=null}d&&d.select();break;case 38:d=b.Fd;null!=d?d=Nn(d):(d=b.getParent(),f=b.Ia(),d=f.Jd||d!=f?d:null);d&&d.select();break;default:c=!1}c&&(a.preventDefault(),(f=b.Ia())&&f.Ue.clear());
b=c}b||(b=this.Ue,c=!1,a.ctrlKey||a.altKey||(d=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==d.length&&" "<=d&&"~">=d||""<=d&&"�">=d)&&(" "!=d||b.va)&&(b.va+=d,c=Un(b,b.va))),b=c)}b&&a.preventDefault();return b};p.removeNode=function(a){var b=this.Ue,c=a.Lc();if(c&&!Nl(c)){var c=c.toLowerCase(),d=b.Bd.get(c);d&&(Ta(d,a),d.length&&b.Bd.remove(c))}};
var xn={vj:19,Oo:"goog-tree-root goog-tree-item",Lo:"goog-tree-hide-root",Mo:"goog-tree-item",Co:"goog-tree-children",Do:"goog-tree-children-nolines",Fl:"goog-tree-row",No:"goog-tree-item-label",Wd:"goog-tree-icon",Eo:"goog-tree-expand-icon",Io:"goog-tree-expand-icon-plus",Ho:"goog-tree-expand-icon-minus",Ko:"goog-tree-expand-icon-tplus",Jo:"goog-tree-expand-icon-tminus",Go:"goog-tree-expand-icon-lplus",Fo:"goog-tree-expand-icon-lminus",Al:"goog-tree-expand-icon-t",zl:"goog-tree-expand-icon-l",yl:"goog-tree-expand-icon-blank",
Bl:"goog-tree-expanded-folder-icon",wl:"goog-tree-collapsed-folder-icon",Dl:"goog-tree-file-icon",Cl:"goog-tree-expanded-folder-icon",xl:"goog-tree-collapsed-folder-icon",El:"selected"};function Xn(){R.call(this);this.Ra=[];this.Gk=[];this.Pf=[]}D(Xn,R);Xn.prototype.$g=!1;Xn.prototype.ah=!1;Xn.prototype.wj=!1;var Yn={ig:"dragover",hg:"dragout",co:"drag",af:"drop",ai:"dragstart",$h:"dragend"};p=Xn.prototype;p.yn=ba("Ch");p.Qa=function(){if(!this.wj){for(var a,b=0;a=this.Ra[b];b++)Zn(this,a);this.wj=!0}};function Zn(a,b){a.$g&&(Q(b.element,"mousedown",b.Tm,!1,b),a.Hh&&af(b.element,a.Hh));a.ah&&a.Jh&&af(b.element,a.Jh)}
function $n(a,b){a.$g&&($c(b.element,"mousedown",b.Tm,!1,b),a.Hh&&cf(b.element,a.Hh));a.ah&&a.Jh&&cf(b.element,a.Jh);b.j()}
p.Qe=function(a,b){if(!this.xb)if(this.xb=b,!1==this.dispatchEvent(new ao(Yn.ai,this,this.xb)))this.xb=null;else{var c=b.ef,d=this.ti(c);this.Ji&&af(d,this.Ji);this.de=d;d=N(c);d.body.appendChild(this.de);var f=this.de,g=ze(c),c=Me(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.Z=new om(f);this.Z.yn(this.Ch);Q(this.Z,"drag",this.Vm,!1,this);Q(this.Z,"end",this.qd,!1,this);Q(d.body,"selectstart",this.Pn);this.Se=[];for(d=
0;c=this.Gk[d];d++)for(var h,f=0;h=c.Ra[f];f++)for(var g=c,k=[h.element],l=this.Se,n=0;n<k.length;n++){var q=k[n],v=ze(q),Va=Fe(q),v=new oe(v.y,v.x+Va.width,v.y+Va.height,v.x);l.push(new bo(v,g,h,q));co(this,v)}this.Cc||(this.Cc=new oe(0,0,0,0));for(d=0;c=this.Pf[d];d++)c.xi=[],c.qn=c.d.scrollLeft,c.rn=c.d.scrollTop,f=ze(c.d),g=Fe(c.d),c.ua=new oe(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.Se[d];d++)for(f=0;c=this.Pf[f];f++)mc(c.d,g.d)&&(c.xi.push(g),g.Of=c);this.dd=null;for(d=0;c=this.Pf[d];d++)Q(c.d,
"scroll",this.sl,!1,this);this.Z.Qe(a);a.preventDefault()}};
p.qd=function(a){var b=a.Uo?null:this.dd;if(b&&b.F){var c=a.clientX;a=a.clientY;var d=wc(Tb(this.de)),f=c+d.x,d=a+d.y,g;this.Yf&&(g=this.Yf(b.yc,b.ua,f,d));this.dispatchEvent(new ao(Yn.co,this,this.xb,b.F,b.yc,b.d,c,a,f,d));b.F.dispatchEvent(new ao(Yn.af,this,this.xb,b.F,b.yc,b.d,c,a,f,d,g))}this.dispatchEvent(new ao(Yn.$h,this,this.xb));$c(this.Z,"drag",this.Vm,!1,this);$c(this.Z,"end",this.qd,!1,this);$c(N(this.xb.ef).body,"selectstart",this.Pn);for(b=0;c=this.Pf[b];b++)$c(c.d,"scroll",this.sl,
!1,this),c.xi=[];this.Z.j();ic(this.de);delete this.xb;delete this.de;delete this.Z;delete this.Se;delete this.dd};
p.Vm=function(a){var b,c=wc(Tb(this.de));b=new M(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.dd,g;if(f){this.Yf&&f.F&&(g=this.Yf(f.yc,f.ua,c,d));if(f.ua.contains(b)&&g==this.el)return;f.F&&(this.dispatchEvent(new ao(Yn.hg,this,this.xb,f.F,f.yc,f.d)),f.F.dispatchEvent(new ao(Yn.hg,this,this.xb,f.F,f.yc,f.d,void 0,void 0,void 0,void 0,this.el)));this.el=g;this.dd=null}if(this.Cc.contains(b)){a:{for(var h=0;f=this.Se[h];h++)if(f.ua.contains(b))if(f.Of){if(f.Of.ua.contains(b)){b=f;break a}}else{b=
f;break a}b=null}if((f=this.dd=b)&&f.F)this.Yf&&(g=this.Yf(f.yc,f.ua,c,d)),c=new ao(Yn.ig,this,this.xb,f.F,f.yc,f.d),c.rr=g,this.dispatchEvent(c),f.F.dispatchEvent(new ao(Yn.ig,this,this.xb,f.F,f.yc,f.d,a.clientX,a.clientY,void 0,void 0,g));else if(!f){this.ob||(this.ob=new bo(this.Cc.T()));a=this.ob.ua;a.top=this.Cc.top;a.right=this.Cc.right;a.bottom=this.Cc.bottom;a.left=this.Cc.left;for(g=0;f=this.Se[g];g++)b=f.ua,f.Of&&(f=f.Of.ua,b=new oe(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,
f.bottom),Math.max(b.left,f.left))),f=null,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=null,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),null===f||null===h||(Math.abs(f-c)>Math.abs(h-d)?h=null:f=null),null!==f?f<=c?a.left=f:a.right=f:null!==h&&(h<=d?a.top=h:a.bottom=h);this.dd=10<=(a.right-a.left)*(a.bottom-a.top)?this.ob:null}}};p.Pn=m(!1);
p.sl=function(a){for(var b=0,c;c=this.Pf[b];b++)if(a.target==c.d){var d=c.rn-c.d.scrollTop,f=c.qn-c.d.scrollLeft;c.rn=c.d.scrollTop;c.qn=c.d.scrollLeft;this.ob&&this.dd==this.ob&&(0<d?this.ob.ua.top+=d:this.ob.ua.bottom+=d,0<f?this.ob.ua.left+=f:this.ob.ua.right+=f);for(var g=0,h;h=c.xi[g];g++)h=h.ua,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,co(this,h)}this.Z.en(a)};
p.ti=function(a){var b=a.cloneNode(!0);switch(a.tagName.toLowerCase()){case "tr":return Ll("table",null,Ll("tbody",null,b));case "td":case "th":return Ll("table",null,Ll("tbody",null,Ll("tr",null,b)));default:return b}};function co(a,b){if(1==a.Se.length)a.Cc=new oe(b.top,b.right,b.bottom,b.left);else{var c=a.Cc;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
p.e=function(){Xn.a.e.call(this);for(var a,b=0;a=this.Ra[b];b++)$n(this,a);this.Ra.length=0};function ao(a,b,c,d,f,g,h,k,l,n,q){P.call(this,a);this.Sr=b;this.Li=c;this.Vr=d;this.Ag=f;this.Wr=g;this.clientX=h;this.clientY=k;this.os=l;this.ps=n;this.rr=q}D(ao,P);ao.prototype.e=aa();function eo(a,b){R.call(this);this.element=Vb(document,a);this.data=b;this.N=null;this.s=new S(this);Cc(this,this.s);if(!this.element)throw Error("Invalid argument");}D(eo,R);p=eo.prototype;p.ef=null;p.getData=e("data");
p.Tm=function(a){if(Ic(a)){var b=a.target;b&&(this.s.b(b,"mousemove",this.Um,!1).b(b,"mouseout",this.Um,!1),this.s.b(N(b),"mouseup",this.Jq,!0),this.ef=b,this.Bk=new M(a.clientX,a.clientY),a.preventDefault())}};p.Sf=ba("N");p.Um=function(a){var b=this.ef,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Bk.x)+Math.abs(a.clientY-this.Bk.y)||b)this.s.ub(),this.N.Qe(a,this)};p.Jq=function(){this.s.ub();delete this.Bk;this.ef=null};
function bo(a,b,c,d){this.ua=a;this.F=b;this.yc=c;this.d=d}bo.prototype.Of=null;function fo(){Xn.call(this)}D(fo,Xn);fo.prototype.kb=function(a,b){var c=new eo(a,b);c.Sf(this);this.Ra.push(c);this.wj&&Zn(this,c)};fo.prototype.removeItem=function(a){a=Vb(document,a);for(var b,c=0;b=this.Ra[c];c++)if(b.element==a){this.Ra.splice(c,1);$n(this,b);break}};function go(a,b){wn.call(this,ho(a),void 0,void 0);this.hf=b}D(go,On);function ho(a){return a+'\x3cdiv class\x3d"edit-btns"\x3e\x3cspan class\x3d"rename"\x3e\x3c/span\x3e\x3cspan class\x3d"delete"\x3e\x3c/span\x3e\x3c/div\x3e'}go.prototype.g=function(){go.a.g.call(this);this.hf.kb(this)};go.prototype.ke=function(){return this.bb.type};
go.prototype.Xm=function(a){var b=this.bb;a=a.target;if(H(Db(a),"rename")){if(a=prompt("Neuer Name: ",b.title))b.title=a,this.dispatchEvent("change"),Ln(this,ho(a))}else H(Db(a),"delete")?(this.getParent().removeChild(this),this.dispatchEvent("change")):io(this)};function io(a){if(a.ke()==jo){var b=a.bb,c=Al(b.query);yl(c,b.title)}a.ke()==ko&&V(a,function(a){io(a)})}
go.prototype.ie=function(){var a=this.Ua,b=" ";this.Zg()&&(b+=a.El);b=this.ke()==ko?b+" search-folder":b+" search-link";return a.Fl+b};var ko="folder",jo="request";function lo(){R.call(this);this.k=new S(this);Cc(this,this.k);var a=this.nb=new fo,b=this.nb;a.Gk.push(b);b.ah=!0;a.$g=!0;a=this.nc=new fo;b=this.nb;a.Gk.push(b);b.ah=!0;a.$g=!0;this.Qa()}D(lo,R);p=lo.prototype;
p.Qa=function(){this.nb.Ji="search-item-drag";this.nb.Hh="source";this.nb.Jh="target";this.nb.Qa();this.nc.Ji="search-item-drag";this.nc.Qa();this.k.b(this.nb,Yn.ig,this.im);this.k.b(this.nb,Yn.hg,this.hm);this.k.b(this.nb,Yn.af,this.jm);this.k.b(this.nb,Yn.ai,this.Mg);this.k.b(this.nb,Yn.$h,this.Lg);this.k.b(this.nc,Yn.ig,this.im);this.k.b(this.nc,Yn.hg,this.hm);this.k.b(this.nc,Yn.af,this.jm);this.k.b(this.nc,Yn.ai,this.Mg);this.k.b(this.nc,Yn.$h,this.Lg)};
p.kb=function(a){a.ke()==ko?this.nb.kb(a.c(),a):this.nc.kb(a.c(),a)};p.im=function(a){a.Ag.element.style.background="red"};p.hm=function(a){a.Ag.element.style.background=""};p.jm=function(a){var b=a.Li.data,c=a.Ag.data;a.Ag.element.style.background="";b!==c&&(b.getParent().remove(b),c.add(b),this.dispatchEvent(Yn.af))};p.Mg=function(a){El(a.Li.element,0.5)};p.Lg=function(a){El(a.Li.element,1)};function mo(){U.call(this);this.Ta=new Wn("root");Cc(this,this.Ta);this.hf=new lo;Cc(this,this.hf)}D(mo,U);p=mo.prototype;p.f=function(){var a=this.r(),a=a.f("div",void 0,[a.f("div","btn add-folder-btn","+")]);this.n(a)};
p.g=function(){mo.a.g.call(this);var a=this.J("add-folder-btn");this.i().b(a,"click",this.mo);for(var a=fe.h().Vb.searchtree||[],b=0;b<a.length;b++)xl(this,this.Ta.Ia(),a[b]);a=this.Ta;!1!=a.Jd&&(a.Jd=!1,a.v&&(b=En(a))&&(b.className=a.ie()),a.Ib()==a&&W(a,0)&&a.fc(W(a,0)));this.Ta.ma(this.c());this.i().b(this.hf,Yn.af,this.ne)};function xl(a,b,c){var d=new go(c.title,a.hf);d.bb=c;b.add(d);a.i().b(d,"change",a.ne);if(c.children)for(b=0;b<c.children.length;b++)xl(a,d,c.children[b])}
p.mo=function(a){a={title:A(a)?a:"new folder",type:"folder"};xl(this,this.Ta.Ia(),a);this.ne()};p.ne=function(){var a=this.dc(),b=fe.h();b.Vb.searchtree=a;ke(b,void 0,void 0)};p.dc=function(){for(var a=[],b=this.Ta.Vi(),c=0;c<b.length;c++)a.push(no(this,b[c]));return a};function no(a,b){for(var c=b.bb,d=b.Vi(),f=[],g=0;g<d.length;g++)f.push(no(a,d[g]));return{title:c.title,type:c.type,query:c.query,children:f}};function wl(){ce.call(this);this.zr=[];this.Jj=new on;this.pk=this.Kf=null}D(wl,ce);w(wl);wl.prototype.Ea=function(){Fb(document.getElementById("page"),"hidden");this.Kf=Yb("main-panel");var a=this.Jj;a.ma(this.Kf);this.zr.push(a);this.pk=new mo;this.pk.ma(document.getElementById("searchtree"))};function oo(a,b){U.call(this);this.Ub=a;this.zi=b||"";this.Dk=null;this.Ka=!1}D(oo,U);p=oo.prototype;p.f=function(){var a=this.r();this.Dk=a.f("ul");a=a.f("div","action-item",[a.f("div",{"class":"toggle-icon "+this.zi,title:this.Ub}),this.Dk]);this.n(a)};p.$=e("Dk");p.g=function(){oo.a.g.call(this);this.i().b(this.c(),"click",this.Mc)};function po(a,b){a.Y(b,!0)}
p.Mc=function(a){a=a.target;ll(this)?(this.Ka=!this.Ka&&H(Db(a),"toggle-icon"),Hb(this.c(),"visible",this.Ka),this.Ka?this.i().Tc(document.body,"click",this.gm,!0):this.i().G(document.body,"click",this.gm,!0)):this.dispatchEvent("action")};p.gm=function(){Fb(this.c(),"visible")};function qo(){ce.call(this);this.Qr=[];var a=this.Oc=new oo("Undo","icon-undo");ro.h().Y(a,!0)}D(qo,ce);w(qo);qo.prototype.Ea=function(){var a=ji.h();this.i().b(a,"destroy",this.sp);so(this)};qo.prototype.sp=function(a){a=a.target;var b=a.Lc().substr(0,15),b=new to(b,"icon-undo1");b.bb=a;po(this.Oc,b);this.i().b(b,"action",this.hq);10<We(this.Oc)&&this.Oc.removeChild(W(this.Oc,0),void 0);so(this)};function so(a){var b=We(a.Oc);Hb(a.Oc.c(),"hidden",!b)}
qo.prototype.hq=function(a){a=a.target;a.bb.save();this.Oc.removeChild(a,!0);a.j();so(this)};function uo(){this.wr=[];this.Ll="fx"}w(uo);function vo(){var a=uo.h(),b=Wb(a.Ll,void 0);G(b,function(a){var b=gf(a);null!==b&&(b.L(a),this.wr.push(b));Fb(a,this.Ll)},a)};function un(){U.call(this)}D(un,U);w(un);un.prototype.f=function(){var a=this.r().f("div","overlay");this.n(a)};un.prototype.g=function(){this.i().b(this.c(),"click",this.Mc)};un.prototype.Mc=function(){this.dispatchEvent("close");this.ba(!1)};un.prototype.ba=function(a){this.v||this.ma(document.body);Hb(this.c(),"visible",a);Hb(document.body,"body-overlay",a)};function wo(){U.call(this);this.Ka=!1}D(wo,U);w(wo);wo.prototype.n=function(a){wo.a.n.call(this,a)};wo.prototype.g=function(){wo.a.g.call(this)};wo.prototype.toggle=function(){this.Ka=!this.Ka;var a=un.h();a.ba(this.Ka);this.Ka?this.i().Tc(a,"close",this.toggle):this.i().G(a,"close",this.toggle);Hb(this.c(),"visible",this.Ka)};ef("page-sidebar",function(){return wo.h()});function to(a,b,c){U.call(this);this.Ub=a;this.zi=b||"";ha(c)&&this.i().b(this,"action",c)}D(to,U);to.prototype.f=function(){var a=this.r().f("li",this.zi,this.Ub);this.n(a)};to.prototype.g=function(){to.a.g.call(this);this.i().b(this.c(),"click",this.Mc)};to.prototype.Mc=function(){this.dispatchEvent("action")};function ro(){U.call(this)}D(ro,U);w(ro);ro.prototype.$=function(){return this.J("header-right-bar")};ro.prototype.g=function(){ro.a.g.call(this);var a=this.J("sidebar-toggle-btn");this.i().b(a,"click",this.gq);xo(this)};
function xo(a){var b=new oo("Search","icon-search mobile-only");a.i().b(b,"action",function(){rn.h().toggle()});a.Y(b,!0);b=new oo("Settings","icon-gears");po(b,new to("Settings","icon-gears",function(){(new tn).ma(document.body)}));po(b,new to("Logout","icon-user",function(){var a=fe.h(),b=new Nd;b.b("complete",a.km,!1,a);b.send("/logout")}));a.Y(b,!0)}ro.prototype.gq=function(){wo.h().toggle()};ef("page-header",function(){return ro.h()});function cl(a,b){this.bb=a;this.Gb=b;this.Ub=this.tj="";this.mj=!0;this.k=null;this.Ik=[]}D(cl,O);p=cl.prototype;p.i=function(){return this.k||(this.k=new S(this))};p.e=function(){this.k&&this.k.j();cl.a.e.call(this)};p.Qa=aa();p.kg=function(a){this.Gb.kg(this,a);this.Ik.push(a)};p.ar=function(){G(this.Ik,function(a){this.Gb.removeChild(a,!0);a.j()},this);this.Ik=[]};function yo(){R.call(this);this.k=null}D(yo,R);w(yo);yo.prototype.i=function(){return this.k||(this.k=new S(this))};yo.prototype.autocomplete=function(a,b,c,d){var f=new Nd;f.b("complete",function(a){a=ae(a.target);var b=[];if(a.tags)for(var f=0;f<a.tags.length;f++){var l=a.tags[f];b.push("#"+l.name);if(l.values)for(var n=0;n<l.values.length;n++)b.push("#"+l.name+"\x3d"+l.values[n])}c.call(d,b)},!1,this);a=il({text:a,tag:b}).toString();f.send("/autocomplete","POST",a)};
function zo(a,b,c,d){var f=new Nd;f.b("complete",function(a){a=ae(a.target);var b=[];if(a.recs)for(var f=0;f<a.recs.length;f++){var l=a.recs[f];b.push("#"+l.name);if(l.values)for(var n=0;n<l.values.length;n++)b.push("#"+l.name+"\x3d"+l.values[n])}c.call(d,b)},!1,a);a=il({text:b}).toString();f.send("/recommend","POST",a)};function Ao(a,b){if(Bo(a))a.selectionStart=b;else if(I){var c=Co(a),d=c[0];d.inRange(c[1])&&(b=Do(a,b),d.collapse(!0),d.move("character",b),d.select())}}
function Eo(a){var b;a:{var c=0,d=0;if(Bo(a))c=a.selectionStart,d=-1;else if(I){var f=Co(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if("textarea"==a.type){f.duplicate();c=a=b.text;for(d=!1;!d;)0==b.compareEndPoints("StartToEnd",b)?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function Fo(a,b){if(Bo(a))a.selectionEnd=b;else if(I){var c=Co(a),d=c[1];c[0].inRange(d)&&(b=Do(a,b),c=Do(a,Eo(a)),d.collapse(!0),d.moveEnd("character",b-c),d.select())}}function Co(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function Do(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}
function Bo(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function Go(a,b,c,d){O.call(this);d=d||150;this.He=null!=c?c:!0;this.Qf=a||",;";this.Ro=this.Qf.substring(0,1);a=this.He?"[\\s"+this.Qf+"]+":"[\\s]+";this.Wn=RegExp("^"+a+"|"+a+"$","g");this.er=RegExp("\\s*["+this.Qf+"]$");this.Mm=b||"";this.Xq=this.He;this.w=0<d?new jd(d):null;this.sa=new S(this);this.ei=new S(this);this.ea=new xf;this.Im=-1}D(Go,O);var Ho=(Kg||Lg)&&!L("533.17.9");p=Go.prototype;p.Br=!0;p.dp=!0;p.Yn=!1;p.gr=!0;p.fr=!0;p.fi=null;p.K=null;p.Hj="";p.cd=!1;p.lk=!1;p.xr=!0;p.t=function(){return this.K.value};
p.P=function(a){this.K.value=a};p.ki=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];ia(c)&&1==c.nodeType&&X(c,"haspopup",!0);this.sa.b(c,"focus",this.td);this.sa.b(c,"blur",this.uc);if(!this.K&&(this.ei.b(c,"keydown",this.Oq),ia(c)&&1==c.nodeType)){var d;a:{var f=N(c);try{d=f&&f.activeElement;break a}catch(g){}d=null}d==c&&Io(this,c)}}};
p.An=function(a,b){if(x(b)?b:this.He){var c=Jo(this,this.t(),Eo(this.K)),d=Ko(this,this.t()),f=a;this.er.test(f)||(f=f.replace(/[\s\xa0]+$/,"")+this.Ro);this.Br&&(0==c||/^[\s\xa0]*$/.test(d[c-1])||(f=" "+f),c==d.length-1&&(f+=" "));if(f!=d[c]){d[c]=f;f=this.K;(J||I&&L("9"))&&f.blur();f.value=d.join("");for(var g=0,h=0;h<=c;h++)g+=d[h].length;f.focus();c=g;Ao(this.K,c);Fo(this.K,c)}}else this.P(a);this.lk=!0};
p.e=function(){Go.a.e.call(this);null!=this.fi&&window.clearTimeout(this.fi);this.sa.j();delete this.sa;this.ei.j();this.ea.j();Dc(this.w)};
p.ib=function(a){switch(a.keyCode){case 40:if(this.U.Lb())return this.Rj(),a.preventDefault(),!0;if(!this.He)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.U.Lb())return this.Sj(),a.preventDefault(),!0;break;case 9:if(this.U.Lb()&&!a.shiftKey){if(this.update(),Lo(this.U)&&this.Xq)return a.preventDefault(),!0}else this.U.oc();break;case 13:if(this.U.Lb()){if(this.update(),Lo(this.U))return a.preventDefault(),a.stopPropagation(),!0}else this.U.oc();break;case 27:if(this.U.Lb())return this.U.oc(),
a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.cd)return this.cd||(this.sa.b(this.K,"keyup",this.an),this.sa.b(this.K,"keypress",this.Xj),this.cd=!0),!0;break;default:this.w&&!this.xr&&(this.w.stop(),this.w.start())}return Mo(this,a)};function Mo(a,b){var c=a.He&&b.charCode&&-1!=a.Qf.indexOf(String.fromCharCode(b.charCode));a.gr&&c&&a.update();return a.fr&&c&&Lo(a.U)?(b.preventDefault(),!0):!1}p.Kp=m(!1);p.td=function(a){Io(this,a.target||null)};
function Io(a,b){a.ei.ub();a.U&&No(a.U);b!=a.K&&(a.K=b,a.w&&(a.w.start(),a.sa.b(a.w,kd,a.qh)),a.Hj=a.t(),a.ea.cf(a.K),a.sa.b(a.ea,"key",a.bn),a.sa.b(a.K,"mousedown",a.cn),I&&a.sa.b(a.K,"keypress",a.$m))}p.uc=function(){Ho?this.fi=window.setTimeout(B(this.jn,this),0):this.jn()};
p.jn=function(){this.K&&(this.sa.G(this.ea,"key",this.bn),this.ea.detach(),this.sa.G(this.K,"keyup",this.Kp),this.sa.G(this.K,"mousedown",this.cn),I&&this.sa.G(this.K,"keypress",this.$m),this.cd&&Oo(this),this.K=null,this.w&&(this.w.stop(),this.sa.G(this.w,kd,this.qh)),this.U&&Po(this.U))};p.qh=function(){this.update()};p.Oq=function(a){this.td(a)};p.bn=function(a){this.Im=a.keyCode;this.U&&this.ib(a)};p.Xj=function(){this.cd&&229!=this.Im&&Oo(this)};
p.an=function(a){this.cd&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&Oo(this)};p.cn=function(a){this.U&&this.Yb(a)};p.Yb=aa();function Oo(a){a.cd&&(a.cd=!1,a.sa.G(a.K,"keypress",a.Xj),a.sa.G(a.K,"keyup",a.an))}p.$m=function(a){Mo(this,a)};p.update=function(a){if(this.K&&(a||this.t()!=this.Hj)){if(a||!this.lk)a=this.bk(),this.U&&(this.U.F=this.K,this.U.Fh(a,this.t()));this.Hj=this.t()}this.lk=!1};
p.bk=function(){var a=Eo(this.K),b=this.t(),a=Ko(this,b)[Jo(this,b,a)];return this.Wn?String(a).replace(this.Wn,""):a};p.Sj=function(){return this.Yn?Qo(this.U):Ro(this.U)};p.Rj=function(){return this.Yn?Ro(this.U):Qo(this.U)};function Jo(a,b,c){a=Ko(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b}
function Ko(a,b){if(!a.He)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)a.Mm&&-1!=a.Mm.indexOf(c[g])?(a.dp&&!h&&(d.push(f.join("")),f.length=0),f.push(c[g]),h=!h):h||-1==a.Qf.indexOf(c[g])?f.push(c[g]):(f.push(c[g]),d.push(f.join("")),f.length=0);d.push(f.join(""));return d};function So(a,b,c,d){Go.call(this,a,b,c,d)}D(So,Go);So.prototype.bk=function(){for(var a=Eo(this.K),b=this.t(),c="",d=a-1;0<d;d--){var f=b.charAt(d);if(" "===f||"\n"===f)break;else if("#"===f){c=b.substr(d,a-d);break}}return c};So.prototype.An=function(a){var b=this.bk(),c=Eo(this.K),d=this.t(),c=d.lastIndexOf(b,c);this.P(d.substr(0,c)+a+d.substr(c+b.length));a=c+a.length;Ao(this.K,a);Fo(this.K,a)};function To(a,b,c){R.call(this);this.Df=a;this.Yc=c;this.m=b;Q(b,[Uo,Vo,Wo,Xo],this.handleEvent,!1,this);this.Db=null;this.ga=[];this.Qc=-1;this.Ya=0;this.ld=this.F=null;this.xm={}}D(To,R);To.prototype.uo=!0;To.prototype.fl=!1;To.prototype.bo=!1;To.prototype.Vn=!1;var Uo="hilite",Vo="select",Xo="dismiss",Wo="canceldismiss";p=To.prototype;p.zb=e("Db");
p.handleEvent=function(a){if(a.target==this.m)switch(a.type){case Uo:this.wc(a.Le);break;case Vo:a=a.Le;var b=this.ga[Yo(this,a)],c=!!b&&this.Df.zj&&this.Df.zj(b);a&&(b&&!c&&this.Qc!=a)&&this.wc(a);c||Lo(this);break;case Wo:No(this);break;case Xo:Po(this)}};p.Fh=function(a,b){this.Db!=a&&(this.Db=a,Zo(this.Db,B(this.Cq,this),b),No(this))};p.Lb=function(){return this.m.W()};
function Qo(a){for(var b=a.Ya+a.ga.length-1,c=a.Qc,d=0;d<a.ga.length;d++){if(c>=a.Ya&&c<b)c++;else if(-1==c)c=a.Ya;else if(a.fl&&c==b){a.wc(-1);break}else if(a.bo&&c==b)c=a.Ya;else break;if(a.wc(c))return!0}return!1}function Ro(a){for(var b=a.Ya+a.ga.length-1,c=a.Qc,d=0;d<a.ga.length;d++){if(c>a.Ya)c--;else if(a.fl&&c==a.Ya){a.wc(-1);break}else if(!a.bo||-1!=c&&c!=a.Ya)break;else c=b;if(a.wc(c))return!0}return!1}
p.wc=function(a){var b=Yo(this,a),c=this.ga[b];return c&&this.Df.zj&&this.Df.zj(c)?!1:(this.Qc=a,this.m.wc(a),-1!=b)};function Lo(a){var b=Yo(a,a.Qc);if(-1!=b)return b=a.ga[b],a.Yc.An(b.toString(),void 0),a.Vn?(a.Db=null,Po(a)):a.oc(),a.dispatchEvent({type:"update",Le:b}),a.Vn&&a.Yc.update(!0),!0;a.oc();a.dispatchEvent({type:"update",Le:null});return!1}
p.oc=function(){this.Qc=-1;this.Db=null;this.Ya+=this.ga.length;this.ga=[];window.clearTimeout(this.ld);this.ld=null;this.m.oc();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(Xo)};function Po(a){a.ld||(a.ld=window.setTimeout(B(a.oc,a),100))}p.wm=function(){return this.ld?(window.clearTimeout(this.ld),this.ld=null,!0):!1};function No(a){a.wm()||window.setTimeout(B(a.wm,a),10)}p.e=function(){To.a.e.call(this);delete this.xm;this.m.j();this.Yc.j();this.Df=null};
p.Cq=function(a,b,c){this.Db==a&&this.hk(b,c)};p.hk=function(a,b){var c="object"==ea(b)&&b,d=(c?c.Zr():b)?Yo(this,this.Qc):-1;this.Ya+=this.ga.length;this.ga=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.Ya+g,data:a[g]});g=null;this.F&&(g=this.xm[ka(this.F)]||this.F);this.m.ro=g;this.m.hk(f,this.Db,this.F);g=this.uo;c&&void 0!==c.ep()&&(g=c.ep());this.Qc=-1;(g||0<=d)&&(0!=f.length&&this.Db)&&(0<=d?this.wc(this.Ya+d):Qo(this));this.dispatchEvent("suggestionsupdate")};
function Yo(a,b){var c=b-a.Ya;return 0>c||c>=a.ga.length?-1:c}p.ki=function(a){var b=this.Yc;b.ki.apply(b,arguments)};p.update=function(a){this.Yc.update(a)};function $o(){R.call(this);this.I=ap;this.Xl=this.startTime=null}D($o,R);var ap=0;$o.prototype.Cd=function(){this.pc("begin")};$o.prototype.Ie=function(){this.pc("end")};$o.prototype.pc=function(a){this.dispatchEvent(a)};var bp={},cp=null;function dp(a){a=ka(a);delete bp[a];sl(bp)&&cp&&cp.stop()}function ep(){cp||(cp=new sf(function(){fp()},20));var a=cp;a.Kb()||a.start()}function fp(){var a=C();Mb(bp,function(b){gp(b,a)});sl(bp)||ep()};function hp(a,b,c,d){$o.call(this);if(!y(a)||!y(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Wf=a;this.Zo=b;this.duration=c;this.cl=d;this.coords=[];this.Th=!1}D(hp,$o);p=hp.prototype;p.am=0;p.Bb=0;p.Fj=null;
p.play=function(a){if(a||this.I==ap)this.Bb=0,this.coords=this.Wf;else if(1==this.I)return!1;dp(this);this.startTime=a=C();-1==this.I&&(this.startTime-=this.duration*this.Bb);this.Xl=this.startTime+this.duration;this.Fj=this.startTime;this.Bb||this.Cd();this.pc("play");-1==this.I&&this.pc("resume");this.I=1;var b=ka(this);b in bp||(bp[b]=this);ep();gp(this,a);return!0};p.stop=function(a){dp(this);this.I=ap;a&&(this.Bb=1);ip(this,this.Bb);this.pc("stop");this.Ie()};
p.e=function(){this.I==ap||this.stop(!1);this.pc("destroy");hp.a.e.call(this)};p.ae=function(){this.j()};function gp(a,b){a.Bb=(b-a.startTime)/(a.Xl-a.startTime);1<=a.Bb&&(a.Bb=1);a.am=1E3/(b-a.Fj);a.Fj=b;ip(a,a.Bb);1==a.Bb?(a.I=ap,dp(a),a.pc("finish"),a.Ie()):1==a.I&&a.Vj()}function ip(a,b){ha(a.cl)&&(b=a.cl(b));a.coords=Array(a.Wf.length);for(var c=0;c<a.Wf.length;c++)a.coords[c]=(a.Zo[c]-a.Wf[c])*b+a.Wf[c]}p.Vj=function(){this.pc("animate")};p.pc=function(a){this.dispatchEvent(new jp(a,this))};
function jp(a,b){P.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.Bb=b.Bb;this.Xr=b.am;this.state=b.I;this.Ir=b}D(jp,P);function kp(a,b,c,d,f){hp.call(this,b,c,d,f);this.element=a}D(kp,hp);p=kp.prototype;p.Sh=u;p.we=function(){x(this.Qb)||(this.Qb=Ae(this.element));return this.Qb};p.Vj=function(){this.Sh();kp.a.Vj.call(this)};p.Ie=function(){this.Sh();kp.a.Ie.call(this)};p.Cd=function(){this.Sh();kp.a.Cd.call(this)};function lp(a,b,c,d,f){ga(b)&&(b=[b]);ga(c)&&(c=[c]);kp.call(this,a,b,c,d,f);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}D(lp,kp);
lp.prototype.Sh=function(){El(this.element,this.coords[0])};lp.prototype.show=function(){this.element.style.display=""};function mp(a,b,c){lp.call(this,a,1,0,b,c)}D(mp,lp);mp.prototype.Cd=function(){this.show();mp.a.Cd.call(this)};mp.prototype.Ie=function(){this.element.style.display="none";mp.a.Ie.call(this)};function np(a,b,c){lp.call(this,a,0,1,b,c)}D(np,lp);np.prototype.Cd=function(){this.show();np.a.Cd.call(this)};function op(a,b,c,d){R.call(this);this.N=a||document.body;this.C=Tb(this.N);this.cr=!a;this.d=null;this.Db="";this.ga=[];this.Gd=[];this.Ln=this.Tg=-1;this.qa=!1;this.className="ac-renderer";this.kk="ac-row";this.Km="active";this.dl="ac-active";this.qq="ac-highlighted";this.ff=b||null;this.yr=null!=d?d:!0;this.Dq=!0;this.pj=!1;this.dr=!!c;this.Lh=!1;this.mh=0}D(op,R);p=op.prototype;p.c=e("d");p.hk=function(a,b,c){this.Db=b;this.ga=a;this.Tg=-1;this.Ln=C();this.F=c;this.Gd=[];pp(this)};
p.oc=function(){this.F&&Dl(this.F,null);this.qa&&(this.qa=!1,this.F&&X(this.F,"haspopup",!1),0<this.mh?(Dc(this.Vd),this.Vd=new mp(this.d,this.mh),this.Vd.play()):T(this.d,!1))};p.show=function(){this.qa||(this.qa=!0,this.F&&(Ef(this.F,"combobox"),X(this.F,"autocomplete","list"),X(this.F,"haspopup",!0)),0<this.mh?(Dc(this.Vd),this.Vd=new np(this.d,this.mh),this.Vd.play()):T(this.d,!0))};p.W=e("qa");
function qp(a,b){var c=0<=b&&b<a.ga.length?a.ga[b]:void 0,d=0<=b&&b<a.Gd.length?a.Gd[b]:void 0;a.dispatchEvent({type:"rowhilite",ls:d,Le:c?c.data:null})&&(0<=a.Tg&&df(a.Gd[a.Tg],[a.dl,a.Km]),a.Tg=b,d&&(bf(d,[a.dl,a.Km]),a.F&&Dl(a.F,d),Be(d,a.d)))}p.wc=function(a){if(-1==a)qp(this,-1);else for(var b=0;b<this.ga.length;b++)if(this.ga[b].id==a){qp(this,b);break}};
function rp(a){if(!a.d){var b=a.C.f("div",{style:"display:none"});a.d=b;bf(b,wa(a.className).split(" "));Ef(b,"listbox");b.id=Re(Qe.h());a.C.appendChild(a.N,b);Q(b,"click",a.Mc,!1,a);Q(b,"mousedown",a.om,!1,a);Q(b,"mouseover",a.pm,!1,a)}}
function pp(a){rp(a);a.Lh&&(a.d.style.visibility="hidden");a.Cr&&(a.d.style.minWidth=a.Cr.clientWidth+"px");a.Gd.length=0;a.C.gk(a.d);if(a.ff&&a.ff.ma)a.ff.ma(a);else{var b=null;G(a.ga,function(a){var d=this.Db,f=this.C.f("div",{className:this.kk,id:Re(Qe.h())});Ef(f,"option");this.ff&&this.ff.js||(f.innerHTML=za(a.data.toString()));d&&this.yr&&sp(this,f,d);af(f,this.kk);this.Gd.push(f);a=f;this.Lh?this.d.insertBefore(a,b):this.C.appendChild(this.d,a);b=a},a)}0==a.ga.length?a.oc():(a.show(),a.Ob(),
Je(a.d,!0))}p.Ob=function(){if(this.F&&this.cr){var a;a=this.dr?3:1;this.Lh&&(a^=1);Ti(this.ro||this.F,a,this.d,a^1,null,null,65);this.Lh&&(this.d.style.visibility="visible")}};p.e=function(){this.d&&($c(this.d,"click",this.Mc,!1,this),$c(this.d,"mousedown",this.om,!1,this),$c(this.d,"mouseover",this.pm,!1,this),this.C.removeNode(this.d),this.d=null,this.qa=!1);Dc(this.Vd);this.N=null;op.a.e.call(this)};
function sp(a,b,c){if(3==b.nodeType){var d=null;y(c)&&(1<c.length&&!a.pj)&&(d=$a(c,1));c=tp(a,c);if(0!=c.length){var f=b.nodeValue,g=a.Dq?RegExp("\\b(?:"+c+")","gi"):RegExp(c,"gi");c=[];for(var h=0,k=g.exec(f),l=0;k;)l++,c.push(f.substring(h,k.index)),c.push(f.substring(k.index,g.lastIndex)),h=g.lastIndex,k=g.exec(f);c.push(f.substring(h));if(1<c.length){d=a.pj?l:1;for(f=0;f<d;f++)g=2*f,b.nodeValue=c[g],h=a.C.createElement("b"),h.className=a.qq,a.C.appendChild(h,a.C.createTextNode(c[g+1])),h=b.parentNode.insertBefore(h,
b.nextSibling),b.parentNode.insertBefore(a.C.createTextNode(""),h.nextSibling),b=h.nextSibling;a=$a(c,2*d);b.nodeValue=a.join("")}else d&&sp(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,sp(a,b,c),b=d}function tp(a,b){var c="";if(!b)return c;y(b)&&(b=La(b,function(a){return!Nl(a)}));a.pj?y(b)?c=Ma(b,Ha).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ha(c),c=c.replace(/ /g,"|")):y(b)?c=0<b.length?Ha(b[0]):"":/^\W/.test(b)||(c=Ha(b));return c}
function up(a,b){for(;b&&b!=a.d&&!$e(b,a.kk);)b=b.parentNode;return b?Ka(a.Gd,b):-1}p.Mc=function(a){var b=up(this,a.target);0<=b&&this.dispatchEvent({type:Vo,Le:this.ga[b].id});a.stopPropagation()};p.om=function(a){a.stopPropagation();a.preventDefault()};p.pm=function(a){a=up(this,a.target);0<=a&&!(300>C()-this.Ln)&&this.dispatchEvent({type:Uo,Le:this.ga[a].id})};function vp(){}function Zo(a,b,c){3<a.length?yo.h().autocomplete(c||"",a,function(c){b.call(void 0,a,c)}):b.call(void 0,a,[])};function wp(a,b){cl.call(this,a,b);this.fk=this.so=null;this.mj=!1}D(wp,cl);wp.prototype.Qa=function(){var a=this.Gb,b=a.Tb.c(),c=new op,d=new So(void 0,void 0,!0,300),c=new To(new vp,c,d);d.U=c;d.ki(b);this.so=c;this.fk=Yb("recommondations");this.i().b(a,Ai,this.vd).b(this.fk,"click",this.Wp);xp(this)};wp.prototype.vd=function(){xp(this)};
function xp(a){var b=a.Gb.Tb.t();zo(yo.h(),b,function(a){this.fk.innerHTML=a.reduce(function(a,b){return a+' \x3cspan class\x3d"suggest"\x3e'+b+"\x3c/span\x3e"},"")},a)}wp.prototype.Wp=function(a){var b=a.target;if(H(Db(b),"suggest")){a=this.Gb;var b=b.innerHTML,c=a.Tb.t();a.Tb.P(c+" "+b)}};function yp(){O.call(this)}D(yp,Ah);yp.prototype.Ea=function(){Bi.h().jd.push(wp)};function zp(){this.id="linkParser"}zp.prototype.parse=function(a){return twttr.txt.extractUrlsWithIndices(a.hc)||[]};function Ap(){O.call(this)}D(Ap,Ah);Ap.prototype.Ea=function(){var a=ji.h();Q(a,Nm,this.Dp,!1,this);Q(a,"entry_display",this.Cp,!1,this)};Ap.prototype.Dp=function(a){a=a.target;for(var b=a.Gf,c=a.he().em(zp),d=0;d<c.length;d++)var f=c[d].url,b=b.replace(f,'\x3ca href\x3d"'+f+'" rel\x3d"redirect" class\x3d"extern-link"\x3e'+(20<f.length?f.substr(0,20)+"...":f)+"\x3c/a\x3e");a.Gf=b};Ap.prototype.Cp=aa();function Bp(){O.call(this)}D(Bp,Ah);Bp.prototype.Ea=function(a){a=a.wi;vo();wl.h().Ea(a);Bi.h().Ea(a);qo.h().Ea(a);var b=jm.h();b.Ea(a);mm(b,"search/:searchStr",function(a,b){var f=Al("#"+b);yl(f,"#"+b)},this);mm(b,"edit/:entryId",function(a,b){var f=new Om(b);ml(Bi.h(),f)},this);mm(b,"delete/:entryId",function(a,b){(new Om(b)).ae()},this,!1);Bl(yp);Bl(Ap)};zh("core",Bp);
//@ sourceURL=/client/asset/common/js-min/LANG/core.js