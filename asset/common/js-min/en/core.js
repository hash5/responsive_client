tj.prototype.Ac=p(27,function(a){gj("/entries/"+a.T(),"DELETE")});tj.prototype.save=p(26,function(a,b,c){function d(d){d=d.Md();a.update(d);z(b)&&b.call(c,a)}var f=a.rc();a.T()?gj("/entries/"+a.T(),"PUT",f,d,this):gj("/entries","POST",f,d,this)});ie.prototype.rc=p(25,function(){return{}});hj.prototype.rc=p(24,function(){var a=[];F(this.jb,function(b){a.push(b.rc())});return a});function Dm(a){return'\x3cli\x3e\x3cimg src\x3d"'+hg(a.icon)+'" title\x3d"'+hg(a.title)+'" /\x3e\x3c/li\x3e'}
function Em(){return'\x3cdiv class\x3d"history-btns"\x3e\x3cbutton class\x3d"btn undo-btn tooltip hidden" data-tooltip\x3d"undo changes"\x3e\x3c-\x3c/button\x3e\x3cbutton class\x3d"btn redo-btn tooltip hidden" data-tooltip\x3d"redo changes"\x3e-\x3e\x3c/button\x3e\x3c/div\x3e'}
function Fm(){return'\x3cdiv class\x3d"save-btns"\x3e\x3cdiv class\x3d"saved-info"\x3e\x3cspan class\x3d"saving-msg"\x3esaving...\x3c/span\x3e\x3cspan class\x3d"saved-msg"\x3eAll changes saved.\x3c/span\x3e\x3c/div\x3e\x3cbutton class\x3d"btn primary save-btn"\x3eDone\x3c/button\x3e\x3cbutton class\x3d"btn cancel-btn"\x3eRevert\x3c/button\x3e\x3c/div\x3e'}function Gm(a,b){var c=dg(Dm,{title:b.Nb,icon:b.Yh});a.k("helper-tile-btns").appendChild(c);a.i().a(c,"click",function(){this.Ef(b)})}
function Hm(a){U.call(this);this.Ia=a;this.Ca=[];this.Fi=[];this.ai=!1}C(Hm,U);e=Hm.prototype;e.g=function(){var a=dg(Em);this.m(a)};e.e=function(){Hm.c.e.call(this);var a=this.i(),b=this.k("undo-btn");a.a(b,"click",this.Ws);b=this.k("redo-btn");a.a(b,"click",this.Cs);a.a(this.Ia,Mj,this.Ps);this.Ca.push(Lj(this.Ia))};e.Ps=function(){this.ai?this.ai=!1:this.Fi=[];this.Ca.push(Lj(this.Ia));L(this.k("undo-btn"),"hidden",2>this.Ca.length);L(this.k("redo-btn"),"hidden",1>this.Fi.length)};
e.Ws=function(){var a=Lj(this.Ia);this.Ca.pop();this.Fi.push(a);this.ai=!0;a=this.Ca.pop();this.Ia.Lb.G(a)};e.Cs=function(){this.Ca.push(Lj(this.Ia));this.ai=!0;var a=this.Fi.pop();this.Ia.Lb.G(a)};function Im(a){U.call(this);this.Ia=a;this.nm=!1;this.Ca=[]}C(Im,U);e=Im.prototype;e.g=function(){var a=dg(Fm);this.m(a)};e.e=function(){Im.c.e.call(this);var a=this.i(),b=this.k("save-btn");a.a(b,"click",this.Hs);b=this.k("cancel-btn");a.a(b,"click",this.Gs);a.a(this.Ia,Mj,this.yp);this.Ca.push(Lj(this.Ia))};
e.yp=function(){var a=this.Ia.Ke,b=Lj(this.Ia);this.nm=!0;a.Si(Lj(this.Ia));a.save(this.Js,this);this.Ca.push(b);Ab(this.k("saved-info"),"saving")};e.Js=function(){this.nm=!1;this.Ub||Bb(this.k("saved-info"),"saving")};e.Hs=function(){var a=Lj(this.Ia),b=this.Ia.Ke;0<a.length?(this.nm&&this.yp(),this.Ia.close()):b.Ac()};e.Gs=function(){var a=this.Ca[0],b=this.Ia.Ke;1<a.length&&(0<a.length?(b.Si(a),b.save()):b.Ac());this.Ia.close()};
function Jm(a){return a=""+('\x3cdiv class\x3d"entry-editor"\x3e\x3ch2\x3eEdit entry\x3c/h2\x3e\x3cdiv class\x3d"entry-info"\x3e\x3cspan class\x3d"entry-date"\x3ecreated on '+hg(a.r)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-editor-body"\x3e\x3c/div\x3e\x3cdiv class\x3d"recommondations"\x3e\x3c/div\x3e\x3cul class\x3d"helper-tile-btns"\x3e\x3c/ul\x3e\x3cdiv class\x3d"helper-tiles"\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-actions"\x3e\x3c/div\x3e\x3c/div\x3e')}
function Km(a){U.call(this);this.Ke=a;this.Lb=new Jj("");this.N(this.Lb);this.dc=a.Ld();this.dc.Ip(a.fd());this.Zc=[]}C(Km,U);e=Km.prototype;e.g=function(){var a={r:Lm(this.Ke.Tn())},a=dg(Jm,a);this.m(a)};e.m=function(a){Km.c.m.call(this,a);this.Lb.W(this.k("entry-editor-body"));this.Lb.G(this.Ke.fd())};
e.e=function(){Km.c.e.call(this);this.i().a(this.Lb,"change",this.Hc);var a=new Im(this);this.N(a);a.W(this.k("entry-actions"));a=new Hm(this);this.N(a);a.W(this.k("entry-info"));F(this.Zc,function(a){a.Sa();a.Bk&&Gm(this,a)},this);this.Lb.b().focus()};e.Ef=function(a,b){var c=b=b||a.Yn();c.kh=a;a.au(c);this.N(b);b.W(this.k("helper-tiles"))};e.close=function(){this.j()};e.f=function(){F(this.Zc,function(a){a.j()},this);Km.c.f.call(this)};e.Hc=function(){this.dc.Ip(Lj(this));this.dispatchEvent(Mj)};
e.Ld=function(){return this.dc};var Mm="move",Nm={},Om="b";function Pm(a){return!!a.Ua&&0!=a.Ua.length}Sk.prototype.removeItem=p(22,function(a){(a=this.removeChild(a,!0))&&a.j()});Wk.prototype.removeItem=p(21,function(a){(a=Zk(this).removeChild(a,!0))&&a.j()});al.prototype.removeItem=p(20,function(a){a&&Va(this.Xa,a)&&a==this.ya&&(this.ya=null,this.dispatchEvent("select"))});dl.prototype.removeItem=p(19,function(a){dl.c.removeItem.call(this,a);this.X&&this.X.removeItem(a)});
tj.prototype.search=p(18,function(a,b,c,d,f){return this.getEntries("/entries?query\x3d"+encodeURIComponent(a),b,c,d,f)});lj.prototype.ed=p(17,function(){return this.Ni});hj.prototype.move=p(16,function(a,b){if(a!=b){var c=this.jb[a];E.splice.call(this.jb,a,1);Za(this.jb,b,0,c);this.dispatchEvent({type:Mm,Ft:a,Dt:b})}});xi.prototype.Kd=p(14,function(){return this.Jf});og.prototype.io=p(13,function(a){ee(a.target)?(this.dispatchEvent(Om),document.location.reload()):this.dispatchEvent(Eg)});
ff.prototype.reset=p(12,function(){this.ua&&this.ua.reset()});lf.prototype.reset=p(11,function(){V(this,function(a){"function"==typeof a.reset&&a.reset()},this)});Vf.prototype.reset=p(10,function(){this.G("")});
Oh.prototype.reset=p(9,function(a){this.Bn=a;for(a=0;a<this.$a.length;a++){var b=this.Id.id;b&&this.Ve.ec(b);this.Id.ec(this.$a[a])}this.$a.length=0;this.od.clear();this.Mg=B();this.bn=this.km=this.dq=this.bj=this.cj=0;b=this.oe.bb();for(a=0;a<b.length;a++){var c=this.oe.get(b[a]);c.count=0;c.time=0;c.Vg=0;this.Wl.ec(c)}this.oe.clear()});yi.prototype.reset=p(8,function(){this.set(B())});Jj.prototype.reset=p(7,function(){this.b().value=""});jl.prototype.reset=p(6,function(){this.Gg(0)});
nd.prototype.setInterval=p(5,function(a){this.Ud=a;this.A&&this.Tf?(this.stop(),this.start()):this.A&&this.stop()});U.prototype.xg=p(4,function(a){for(var b=[];Pm(this);)b.push(this.removeChild(Ve(this,0),a));return b});M.prototype.ceil=p(3,function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this});Fb.prototype.ceil=p(2,function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this});
le.prototype.ceil=p(1,function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this});me.prototype.ceil=p(0,function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this});
function Qm(a,b){if(a.fa&&!a.fa.Ub){var c=Lj(a.fa);a.fa.j();a.fa=null;if(!b&&!c)return}b||(b=new Rm);var d=new Km(b);d.W(a.ug);F(a.Zc,function(a){a=new a(b,d);d.Zc.push(a);d.w&&(a.Sa(),a.Bk&&Gm(d,a))},a);a.fa=d}function Sm(a,b){for(var c=a.jb,d=y(c)?c.split(""):c,f=c.length-1;0<=f;--f)f in d&&b.call(void 0,d[f],f,c)}function Tm(){this.op="";this.wq=Nm}Tm.prototype.jg=!0;Tm.prototype.cg=function(){return this.op};function Um(a){a=a.Vc.locale;return u(a)?a:"en"}var Vm={},Wm={};
function Xm(a){return a instanceof Ai&&a.constructor===Ai&&a.vq===Bi?a.kf:"type_error:SafeHtml"}function Ym(){this.kf="";this.xq=Vm}Ym.prototype.jg=!0;Ym.prototype.cg=function(){return this.kf};Ym.prototype.Jk=!0;Ym.prototype.Ih=function(){return 1};function Zm(){this.Xl="";this.Bq=Wm}Zm.prototype.jg=!0;Zm.prototype.cg=function(){return this.Xl};Zm.prototype.toString=function(){return"Const{"+this.Xl+"}"};
var $m={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},an=/&([^;\s<&]+);?/g;function bn(a){function b(a){w(a)?F(a,b):(a=a instanceof Ai?a:a.Jk?Ci(a):a.jg?Ci(a.cg()):Ci(String(a)),d+=Xm(a),a=a.Ih(),0==c?c=a:0!=a&&c!=a&&(c=null))}var c=0,d="";F(arguments,b);return Di(d,c)}var cn=/^[a-zA-Z0-9-]+$/;function dn(a){this.Ji=a}dn.prototype.rc=function(a){var b=[];en(this,a,b);return b.join("")};
function en(a,b,c){switch(typeof b){case "string":fn(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(w(b)){var d=b.length;c.push("[");for(var f="",g=0;g<d;g++)c.push(f),f=b[g],en(a,a.Ji?a.Ji.call(b,String(g),f):f,c),f=",";c.push("]");break}c.push("{");d="";for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(f=b[g],"function"!=typeof f&&(c.push(d),fn(g,c),
c.push(":"),en(a,a.Ji?a.Ji.call(b,g,f):f,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}function fn(a,b){b.push('"',a.replace(rd,function(a){if(a in $m)return $m[a];var b=a.charCodeAt(0),f="\\u";16>b?f+="000":256>b?f+="00":4096>b&&(f+="0");return $m[a]=f+b.toString(16)}),'"')}function gn(a,b){return G(zb(a),b)}
function hn(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}
function jn(a){var b={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'},c;c=document.createElement("div");return a.replace(an,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})}function kn(a,b){var c=ln.h().Kl,d={title:b||a,type:"request",query:a};mn(c,c.re.Ra(),d);c.Qe()}function nn(a,b){var c=on.h();pn(c.bc,a,b)}
function qn(a,b,c,d){return tj.h().search(a,b,void 0,c,d)}function rn(){return tj.h().getEntries("/entries",void 0,void 0,void 0,void 0)}function sn(a,b,c,d){fj(zg.h(),a,"POST",b,c,d,!1)}function tn(a,b){a.innerHTML=Xm(b)}
function un(a,b,c){if(!cn.test(a))throw Error("Invalid tag name \x3c"+a+"\x3e.");if(a.toLowerCase()in Fi)throw Error("Tag name \x3c"+a+"\x3e is not allowed for SafeHtml.");var d=null,f="\x3c"+a;if(b)for(var g in b){if(!cn.test(g))throw Error('Invalid attribute name "'+g+'".');var h=b[g];if(null!=h){if(h instanceof Zm)h=h instanceof Zm&&h.constructor===Zm&&h.Bq===Wm?h.Xl:"type_error:Const";else{if(/^on/i.test(g))throw Error('Attribute "'+g+'" requires goog.string.Const value, "'+h+'" given.');if(h instanceof
Ym)h=h instanceof Ym&&h.constructor===Ym&&h.xq===Vm?h.kf:"type_error:SafeUrl";else{if(g.toLowerCase()in Ei)throw Error('Attribute "'+g+'" requires goog.string.Const or goog.html.SafeUrl value, "'+h+'" given.');h instanceof Tm&&(h=h instanceof Tm&&h.constructor===Tm&&h.wq===Nm?h.op:"type_error:SafeStyle")}}f+=" "+g+'\x3d"'+za(h)+'"'}}u(c)?w(c)||(c=[c]):c=[];a.toLowerCase()in zi?f+="\x3e":(d=bn(c),f+="\x3e"+Xm(d)+"\x3c/"+a+"\x3e",d=d.Ih());(a=b&&b.dir)&&(d="ltr"==a.toLowerCase()?1:"rtl"==a.toLowerCase()?
-1:null);return Di(f,d)}function vn(a){a=new a;var b=xi.h();a.xa(b)}function wn(a,b){null!=a&&this.append.apply(this,arguments)}e=wn.prototype;e.Aa="";e.set=function(a){this.Aa=""+a};e.append=function(a,b,c){this.Aa+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.Aa+=arguments[d];return this};e.clear=function(){this.Aa=""};e.toString=function(){return this.Aa};function xn(a,b){var c="";b&&(c=b.id);W(a,"activedescendant",c)}
function yn(a,b){a.classList?F(b,function(b){af(a,b)}):a.className=Na(Xe(a),function(a){return!G(b,a)}).join(" ")}function zn(a){if(ga(a))return Xa(a);a=zd(a);var b=[];Ad(a,function(a){b.push(a)});return b}function An(a){a.preventDefault()}function Bn(a,b){a=a.parentNode;for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Cn(a){return void 0!=a.nextElementSibling?a.nextElementSibling:jc(a.nextSibling)}function Dn(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}
function En(a,b,c){return bc(document,arguments)}function Fn(a){for(var b in a)return!1;return!0}function Gn(a,b){var c=!gn(a,b);L(a,b,c)}function Hn(a){return/^[\s\xa0]*$/.test(null==a?"":String(a))};function In(a){P.call(this,"navigate");this.uu=a}C(In,P);function Jn(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};function Kn(a,b,c,d){R.call(this);if(a&&!b)throw Error("Can't use invisible history without providing a blank page.");var f;c?f=c:(f="history_state"+Ln,document.write(ua(Mn,f,f)),f=Sb(document,f));this.hg=f;this.Y=c?$b(N(c)):window;this.Zh=b;H&&!b&&(this.Zh="https"==window.location.protocol?"https:///":'javascript:""');this.A=new nd(Nn);Cc(this,this.A);this.te=!a;this.l=new S(this);if(a||On)d?a=d:(a="history_iframe"+Ln,b=this.Zh?'src\x3d"'+za(this.Zh)+'"':"",document.write(ua(Pn,a,b)),a=Sb(document,
a)),this.$h=a,this.kq=!0;On&&(this.l.a(this.Y,"load",this.Jt),this.Mp=this.Wj=!1);this.te?Qn(this,this.Fb(),!0):Rn(this,this.hg.value);Ln++}C(Kn,R);Kn.prototype.oa=!1;Kn.prototype.df=!1;Kn.prototype.af=null;var Sn=function(a,b){var c=b||Jn;return function(){var b=this||q,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),f=c(ja(a),arguments);return b.hasOwnProperty(f)?b[f]:b[f]=a.apply(this,arguments)}}(function(){return H?8<=document.documentMode:"onhashchange"in q}),On=H&&!tb(8);e=Kn.prototype;
e.cf=null;e.f=function(){Kn.c.f.call(this);this.l.j();this.Ea(!1)};e.Ea=function(a){if(a!=this.oa)if(On&&!this.Wj)this.Mp=a;else if(a)if(lb?this.l.a(this.Y.document,Tn,this.St):I&&this.l.a(this.Y,"pageshow",this.ui),Sn()&&this.te)this.l.a(this.Y,"hashchange",this.Mt),this.oa=!0,this.dispatchEvent(new In(this.Fb()));else{if(!H||this.Wj)this.l.a(this.A,od,A(this.Hf,this,!0)),this.oa=!0,On||(this.af=this.Fb(),this.dispatchEvent(new In(this.Fb()))),this.A.start()}else this.oa=!1,this.l.zb(),this.A.stop()};
e.Jt=function(){this.Wj=!0;this.hg.value&&Rn(this,this.hg.value,!0);this.Ea(this.Mp)};e.ui=function(a){a.Q.persisted&&(this.Ea(!1),this.Ea(!0))};e.Mt=function(){var a=Un(this.Y);a!=this.af&&this.se(a,!0)};e.Fb=function(){return null!=this.cf?this.cf:this.te?Un(this.Y):Vn(this)||""};e.Hg=function(a,b){this.Fb()!=a&&(this.te?(Qn(this,a,!1),Sn()||H&&Rn(this,a,!1,b),this.oa&&this.Hf(!1)):(Rn(this,a,!1),this.cf=this.af=this.hg.value=a,this.dispatchEvent(new In(a))))};
function Un(a){a=a.location.href;var b=a.indexOf("#");return 0>b?"":a.substring(b+1)}function Qn(a,b,c){a=a.Y.location;var d=a.href.split("#")[0],f=-1!=a.href.indexOf("#");if(On||f||b)d+="#"+b;d!=a.href&&(c?a.replace(d):a.href=d)}
function Rn(a,b,c,d){if(a.kq||b!=Vn(a))if(a.kq=!1,b=encodeURIComponent(String(b)),H){var f=mc(a.$h);f.open("text/html",c?"replace":void 0);f.write(ua(Wn,za(d||a.Y.document.title),b));f.close()}else if(b=a.Zh+"#"+b,a=a.$h.contentWindow)c?a.location.replace(b):a.location.href=b}
function Vn(a){if(H)return a=mc(a.$h),a.body?xa(a.body.innerHTML):null;var b=a.$h.contentWindow;if(b){var c;try{c=xa(Un(b))}catch(d){return a.df||(!0!=a.df&&a.A.setInterval(Xn),a.df=!0),null}a.df&&(!1!=a.df&&a.A.setInterval(Nn),a.df=!1);return c||null}return null}e.Hf=function(a){if(this.te){var b=Un(this.Y);b!=this.af&&this.se(b,a)}if(!this.te||On)if(b=Vn(this)||"",null==this.cf||b==this.cf)this.cf=null,b!=this.af&&this.se(b,a)};
e.se=function(a){this.af=this.hg.value=a;this.te?(On&&Rn(this,a),Qn(this,a)):Rn(this,a);this.dispatchEvent(new In(this.Fb()))};e.St=function(){this.A.stop();this.A.start()};var Tn=["mousedown","keydown","mousemove"],Wn="\x3ctitle\x3e%s\x3c/title\x3e\x3cbody\x3e%s\x3c/body\x3e",Pn='\x3ciframe id\x3d"%s" style\x3d"display:none" %s\x3e\x3c/iframe\x3e',Mn='\x3cinput type\x3d"text" name\x3d"%s" id\x3d"%s" style\x3d"display:none"\x3e',Ln=0,Nn=150,Xn=1E4;function Yn(a,b){R.call(this);this.Y=a||window;this.dj=b||null;Q(this.Y,"popstate",this.ti,!1,this);Q(this.Y,"hashchange",this.ti,!1,this)}C(Yn,R);e=Yn.prototype;e.oa=!1;e.pm=!0;e.vg="/";e.Ea=function(a){a!=this.oa&&(this.oa=a)&&this.dispatchEvent(new In(this.Fb()))};e.Fb=function(){if(this.pm){var a=this.Y.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)}return this.dj?this.dj.cx(this.vg,this.Y.location):this.Y.location.pathname.substr(this.vg.length)};
e.Hg=function(a,b){a!=this.Fb()&&(this.Y.history.pushState(null,b||this.Y.document.title||"",this.pm?"#"+a:this.dj?this.dj.Yw(a,this.vg,this.Y.location):this.vg+a+this.Y.location.search),this.dispatchEvent(new In(a)))};e.f=function(){ed(this.Y,"popstate",this.ti,!1,this);this.pm&&ed(this.Y,"hashchange",this.ti,!1,this)};e.Hp=function(a){this.vg=a};e.ti=function(){this.oa&&this.dispatchEvent(new In(this.Fb()))};function Zn(){R.call(this);this.va=new S(this);this.va.a(document,"click",this.Wa);this.Ca=null;this.Pk=!1;this.xp=[];this.Qb=""}C(Zn,R);s(Zn);e=Zn.prototype;e.xa=function(a){var b=window;this.Ca=b.history&&b.history.pushState?new Yn:new Kn;this.Ca.Hp&&this.Ca.Hp(a.path_prefix);this.Ca.Ea(!0);this.va.a(this.Ca,"navigate",this.js)};
e.Wa=function(a){if(0==a.button){var b=a.target.href?a.target:Bn(a.target,function(a){return a.href?!0:!1});b&&b.href&&"redirect"!=b.rel&&"_blank"!=b.target&&(a.preventDefault(),a=Sd(Qd(b.href)[5]||null)||"",this.navigate(a))}};e.js=function(a){if(!this.Pk){var b=a.uu;if(a=Ra(this.xp,function(a){var d=a.pattern.exec(b);d?(a.Bd.apply(a.Re,d),a=!0):a=!1;return a},this))a.Zm?(this.dispatchEvent($n),this.Ui(b)):this.Ui(this.Qb,!0)}};
function ao(a,b,c,d,f){y(b)&&(b=new RegExp("^"+Ga(b).replace(/\\:\w+/g,"(\\w+)").replace(/\\\*/g,"(.*)").replace(/\\\[/g,"(").replace(/\\\]/g,")?").replace(/\\\{/g,"(?:").replace(/\\\}/g,")?")+"$"));b=new bo(b,c,d);u(f)&&(b.Zm=f);a.xp.push(b)}e.navigate=function(a){"/"==a.substr(0,1)&&(a=a.substr(1));a==this.Ca.Fb()&&co(this,"");this.Ca.Hg(a)};function co(a,b){"/"==b.substr(0,1)&&(b=b.substr(1));a.Pk=!0;a.Ca.Hg(b);a.Pk=!1}e.Ui=function(a,b){this.Qb=a;b&&co(this,a)};var $n="navigate";
function bo(a,b,c){this.pattern=a;this.Bd=b;this.Re=c;this.Zm=!0};function eo(){U.call(this)}C(eo,U);function fo(a,b,c){R.call(this);this.target=a;this.handle=b||a;this.Ko=c||new me(NaN,NaN,NaN,NaN);this.K=N(a);this.l=new S(this);Cc(this,this.l);Q(this.handle,["touchstart","mousedown"],this.rf,!1,this)}C(fo,R);var go=H||I&&K("1.9.3");
function ho(a){for(var b=a.cloneNode(!0),c=a.getElementsByTagName("textarea"),d=b.getElementsByTagName("textarea"),f=0;f<c.length;f++)d[f].value=c[f].value;switch(a.tagName.toLowerCase()){case "tr":return En("table",null,En("tbody",null,b));case "td":case "th":return En("table",null,En("tbody",null,En("tr",null,b)));case "textarea":b.value=a.value;default:return b}}e=fo.prototype;e.clientX=0;e.clientY=0;e.screenX=0;e.screenY=0;e.Yp=0;e.Zp=0;e.De=0;e.Ee=0;e.oa=!0;e.Fd=!1;e.Gk=0;e.mt=!1;e.hj=!1;
e.i=function(){return this.l};e.Qi=function(a){this.Gk=Math.pow(a,2)};e.Jp=function(a){this.Mi=a};e.Ea=function(a){this.oa=a};e.f=function(){fo.c.f.call(this);ed(this.handle,["touchstart","mousedown"],this.rf,!1,this);this.l.zb();go&&this.K.releaseCapture();this.handle=this.target=null};function io(a){u(a.mb)||(a.mb=xe(a.target));return a.mb}
e.rf=function(a){var b="mousedown"==a.type;if(!this.oa||this.Fd||b&&!Mc(a))this.dispatchEvent("earlycancel");else{jo(a);if(0==this.Gk)if(this.dispatchEvent(new ko("start",this,a.clientX,a.clientY,a)))this.Fd=!0,a.preventDefault();else return;else a.preventDefault();var b=this.K,c=b.documentElement,d=!go;this.l.a(b,["touchmove","mousemove"],this.ws,d);this.l.a(b,["touchend","mouseup"],this.Hd,d);go?(c.setCapture(!1),this.l.a(c,"losecapture",this.Hd)):this.l.a($b(b),"blur",this.Hd);H&&this.mt&&this.l.a(b,
"dragstart",An);this.Mi&&this.l.a(this.Mi,"scroll",this.jp,d);this.clientX=this.Yp=a.clientX;this.clientY=this.Zp=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.hj?(a=this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=qe(a,"position")||(c=N(a).documentElement),c?(I?(d=ze(c),b+=d.left):tb(8)&&(d=ze(c),b-=d.left),a=xe(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.De=a;this.Ee=this.target.offsetTop;this.sl=wc(Qb(this.K));B()}};
e.Hd=function(a,b){this.l.zb();go&&this.K.releaseCapture();if(this.Fd){jo(a);this.Fd=!1;var c=lo(this,this.De),d=mo(this,this.Ee);this.dispatchEvent(new ko("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function jo(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.Sa(a.Q.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.Sa(a.Q.changedTouches[0],a.currentTarget)}
e.ws=function(a){if(this.oa){jo(a);var b=(this.hj&&io(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Fd){var d=this.Yp-this.clientX,f=this.Zp-this.clientY;if(d*d+f*f>this.Gk)if(this.dispatchEvent(new ko("start",this,a.clientX,a.clientY,a)))this.Fd=!0;else{this.Ub||this.Hd(a);return}}c=no(this,b,c);b=c.x;c=c.y;this.Fd&&this.dispatchEvent(new ko("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(oo(this,a,b,c),a.preventDefault())}};function no(a,b,c){var d=wc(Qb(a.K));b+=d.x-a.sl.x;c+=d.y-a.sl.y;a.sl=d;a.De+=b;a.Ee+=c;b=lo(a,a.De);a=mo(a,a.Ee);return new M(b,a)}e.jp=function(a){var b=no(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;oo(this,a,b.x,b.y)};function oo(a,b,c,d){a.hj&&io(a)?a.target.style.right=c+"px":a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new ko("drag",a,b.clientX,b.clientY,b,c,d))}
function lo(a,b){var c=a.Ko,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function mo(a,b){var c=a.Ko,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function ko(a,b,c,d,f,g,h,k){P.call(this,a);this.clientX=c;this.clientY=d;this.Um=f;this.left=u(g)?g:b.De;this.top=u(h)?h:b.Ee;this.pr=!!k}C(ko,P);function po(){R.call(this);this.Pa=[];this.Je=[];this.Yj={};this.l=new S(this);this.nt=this.Ok=!1;this.om=!0}C(po,R);e=po.prototype;e.so=0;e.Qi=function(a){this.so=a};e.Sa=function(){if(!this.Ok){for(var a=0,b=this.Pa.length;a<b;a++)for(var c=hc(this.Pa[a]),d=0,f=c.length;d<f;++d)qo(this,c[d]);this.Ok=!0}};e.f=function(){this.l.j();for(var a=0,b=this.Pa.length;a<b;a++){var c=this.Pa[a];c.Vj=void 0;c.ad=void 0}this.Pa.length=0;this.Je.length=0;this.Yj=null;ro(this);po.c.f.call(this)};
function so(a,b){for(var c=0,d=a.Pa.length;c<d;c++){var f=a.Pa[c];f.He=Ee(f)}c=0;for(d=a.Je.length;c<d;c++)f=a.Je[c],f!=b&&(f.He=Ee(f))}function qo(a,b){var c=a.Wn(b),d=ja(c);a.Yj[d]=b;a.Hn&&(a.l.a(b,"mouseover",a.Wr),a.l.a(b,"mouseout",a.Vr));a.Gn&&(a.l.a(c,"mouseover",a.Ur),a.l.a(c,"mouseout",a.Tr));a.Je.push(b);a.l.a(c,["mousedown","touchstart"],a.ys)}
e.ys=function(a){var b=ja(a.currentTarget);this.C=this.Yj[b];this.Qa=this.Lj(this.C);this.qr&&$e(this.Qa,this.qr||[]);this.Qa.style.margin="0";this.Qa.style.position="absolute";this.Qa.style.visibility="hidden";N(this.C).body.appendChild(this.Qa);b=we(this.C);Ae(this.Qa,b);this.Ha=new fo(this.Qa);this.Ha.Qi(this.so);Q(this.Ha,"start",this.Ph,!1,this);Q(this.Ha,"end",this.Oh,!1,this);Q(this.Ha,"earlycancel",this.Hj,!1,this);this.Ha.rf(a)};e.Jj=function(a){return ho(a)};e.Lj=function(a){return this.Jj(a)};
e.Ph=function(a){if(this.dispatchEvent(new to("beforedragstart",0,a.Um,this.C))){this.wi=this.C.parentNode;this.wn=this.pl=Cn(this.C);this.Nj=this.wi;this.Mj?$e(this.C,this.Mj||[]):this.C.style.visibility="hidden";var b=Ce(this.Qa);this.Qa.Fr=b.width/2;this.Qa.Er=b.height/2;this.Qa.style.visibility="";this.om&&(this.C.style.display="none");so(this,this.C);this.C.style.display="";Q(this.Ha,"drag",this.Xr,!1,this);this.dispatchEvent(new to("dragstart",0,a.Um,this.C))}else a.preventDefault(),this.Hj()};
e.Xr=function(a){var b=we(this.Qa),b=new M(b.x+this.Qa.Fr,b.y+this.Qa.Er),c;a:{c=null;if("none"!=this.C.style.display){c=this.C.parentNode;var d=Ee(c);if(uo(b,d))break a}for(var d=0,f=this.Pa.length;d<f;d++){var g=this.Pa[d];if(g!=c&&uo(b,g.He)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var k,l,d=!1,f=void 0;switch(c.Vj){case 0:h=b.y;k=vo;l=wo;break;case 4:d=!0;case 2:h=b.x;k=xo;l=wo;break;case 5:d=!0;case 3:h=b.x,k=yo,l=zo}for(var g=null,
n,t=hc(c),v=0,da=t.length;v<da;v++){var ya=t[v];if(ya!=this.C){var Ha=k(ya.He);if(d){var Ta=Ao(ya,b);u(f)||(f=Ta);l(h,Ha)&&(void 0==n||Ta<f||Ta==f&&(l(Ha,n)||Ha==n))&&(g=ya,n=Ha);Ta<f&&(f=Ta)}else l(h,Ha)&&(void 0==n||l(Ha,n))&&(g=ya,n=Ha)}}h=null!==g&&Ao(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new to("beforedragmove",0,a,this.C)))return!1;if(c)this.om?this.C.parentNode==c&&Cn(this.C)==h||c.insertBefore(this.C,h):h&&(this.wn=h),this.C.style.display="",c.ad&&Ze(c,c.ad);else for(this.nt||(this.C.style.display=
"none"),h=0,k=this.Pa.length;h<k;h++)l=this.Pa[h],l.ad&&af(l,l.ad);c!=this.Nj&&(this.Nj=c,so(this,this.C));this.dispatchEvent(new to("dragmove",0,a,this.C));return!1};e.Hj=function(){ro(this);this.Ha=this.Qa=this.pl=this.wi=this.Nj=this.C=null;for(var a=0,b=this.Pa.length;a<b;a++)this.Pa[a].He=null;a=0;for(b=this.Je.length;a<b;a++)this.Je[a].He=null};
e.Oh=function(a){if(!this.dispatchEvent(new to("beforedragend",0,a,this.C)))return!1;this.om||this.wi.insertBefore(this.C,this.wn);ro(this);this.dispatchEvent(new to("dragend",0,a,this.C));this.Hj();return!0};function ro(a){Dc(a.Ha);a.Qa&&gc(a.Qa);a.C&&"none"==a.C.style.display&&(a.wi.insertBefore(a.C,a.pl),a.C.style.display="");a.Mj&&a.C?yn(a.C,a.Mj||[]):a.C&&(a.C.style.visibility="visible");for(var b=0,c=a.Pa.length;b<c;b++){var d=a.Pa[b];d.ad&&af(d,d.ad)}}e.Wn=function(a){return a};
e.Wr=function(a){$e(a.currentTarget,this.Hn||[])};e.Vr=function(a){yn(a.currentTarget,this.Hn||[])};e.Ur=function(a){$e(a.currentTarget,this.Gn||[])};e.Tr=function(a){yn(a.currentTarget,this.Gn||[])};function uo(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Ao(a,b){var c=a.He;return Math.abs(b.y-(c.top+(c.height-1)/2))}function vo(a){return a.top+a.height-1}function xo(a){return a.left+a.width-1}function yo(a){return a.left||0}function wo(a,b){return a<b}
function zo(a,b){return a>b}function to(a,b,c,d){P.call(this,a);this.event=c;this.vn=d}C(to,P);var Bo,Co,Do;function Lm(a){var b=a.getTime(),c;c=b;var d=B();d<c&&(c=d);var d=B(),f=Math.floor((d-c)/6E4),d=!1;0>f&&(d=!0,f*=-1);60>f?c=Do(f,d,0):(f=Math.floor(f/60),24>f?c=Do(f,d,1):(f=new Date(B()),f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f=Math.ceil((f.getTime()-c)/864E5),d&&(f*=-1),c=14>f?Do(f,d,2):""));c&&(c=" ("+c+")");1440>Math.floor((B()-b)/6E4)?(Co||(Co=new nl(7)),a=Co.format(a)+c):(Bo||(Bo=new nl(0)),a=Bo.format(a)+c);return a}
Do=function(a,b,c){return b||0!=c?b&&0==c?1==a?"in "+(a+" minute"):"in "+(a+" minutes"):b||1!=c?b&&1==c?1==a?"in "+(a+" hour"):"in "+(a+" hours"):b||2!=c?b&&2==c?1==a?"in "+(a+" day"):"in "+(a+" days"):"":1==a?a+" day ago":a+" days ago":1==a?a+" hour ago":a+" hours ago":1==a?a+" minute ago":a+" minutes ago"};function nj(){R.call(this);this.$j={}}C(nj,R);s(nj);nj.prototype.get=function(a){return this.$j[a]||null};nj.prototype.set=function(a,b){this.$j[a]=b;b.hc(this)};nj.prototype.remove=function(a){return Kb(this.$j,a)};function Eo(a,b){this.ic=a||"";this.Ke=b||null;this.Jg=[];this.lh=[];this.Ej={};this.Ml={}}
Eo.prototype.Ip=function(a){this.ic=a;this.Ml={};this.Ej={};a=twttr.txt.extractHashtagsWithIndices(this.ic);this.Jg=[];this.lh=[];for(var b=0;b<a.length;b++){var c=a[b],d;d=/^:(?:(?:"([^"]*)")|([^\s"]+))/g.exec(this.ic.slice(c.indices[1]));var f=null;null!==d?(f=d[1]?d[1]:d[2],void 0===f&&(f=""),d={zu:f,length:d[0].length-1}):d=null;null===d?-1==this.Jg.indexOf(c.hashtag)&&this.Jg.push(c.hashtag):(f=c.indices[1]+1,this.lh.push({key:c.hashtag,value:d.zu,wb:[f,f+d.length]}))}};
Eo.prototype.ok=function(a){var b=this.Ej[a];u(b)||(b=(new a).parse(this),this.Ej[a]=b);return b};function Fo(a,b){R.call(this);this.oc=a;this.pg=this.oc.fd();this.oc.fd();this.dc=b;this.Bo=!1;this.hc(nj.h())}C(Fo,R);Fo.prototype.Ld=function(){return this.dc};Fo.prototype.toString=function(){if(!this.Bo){this.dispatchEvent(Go);for(var a=this.pg,b=this.dc.Jg,c=0;c<b.length;c++)var d="#"+b[c],a=a.replace(d,'\x3ca class\x3d"hash-link simple" href\x3d"/search/'+encodeURIComponent(b[c])+'"\x3e'+d+"\x3c/a\x3e");this.pg=a;this.Bo=!0}return this.pg};var Go="entry_text_parse";function Rm(a){R.call(this);if(u(a)){var b=nj.h(),c;if(c=b.get(a))return c;b.set(a,this)}this.U=a||"";this.ic="";this.Ep=this.fm=this.dc=this.hn=null}C(Rm,ie);function wj(a){var b=new Rm(a._id);b.update(a);return b}e=Rm.prototype;e.T=function(){return this.U};e.Si=function(a){this.ic=a;this.fm=null;this.dispatchEvent(oj)};e.fd=function(){return this.ic};e.Tn=function(){return this.hn||new ek};
e.Ld=function(){if(!this.dc){var a=this.dc=new Eo(this.ic,this),b=this.Ep||{};a.Ml=b;u(b.simple_tags)&&(a.Jg=b.simple_tags);u(b.complex_tags)&&(a.lh=b.complex_tags)}return this.dc};function Ho(a){return a.fm||(a.fm=new Fo(a,a.Ld()))}e.save=function(a,b){var c=tj.h();this.T()?c.save(this,a,b):c.save(this,function(){nj.h().set(this.T(),this);this.dispatchEvent(pj);z(a)&&a.call(b,this)},this)};e.Ac=function(){var a=tj.h();this.U&&(a.Ac(this),this.U="");this.dispatchEvent("destroy")};
e.update=function(a){var b=!1;this.Ep=a;u(a._id)&&(this.U=a._id,b=!0);u(a.text)&&(this.ic=a.text,b=!0);u(a.created_date)&&(y(a.created_date)?(a=a.created_date,b=new ek(2E3),a=Sj(b,a)?b:null):a=a.created_date,this.hn=a,b=!0);b&&this.dispatchEvent("change")};e.rc=function(){return{text:this.ic}};var pj="entry_created",oj="text_changed";function Io(a){var b='\x3cli class\x3d"entry"\x3e\x3cdiv class\x3d"entry-actions"\x3e\x3ca class\x3d"action-edit" href\x3d"'+hg(a.rr)+'"\x3e\x3c/a\x3e\x3ca class\x3d"action-delete" href\x3d"'+hg(a.nr)+'"\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-body"\x3e',c;c=(c=a.body)&&c.nh===cg?"zSoyz":String(c);return b+c+'\x3c/div\x3e\x3cdiv class\x3d"entry-info"\x3e\x3cspan class\x3d"entry-date"\x3e'+hg(a.r)+"\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e"};function Jo(a){U.call(this);this.Ya=a}C(Jo,U);Jo.prototype.g=function(){var a=this.Ya,b=Lm(a.Tn()),a={rr:"/edit/"+a.T(),nr:"/delete/"+a.T(),body:Ho(a).toString(),r:b},a=dg(Io,a);this.m(a)};Jo.prototype.e=function(){Jo.c.e.call(this);var a=this.Ya;this.i().a(a,oj,this.Hc).a(this.b(),"click",this.Wa);Ho(a).dispatchEvent({type:"entry_display",gq:this})};Jo.prototype.Hc=function(){var a=Ho(this.Ya).toString();this.k("entry-body").innerHTML=a;Ho(this.Ya).dispatchEvent({type:"entry_display",gq:this})};
Jo.prototype.Wa=function(a){"A"!=a.target.nodeName&&this.k("action-edit").click()};function Ko(a){U.call(this);this.kc=a;this.kc.forEach(function(a){Lo(this,a)},this);this.Db=new po;this.Db.Qi(10)}C(Ko,U);e=Ko.prototype;e.g=function(){var a=this.s().g("ul","entry-list");this.m(a)};e.e=function(){Ko.c.e.call(this);this.i().a(this.kc,ij,this.Yr).a(this.kc,kj,this.ds).a(this.kc,Mm,this.bs).a(this.kc,["readystatechange","complete"],this.Zn).a(this.b(),"scroll",this.zk).a(this.Db,"beforedragend",this.as);var a=this.Db,b=this.b();b.Vj=0;b.ad=void 0;a.Pa.push(b);this.Db.Sa();this.Zn()};
e.as=function(a){console.log(a);return!1};e.zk=function(a){var b=this.b();50>b.scrollHeight-b.offsetHeight-b.scrollTop&&(b=this.kc,b.Oo||b.lg||(b.be.Kg=(b.be.Kg||0)+(b.be.Xd||mj.Xd),b.refresh(void 0,void 0,!0)));this.dispatchEvent(a)};e.Yr=function(a){Lo(this,a.item,a.index)};e.ds=function(a){(a=this.removeChild(Ve(this,a.index),!0))&&a.j()};e.bs=function(a){this.Sb(Ve(this,a.Ft),a.Dt)};function Lo(a,b,c){b=new Jo(b);ha(c)?a.Sb(b,c,!0):a.N(b,!0)}e.f=function(){this.Db.j()};
e.Zn=function(){var a=this.kc.lg;L(this.b(),"is-loading",a)};function Mo(a){U.call(this);this.Mb=new Jj("");this.Mb.qf("Add Entry...");this.gm=a||"";this.ga=!1}C(Mo,U);e=Mo.prototype;e.g=function(){var a=this.s(),a=a.g("div","quick-create-entry hidden",[a.g("div","actions")]);this.m(a);this.N(this.Mb,!0)};e.e=function(){Mo.c.e.call(this);this.i().a(this.Mb,"keydown",this.Rd).a(this.Mb,"focus",this.$m).a(this.Mb,"blur",this.qk)};e.$m=function(){!this.Mb.n()&&this.gm&&this.Mb.G(this.gm+" ")};
e.Rd=function(a){if(13!==a.keyCode||a.shiftKey)27===a.keyCode&&this.dispatchEvent("close");else{var b=this.Mb.n();if(b){var c=new Rm;c.Si(b);c.save();this.Mb.reset();this.$m()}a.preventDefault()}};e.qk=function(){var a=this.Mb.n();if(a.trim()==this.gm.trim()||0==a.trim().length)this.Mb.reset(),this.dispatchEvent("close")};e.P=function(a){a&&this.Mb.focus();L(this.b(),"hidden",!a);this.ga=a};e.V=function(){return this.ga};function No(a){return a=""+('\x3csection class\x3d"entry-list-container"\x3e\x3cdiv class\x3d"entry-list-actions touch-visible"\x3e\x3cdiv class\x3d"action action-add" data-tooltip\x3d"add" data-action\x3d"add"\x3e\x3c/div\x3e\x3cdiv class\x3d"action action-close" data-tooltip\x3d"close" data-action\x3d"close"\x3e\x3c/div\x3e\x3cdiv class\x3d"action action-toggle" data-action\x3d"toggle"\x3e\x3c/div\x3e\x3cul class\x3d"entry-list-menu"\x3e\x3cli class\x3d"action-save" data-action\x3d"save"\x3eSave\x3c/li\x3e\x3cli class\x3d"action-delete" data-action\x3d"delete"\x3eDelete all\x3c/li\x3e\x3cli class\x3d"action-sort-text" data-action\x3d"sort-text"\x3eSort by text\x3c/li\x3e\x3cli class\x3d"action-sort-date hidden" data-action\x3d"sort-date"\x3eSort by date\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3ch3 title\x3d"'+
hg(a.title)+'"\x3e\x3cspan class\x3d"drag-element"\x3e\x3c/span\x3e'+hg(a.title)+"\x3c/h3\x3e\x3c/section\x3e")};function Oo(a,b){U.call(this);var c=a.Ni.replace("/entries",""),c=c.replace("?query\x3d","");this.lf=new Mo(decodeURIComponent(c));this.Uf=new Ko(a);this.Nb=b||a.ed()}C(Oo,U);e=Oo.prototype;e.g=function(){var a=dg(No,{title:this.Nb});this.m(a)};e.m=function(a){Oo.c.m.call(this,a);this.N(this.lf,!0);this.N(this.Uf,!0)};e.e=function(){Oo.c.e.call(this);this.i().a(this.k("entry-list-actions"),"click",this.Gr).a(this.lf,"resize",this.uj).a(this.lf,"close",this.Vq)};
e.uj=function(a){var b=0;this.lf.P(!!a);if(!u(a)||a)b=this.lf.b().offsetHeight;a=b;ne(this.Uf.b(),"top",a+50+"px")};e.Vq=function(){this.uj(!1)};e.im=function(){var a=this.k("entry-list-menu");Gn(a,"visible");gn(a,"visible")?this.i().a(document.body,"click",this.im,!0):this.i().I(document.body,"click",this.im,!0)};e.ed=function(){return this.Uf.kc.ed()};
e.Gr=function(a){switch(a.target.getAttribute("data-action")){case "add":this.uj(!this.lf.V());break;case "toggle":this.im();break;case "close":this.close();break;case "save":kn(this.ed(),this.Nb);break;case "delete":Sm(this.Uf.kc,function(a){a.Ac()});this.close();break;case "sort-text":Po(this,"text");break;case "sort-date":Po(this,"created_date")}};function Po(a,b){var c=a.Uf.kc;c.be.sort=b;c.refresh();Gn(a.k("action-sort-text"),"hidden");Gn(a.k("action-sort-date"),"hidden")}
e.close=function(){this.getParent().removeChild(this);this.j()};function Qo(a){this.$d=a}Qo.prototype.set=function(a,b){u(b)?this.$d.set(a,(new dn(void 0)).rc(b)):this.$d.remove(a)};Qo.prototype.get=function(a){var b;try{b=this.$d.get(a)}catch(c){return}if(null!==b)try{return qd(b)}catch(d){throw"Storage: Invalid value was encountered";}};Qo.prototype.remove=function(a){this.$d.remove(a)};function Ro(){};function So(a){this.$d=a}C(So,Qo);function To(a){this.data=a}function Uo(a){return!u(a)||a instanceof To?a:new To(a)}So.prototype.set=function(a,b){So.c.set.call(this,a,Uo(b))};So.prototype.pk=function(a){a=So.c.get.call(this,a);if(!u(a)||a instanceof Object)return a;throw"Storage: Invalid value was encountered";};So.prototype.get=function(a){if(a=this.pk(a)){if(a=a.data,!u(a))throw"Storage: Invalid value was encountered";}else a=void 0;return a};function Vo(a){this.$d=a}C(Vo,So);Vo.prototype.set=function(a,b,c){if(b=Uo(b)){if(c){if(c<B()){Vo.prototype.remove.call(this,a);return}b.expiration=c}b.creation=B()}Vo.c.set.call(this,a,b)};Vo.prototype.pk=function(a,b){var c=Vo.c.pk.call(this,a);if(c){var d;if(d=!b){d=c.creation;var f=c.expiration;d=!!f&&f<B()||!!d&&d>B()}if(d)Vo.prototype.remove.call(this,a);else return c}};function Wo(){}C(Wo,Ro);Wo.prototype.S=function(){var a=0;Ad(this.Rb(!0),function(){a++});return a};Wo.prototype.clear=function(){var a=zn(this.Rb(!0)),b=this;F(a,function(a){b.remove(a)})};function Xo(a){this.Kb=a}C(Xo,Wo);e=Xo.prototype;e.Nk=function(){if(!this.Kb)return!1;try{return this.Kb.setItem("__sak","1"),this.Kb.removeItem("__sak"),!0}catch(a){return!1}};e.set=function(a,b){try{this.Kb.setItem(a,b)}catch(c){if(0==this.Kb.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};e.get=function(a){a=this.Kb.getItem(a);if(!y(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};e.remove=function(a){this.Kb.removeItem(a)};
e.S=function(){return this.Kb.length};e.Rb=function(a){var b=0,c=this.Kb,d=new yd;d.next=function(){if(b>=c.length)throw xd;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!y(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};e.clear=function(){this.Kb.clear()};e.key=function(a){return this.Kb.key(a)};function Yo(){var a=null;try{a=window.localStorage||null}catch(b){}this.Kb=a}C(Yo,Xo);function Zo(a,b){if(H&&!tb(9)){$o||($o=new Bd);this.ib=$o.get(a);this.ib||(b?this.ib=document.getElementById(b):(this.ib=document.createElement("userdata"),this.ib.addBehavior("#default#userData"),document.body.appendChild(this.ib)),$o.set(a,this.ib));this.sf=a;try{this.ib.load(this.sf)}catch(c){this.ib=null}}}C(Zo,Wo);var ap={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},$o=null;e=Zo.prototype;e.ib=null;e.sf=null;
function bp(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return ap[a]})}e.Nk=function(){return!!this.ib};e.set=function(a,b){this.ib.setAttribute(bp(a),b);cp(this)};e.get=function(a){a=this.ib.getAttribute(bp(a));if(!y(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};e.remove=function(a){this.ib.removeAttribute(bp(a));cp(this)};e.S=function(){return dp(this).attributes.length};
e.Rb=function(a){var b=0,c=dp(this).attributes,d=new yd;d.next=function(){if(b>=c.length)throw xd;var d=c[b++];if(a)return decodeURIComponent(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!y(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};e.clear=function(){for(var a=dp(this),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);cp(this)};function cp(a){try{a.ib.save(a.sf)}catch(b){throw"Storage mechanism: Quota exceeded";}}
function dp(a){return a.ib.XMLDocument.documentElement};function ep(a,b){this.ff=a;this.fe=b+"::"}C(ep,Wo);e=ep.prototype;e.ff=null;e.fe="";e.set=function(a,b){this.ff.set(this.fe+a,b)};e.get=function(a){return this.ff.get(this.fe+a)};e.remove=function(a){this.ff.remove(this.fe+a)};e.Rb=function(a){var b=this.ff.Rb(!0),c=this,d=new yd;d.next=function(){for(var d=b.next();d.substr(0,c.fe.length)!=c.fe;)d=b.next();return a?d.substr(c.fe.length):c.ff.get(d)};return d};function fp(){var a=new Yo;(a=a.Nk()?new ep(a,"appdata"):null)||(a=new Zo("appdata"),a=a.Nk()?a:null);this.$d=a}C(fp,Vo);s(fp);fp.prototype.set=function(a,b,c){return fp.c.set.call(this,"blaUser"+a,b,c)};fp.prototype.get=function(a){return fp.c.get.call(this,"blaUser"+a)};function gp(){return'\x3cdiv class\x3d"view list-view"\x3e\x3c/div\x3e'}function hp(){return'\x3cdiv class\x3d"entry-list-switcher"\x3e\x3cdiv class\x3d"stats"\x3e\x3c/div\x3e\x3cspan class\x3d"left-btn"\x3e\x3c/span\x3e\x3cspan class\x3d"right-btn"\x3e\x3c/span\x3e\x3c/div\x3e'};function ip(a){U.call(this);this.bc=a;this.yc=this.Io=0}C(ip,U);e=ip.prototype;e.g=function(){var a=dg(hp);this.m(a)};e.e=function(){ip.c.e.call(this);this.i().a(this.b(),"click",this.Wa).a(this.bc,"scroll",this.zk).a(this.bc,jp,this.ho).a(this.bc,kp,this.ho);lp(this)};e.P=function(a){L(this.b(),"hidden",!a)};e.zk=function(a){a=a.target.scrollTop;this.P(a<this.Io);this.Io=a};e.ho=function(){var a=Ue(this.bc)-1;a<this.yc&&(a=this.yc=0<=a?a:0,mp(this.bc.b(),-100*a+"%"));lp(this)};
e.Wa=function(a){a=a.target;gn(a,"hidden")||(gn(a,"left-btn")?this.yc--:gn(a,"right-btn")&&this.yc++,a=this.yc,mp(this.bc.b(),-100*a+"%"),lp(this))};function lp(a){var b=Ue(a.bc)-1,c=a.yc+1+"/"+(b+1);a.k("stats").innerHTML=c;c=0>=a.yc;L(a.k("left-btn"),"hidden",c);b=a.yc>=b;L(a.k("right-btn"),"hidden",b)};function mp(a,b){ne(a,"transform","translate3d("+(b||0)+", 0, 0)")};function np(){R.call(this);this.v=op;this.Mn=this.startTime=null}C(np,R);var op=0;np.prototype.Oc=function(){this.Cc("begin")};np.prototype.nd=function(){this.Cc("end")};np.prototype.Cc=function(a){this.dispatchEvent(a)};var pp={},qp=null;function rp(a){a=ja(a);delete pp[a];Fn(pp)&&qp&&qp.stop()}function sp(){qp||(qp=new pf(function(){tp()},20));var a=qp;a.$b()||a.start()}function tp(){var a=B();Hb(pp,function(b){up(b,a)});Fn(pp)||sp()};function vp(a,b,c,d){np.call(this);if(!w(a)||!w(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Lg=a;this.Ln=b;this.duration=c;this.Hm=d;this.coords=[];this.hj=!1}C(vp,np);e=vp.prototype;e.fb=0;
e.play=function(a){if(a||this.v==op)this.fb=0,this.coords=this.Lg;else if(1==this.v)return!1;rp(this);this.startTime=a=B();-1==this.v&&(this.startTime-=this.duration*this.fb);this.Mn=this.startTime+this.duration;this.fb||this.Oc();this.Cc("play");-1==this.v&&this.Cc("resume");this.v=1;var b=ja(this);b in pp||(pp[b]=this);sp();up(this,a);return!0};e.stop=function(a){rp(this);this.v=op;a&&(this.fb=1);wp(this,this.fb);this.Cc("stop");this.nd()};
e.f=function(){this.v==op||this.stop(!1);this.Cc("destroy");vp.c.f.call(this)};e.Ac=function(){this.j()};function up(a,b){a.fb=(b-a.startTime)/(a.Mn-a.startTime);1<=a.fb&&(a.fb=1);wp(a,a.fb);1==a.fb?(a.v=op,rp(a),a.Cc("finish"),a.nd()):1==a.v&&a.qg()}function wp(a,b){z(a.Hm)&&(b=a.Hm(b));a.coords=Array(a.Lg.length);for(var c=0;c<a.Lg.length;c++)a.coords[c]=(a.Ln[c]-a.Lg[c])*b+a.Lg[c]}e.qg=function(){this.Cc("animate")};e.Cc=function(a){this.dispatchEvent(new xp(a,this))};
function xp(a,b){P.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.fb=b.fb;this.state=b.v}C(xp,P);function yp(a,b,c,d){vp.call(this,a,b,c,d)}C(yp,vp);yp.prototype.setEndPoint=function(a){this.Ln=a};function zp(a,b,c,d,f){vp.call(this,b,c,d,f);this.element=a}C(zp,yp);e=zp.prototype;e.Tc=r;e.Wd=function(){u(this.mb)||(this.mb=xe(this.element));return this.mb};e.qg=function(){this.Tc();zp.c.qg.call(this)};e.nd=function(){this.Tc();zp.c.nd.call(this)};e.Oc=function(){this.Tc();zp.c.Oc.call(this)};function Ap(a,b,c,d,f,g){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");zp.apply(this,arguments);this.Hl=g||null}C(Ap,zp);Ap.prototype.Tc=function(){this.Hl?(this.Hl.scrollLeft=this.coords[0],this.Hl.ex=this.coords[1]):window.scrollTo(this.coords[0],this.coords[1])};function Bp(a,b){this.d=a;this.Ae=b}Bp.prototype.play=function(){dd(this.d,[Hc,Gc],this.Ts,!1,this);Ab(this.d,this.Ae)};Bp.prototype.Ts=function(){Bb(this.d,this.Ae)};function Cp(a){return 3*a*a-2*a*a*a};function Dp(){U.call(this);this.Db=new po;this.Db.Qi(10);this.Db.Wn=this.Br;var a=fp.h().get(this.sf);if(a)for(var b=0;b<a.length;b++){var c=a[b],d=rj(c.searchPattern);pn(this,d,c.title,!1)}else a=rn(),pn(this,a,"Latest Entries",!1)}C(Dp,eo);e=Dp.prototype;e.g=function(){var a=dg(gp);this.m(a)};e.e=function(){Dp.c.e.call(this);if(Ii)(new ip(this)).W(this.b().parentElement);else{var a=this.Db,b=this.b();b.Vj=2;b.ad=void 0;a.Pa.push(b);this.Db.Sa();this.i().a(this.Db,"dragend",this.ns)}};
e.ns=function(a){var b=-1,c=null;V(this,function(d){d.b()==a.vn&&(c=d,b=Ma(hc(this.R()),a.vn))},this);this.removeChild(c);gc(c.b());this.Sb(c,b);Dn(this.R(),c.b(),b);Ep(this)};e.Br=function(a){return Vb("drag-element",a)};function pn(a,b,c,d){var f;V(a,function(a){a.ed()==b.ed()&&(f=a)},a);f||(f=new Oo(b,c),a.N(f,!0),a.w&&qo(a.Db,f.b()),Ep(a),a.dispatchEvent(jp));!1!==d&&Fp(a,f)}
function Fp(a,b){var c=b.b(),d=a.b();(new Ap(c,[d.scrollLeft,0],[c.offsetLeft,0],500,Cp,d)).play();(new Bp(c,"focus-anim")).play()}e.Ij=function(){this.xg(!0)};e.removeChild=function(a,b){var c=Dp.c.removeChild.call(this,a,b);this.dispatchEvent(kp);Ep(this);return c};e.sf="hash5-listview-opend";function Ep(a){var b=[];V(a,function(a){b.push({searchPattern:a.ed(),title:a.Nb})});fp.h().set(a.sf,b)}var jp="list-added",kp="list-removed";function Gp(a,b,c,d,f){vp.call(this,b,c,d,f);this.element=a}C(Gp,vp);e=Gp.prototype;e.Tc=r;e.Wd=function(){u(this.mb)||(this.mb=xe(this.element));return this.mb};e.qg=function(){this.Tc();Gp.c.qg.call(this)};e.nd=function(){this.Tc();Gp.c.nd.call(this)};e.Oc=function(){this.Tc();Gp.c.Oc.call(this)};function Hp(a,b,c,d,f){ha(b)&&(b=[b]);ha(c)&&(c=[c]);Gp.call(this,a,b,c,d,f);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}C(Hp,Gp);
Hp.prototype.Tc=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity\x3d"+100*a+")")};Hp.prototype.show=function(){this.element.style.display=""};function Ip(a,b,c){Hp.call(this,a,1,0,b,c)}C(Ip,Hp);Ip.prototype.Oc=function(){this.show();Ip.c.Oc.call(this)};Ip.prototype.nd=function(){this.element.style.display="none";Ip.c.nd.call(this)};function Jp(a,b,c){Hp.call(this,a,0,1,b,c)}C(Jp,Hp);
Jp.prototype.Oc=function(){this.show();Jp.c.Oc.call(this)};function Kp(a,b,c){R.call(this);this.mg=a;this.rd=c;this.p=b;Q(b,[Lp,Mp,Np,Op],this.handleEvent,!1,this);this.Ob=null;this.ma=[];this.hd=-1;this.ab=0;this.Dd=this.aa=null;this.xo={}}C(Kp,R);e=Kp.prototype;e.yt=10;e.Nq=!0;e.Lm=!1;e.sq=!1;e.eq=!1;var Lp="hilite",Mp="select",Op="dismiss",Np="canceldismiss";e=Kp.prototype;e.Fb=function(){return this.Ob};
e.handleEvent=function(a){var b=this.mg;if(a.target==this.p)switch(a.type){case Lp:this.Jc(a.ie);break;case Mp:var c=!1;if(ha(a.ie)){a=a.ie;var d=this.ma[Pp(this,a)],c=!!d&&b.Qk&&b.Qk(d);d&&!c&&this.hd!=a&&this.Jc(a)}c||Qp(this);break;case Np:Rp(this);break;case Op:Sp(this)}};e.Hg=function(a,b){this.Ob!=a&&(this.Ob=a,this.mg.tp(this.Ob,this.yt,A(this.vt,this),b),Rp(this))};e.ac=function(){return this.p.V()};
function Tp(a){for(var b=a.ab+a.ma.length-1,c=a.hd,d=0;d<a.ma.length;d++){if(c>=a.ab&&c<b)c++;else if(-1==c)c=a.ab;else if(a.Lm&&c==b){a.Jc(-1);break}else if(a.sq&&c==b)c=a.ab;else break;if(a.Jc(c))return!0}return!1}function Up(a){for(var b=a.ab+a.ma.length-1,c=a.hd,d=0;d<a.ma.length;d++){if(c>a.ab)c--;else if(a.Lm&&c==a.ab){a.Jc(-1);break}else if(!a.sq||-1!=c&&c!=a.ab)break;else c=b;if(a.Jc(c))return!0}return!1}
e.Jc=function(a){var b=Pp(this,a),c=this.ma[b];return c&&this.mg.Qk&&this.mg.Qk(c)?!1:(this.hd=a,this.p.Jc(a),-1!=b)};function Qp(a){var b=Pp(a,a.hd);if(-1!=b){var c=a.ma[b],d=a.rd;d.M&&d.Lp(c.toString(),void 0);a.eq?(a.Ob=null,Sp(a)):a.Bc();a.dispatchEvent({type:"update",ie:c,index:b});a.eq&&a.rd.update(!0);return!0}a.Bc();a.dispatchEvent({type:"update",ie:null,index:null});return!1}
e.Bc=function(){this.hd=-1;this.Ob=null;this.ab+=this.ma.length;this.ma=[];window.clearTimeout(this.Dd);this.Dd=null;this.p.Bc();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(Op)};function Sp(a){a.Dd||(a.Dd=window.setTimeout(A(a.Bc,a),100))}e.uo=function(){return this.Dd?(window.clearTimeout(this.Dd),this.Dd=null,!0):!1};function Rp(a){a.uo()||window.setTimeout(A(a.uo,a),10)}e.f=function(){Kp.c.f.call(this);delete this.xo;this.p.j();this.rd.j();this.mg=null};
e.vt=function(a,b,c){this.Ob==a&&this.Bl(b,c)};e.Bl=function(a,b){var c="object"==fa(b)&&b,d=(c?c.$w():b)?Pp(this,this.hd):-1;this.ab+=this.ma.length;this.ma=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.ab+g,data:a[g]});g=null;this.aa&&(g=this.xo[ja(this.aa)]||this.aa);this.p.Lq=g;this.p.Bl(f,this.Ob,this.aa);g=this.Nq;c&&void 0!==c.Ar()&&(g=c.Ar());this.hd=-1;(g||0<=d)&&0!=f.length&&this.Ob&&(0<=d?this.Jc(this.ab+d):Tp(this));this.dispatchEvent("suggestionsupdate")};
function Pp(a,b){var c=b-a.ab;return 0>c||c>=a.ma.length?-1:c}e.bh=function(a){var b=this.rd;b.bh.apply(b,arguments)};e.update=function(a){this.rd.update(a)};function Vp(a,b,c,d){R.call(this);this.H=a||document.body;this.D=Qb(this.H);this.cu=!a;this.d=null;this.Ob="";this.ma=[];this.je=[];this.Xp=this.Xh=-1;this.sa=!1;this.className="ac-renderer";this.El="ac-row";this.Jo="active";this.Im="ac-active";this.ft="ac-highlighted";this.Mf=b||null;this.yu=null!=d?d:!0;this.wt=!0;this.Ek=!1;this.du=!!c;this.aj=!1;this.qi=0;this.Rp=!1}C(Vp,R);e=Vp.prototype;e.b=function(){return this.d};
e.Bl=function(a,b,c){this.Ob=b;this.ma=a;this.Xh=-1;this.Xp=B();this.aa=c;this.je=[];Wp(this)};e.Bc=function(){this.aa&&xn(this.aa,null);this.sa&&(this.sa=!1,this.aa&&W(this.aa,"haspopup",!1),0<this.qi?(Dc(this.ye),this.ye=new Ip(this.d,this.qi),this.ye.play()):T(this.d,!1))};e.show=function(){this.sa||(this.sa=!0,this.aa&&(Bf(this.aa,"combobox"),W(this.aa,"autocomplete","list"),W(this.aa,"haspopup",!0)),0<this.qi?(Dc(this.ye),this.ye=new Jp(this.d,this.qi),this.ye.play()):T(this.d,!0))};e.V=function(){return this.sa};
function Xp(a,b){var c=0<=b&&b<a.ma.length?a.ma[b]:void 0,d=0<=b&&b<a.je.length?a.je[b]:void 0;a.dispatchEvent({type:"rowhilite",dx:d,ie:c?c.data:null})&&(0<=a.Xh&&yn(a.je[a.Xh],[a.Im,a.Jo]),a.Xh=b,d&&($e(d,[a.Im,a.Jo]),a.aa&&xn(a.aa,d),ye(d,a.d)))}e.Jc=function(a){if(-1==a)Xp(this,-1);else for(var b=0;b<this.ma.length;b++)if(this.ma[b].id==a){Xp(this,b);break}};
function Yp(a){if(!a.d){var b=a.D.g("div",{style:"display:none"});a.Rp&&(b.style.overflowY="auto");a.d=b;$e(b,wa(a.className).split(" "));Bf(b,"listbox");b.id=Oe(Ne.h());a.D.appendChild(a.H,b);Q(b,"click",a.Wa,!1,a);Q(b,"mousedown",a.mo,!1,a);Q(b,"mouseover",a.no,!1,a)}}
function Wp(a){Yp(a);a.aj&&(a.d.style.visibility="hidden");a.Eu&&(a.d.style.minWidth=a.Eu.clientWidth+"px");a.je.length=0;a.D.xg(a.d);if(a.Mf&&a.Mf.W)a.Mf.W(a);else{var b=null;F(a.ma,function(a){var d=this.Ob,f=this.D.g("div",{className:this.El,id:Oe(Ne.h())});Bf(f,"option");this.Mf&&this.Mf.bx||nc(f,a.data.toString());d&&this.yu&&Zp(this,f,d);Ze(f,this.El);this.je.push(f);a=f;this.aj?this.d.insertBefore(a,b):this.D.appendChild(this.d,a);b=a},a)}0==a.ma.length?a.Bc():(a.show(),a.fc(),Ge(a.d,!0))}
e.fc=function(){if(this.aa&&this.cu){var a=this.Lq||this.aa,b;b=this.du?3:1;this.aj&&(b^=1);var c=65;this.Rp&&(this.d.style.height="",c|=32);hk(a,b,this.d,b^1,null,null,c);this.aj&&(this.d.style.visibility="visible")}};e.f=function(){this.d&&(ed(this.d,"click",this.Wa,!1,this),ed(this.d,"mousedown",this.mo,!1,this),ed(this.d,"mouseover",this.no,!1,this),this.D.removeNode(this.d),this.d=null,this.sa=!1);Dc(this.ye);this.H=null;Vp.c.f.call(this)};
function Zp(a,b,c){if(3==b.nodeType){var d=null;w(c)&&1<c.length&&!a.Ek&&(d=$a(c,1));c=$p(a,c);if(0!=c.length){var f=b.nodeValue,g=a.wt?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var h=0,k=g.exec(f),l=0;k;)l++,c.push(f.substring(h,k.index)),c.push(f.substring(k.index,g.lastIndex)),h=g.lastIndex,k=g.exec(f);c.push(f.substring(h));if(1<c.length){d=a.Ek?l:1;for(f=0;f<d;f++)g=2*f,b.nodeValue=c[g],h=a.D.createElement("b"),h.className=a.ft,a.D.appendChild(h,a.D.createTextNode(c[g+1])),
h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.D.createTextNode(""),h.nextSibling),b=h.nextSibling;b.nodeValue=$a(c,2*d).join("")}else d&&Zp(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Zp(a,b,c),b=d}function $p(a,b){var c="";if(!b)return c;w(b)&&(b=Na(b,function(a){return!Hn(a)}));a.Ek?w(b)?c=Oa(b,Ga).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ga(c),c=c.replace(/ /g,"|")):w(b)?c=0<b.length?Ga(b[0]):"":/^\W/.test(b)||(c=Ga(b));return c}
function aq(a,b){for(;b&&b!=a.d&&!Ye(b,a.El);)b=b.parentNode;return b?Ma(a.je,b):-1}e.Wa=function(a){var b=aq(this,a.target);0<=b&&this.dispatchEvent({type:Mp,ie:this.ma[b].id});a.stopPropagation()};e.mo=function(a){a.stopPropagation();a.preventDefault()};e.no=function(a){a=aq(this,a.target);0<=a&&!(300>B()-this.Xp)&&this.dispatchEvent({type:Lp,ie:this.ma[a].id})};function bq(a,b){if(cq(a))a.selectionStart=b;else if(H){var c=dq(a),d=c[0];d.inRange(c[1])&&(b=eq(a,b),d.collapse(!0),d.move("character",b),d.select())}}
function fq(a){var b;a:{var c=0,d=0;if(cq(a))c=a.selectionStart,d=-1;else if(H){var f=dq(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if("textarea"==a.type){f.duplicate();c=a=b.text;for(d=!1;!d;)0==b.compareEndPoints("StartToEnd",b)?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function gq(a,b){if(cq(a))a.selectionEnd=b;else if(H){var c=dq(a),d=c[1];c[0].inRange(d)&&(b=eq(a,b),c=eq(a,fq(a)),d.collapse(!0),d.moveEnd("character",b-c),d.select())}}function dq(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function eq(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}
function cq(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function hq(a,b,c,d){O.call(this);d=d||150;this.jf=null!=c?c:!0;this.Dg=a||",;";this.mr=this.Dg.substring(0,1);a=this.jf?"[\\s"+this.Dg+"]+":"[\\s]+";this.fq=new RegExp("^"+a+"|"+a+"$","g");this.eu=new RegExp("\\s*["+this.Dg+"]$");this.Lo=b||"";this.Zt=this.jf;this.A=0<d?new nd(d):null;this.va=new S(this);this.qj=new S(this);this.ia=new uf;this.Ho=-1}C(hq,O);var iq=(Ch||Dh)&&!K("533.17.9");e=hq.prototype;e.Du=!0;e.zr=!0;e.mq=!1;e.gu=!0;e.fu=!0;e.rj=null;e.M=null;e.Zk="";e.wd=!1;e.Fl=!1;e.xu=!0;
e.n=function(){return this.M.value};e.G=function(a){this.M.value=a};e.bh=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];kc(c)&&W(c,"haspopup",!0);this.va.a(c,"focus",this.Pd);this.va.a(c,"blur",this.Gc);if(!this.M&&(this.qj.a(c,"keydown",this.Nt),kc(c))){var d;a:{var f=N(c);try{d=f&&f.activeElement;break a}catch(g){}d=null}d==c&&jq(this,c)}}};
e.Lp=function(a,b){if(u(b)?b:this.jf){var c=kq(this,this.n(),fq(this.M)),d=lq(this,this.n()),f=a;this.eu.test(f)||(f=f.replace(/[\s\xa0]+$/,"")+this.mr);this.Du&&(0==c||/^[\s\xa0]*$/.test(d[c-1])||(f=" "+f),c==d.length-1&&(f+=" "));if(f!=d[c]){d[c]=f;f=this.M;(I||H&&K("9"))&&f.blur();f.value=d.join("");for(var g=0,h=0;h<=c;h++)g+=d[h].length;f.focus();c=g;bq(this.M,c);gq(this.M,c)}}else this.G(a);this.Fl=!0};
e.f=function(){hq.c.f.call(this);null!=this.rj&&window.clearTimeout(this.rj);this.va.j();delete this.va;this.qj.j();this.ia.j();Dc(this.A)};
e.kb=function(a){switch(a.keyCode){case 40:if(this.ca.ac())return this.il(),a.preventDefault(),!0;if(!this.jf)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.ca.ac())return this.jl(),a.preventDefault(),!0;break;case 9:if(this.ca.ac()&&!a.shiftKey){if(this.update(),Qp(this.ca)&&this.Zt)return a.preventDefault(),!0}else this.ca.Bc();break;case 13:if(this.ca.ac()){if(this.update(),Qp(this.ca))return a.preventDefault(),a.stopPropagation(),!0}else this.ca.Bc();break;case 27:if(this.ca.ac())return this.ca.Bc(),
a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.wd)return this.wd||(this.va.a(this.M,"keyup",this.ep),this.va.a(this.M,"keypress",this.nl),this.wd=!0),!0;break;default:this.A&&!this.xu&&(this.A.stop(),this.A.start())}return mq(this,a)};function mq(a,b){var c=a.jf&&b.charCode&&-1!=a.Dg.indexOf(String.fromCharCode(b.charCode));a.gu&&c&&a.update();return a.fu&&c&&Qp(a.ca)?(b.preventDefault(),!0):!1}e.ls=function(){return!1};e.Pd=function(a){jq(this,a.target||null)};
function jq(a,b){a.qj.zb();a.ca&&Rp(a.ca);b!=a.M&&(a.M=b,a.A&&(a.A.start(),a.va.a(a.A,od,a.vi)),a.Zk=a.n(),a.ia.Gf(a.M),a.va.a(a.ia,"key",a.fp),a.va.a(a.M,"mousedown",a.gp),H&&a.va.a(a.M,"keypress",a.dp))}e.Gc=function(){iq?this.rj=window.setTimeout(A(this.pp,this),0):this.pp()};
e.pp=function(){this.M&&(this.va.I(this.ia,"key",this.fp),this.ia.detach(),this.va.I(this.M,"keyup",this.ls),this.va.I(this.M,"mousedown",this.gp),H&&this.va.I(this.M,"keypress",this.dp),this.wd&&nq(this),this.M=null,this.A&&(this.A.stop(),this.va.I(this.A,od,this.vi)),this.ca&&Sp(this.ca))};e.vi=function(){this.update()};e.Nt=function(a){this.Pd(a)};e.fp=function(a){this.Ho=a.keyCode;this.ca&&this.kb(a)};e.nl=function(){this.wd&&229!=this.Ho&&nq(this)};
e.ep=function(a){this.wd&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&nq(this)};e.gp=function(a){this.ca&&this.mc(a)};e.mc=function(){};function nq(a){a.wd&&(a.wd=!1,a.va.I(a.M,"keypress",a.nl),a.va.I(a.M,"keyup",a.ep))}e.dp=function(a){mq(this,a)};e.update=function(a){if(this.M&&(a||this.n()!=this.Zk)){if(a||!this.Fl)a=this.tl(),this.ca&&(this.ca.aa=this.M,this.ca.Hg(a,this.n()));this.Zk=this.n()}this.Fl=!1};
e.tl=function(){var a=fq(this.M),b=this.n(),a=lq(this,b)[kq(this,b,a)];return this.fq?String(a).replace(this.fq,""):a};e.jl=function(){return this.mq?Tp(this.ca):Up(this.ca)};e.il=function(){return this.mq?Up(this.ca):Tp(this.ca)};function kq(a,b,c){a=lq(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b}
function lq(a,b){if(!a.jf)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)a.Lo&&-1!=a.Lo.indexOf(c[g])?(a.zr&&!h&&(d.push(f.join("")),f.length=0),f.push(c[g]),h=!h):h||-1==a.Dg.indexOf(c[g])?f.push(c[g]):(f.push(c[g]),d.push(f.join("")),f.length=0);d.push(f.join(""));return d};function oq(){return'\x3cdiv class\x3d"search-field"\x3e\x3cdiv class\x3d"search-box"\x3e\x3cdiv class\x3d"search-input"\x3e\x3c/div\x3e\x3cbutton class\x3d"search-btn icon-search" aria-label\x3d"Search"\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"search-helper hidden"\x3e\x3cdiv class\x3d"suggests-wrapper"\x3e\x3c/div\x3e\x3cdiv class\x3d"preview-holder"\x3e\x3ch4\x3ePreview\x3c/h4\x3e\x3cbutton class\x3d"btn save-search"\x3eAdd Column\x3c/button\x3e\x3cul class\x3d"previews"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"click-catcher"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'}
;function pq(){U.call(this);this.qc=new Vf;this.qc.qf("Search...");this.xl=null;this.ga=this.bm=!1}C(pq,U);s(pq);e=pq.prototype;e.g=function(){var a=dg(oq);this.m(a);this.qc.W(this.k("search-input"));this.xl=this.k("previews")};e.R=function(){return this.xl};
e.e=function(){pq.c.e.call(this);this.i().a(this.qc,"submit",this.Ms).a(this.qc,"focus",this.Qd).a(this.qc,"change",this.Qs).a(this.xl,"click",this.zs).a(this.k("save-search"),"click",this.Gl).a(this.k("search-btn"),"click",this.Gl);var a=new Vp(this.k("suggests-wrapper")),b=new hq(" "," ",!0,300),a=new Kp(this,a,b);this.i().a(a,"update",this.Ns);b.ca=a;b.bh(this.qc.b())};e.Qd=function(){!this.ga&&this.qc.n()&&qq(this,!0)};
e.tp=function(a,b,c,d){3<a.length?rq.h().autocomplete(d||"",a,function(b){c.call(void 0,a,b)}):c.call(void 0,a,[])};e.Ns=function(){this.bm=!0};e.Ms=function(){window.setTimeout(A(function(){this.bm?this.bm=!1:this.Gl()},this),50)};e.Qs=function(){var a=this.qc.n();3<a.length&&qn(a,void 0,this.Os,this);qq(this,0<a.length)};e.Gl=function(){var a=this.qc.n();if(3<a.length){var b=qn(a);nn(b,a);qq(this,!1);this.qc.reset()}};
e.Os=function(a){this.xg(!0);a.forEach(function(a){a=new Jo(a);this.N(a,!0)},this)};function qq(a,b){L(a.k("search-helper"),"hidden",!b);L(a.b(),"visible",b);b?a.i().a(document.body,"click",a.ao):a.i().I(document.body,"click",a.ao);a.ga=b}e.zs=function(){qq(this,!1)};e.ao=function(a){lc(this.b(),a.target)||qq(this,!1)};e.toggle=function(){Gn(this.b(),"visible")};function on(){he.call(this);this.Au=[];this.bc=new Dp;this.ug=null}C(on,he);s(on);on.prototype.xa=function(){Bb(document.getElementById("page"),"hidden");this.ug=Vb("main-panel");var a=this.bc;a.W(this.ug);this.Au.push(a)};on.prototype.Ij=function(){this.bc.Ij()};function sq(a,b){U.call(this);this.Nb=a;this.Ae=b||"";this.Yl=null;this.ga=!1}C(sq,U);e=sq.prototype;e.g=function(){var a=this.s();this.Yl=a.g("ul");a=a.g("div","action-item",[a.g("div",{"class":"toggle-icon "+this.Ae,title:this.Nb}),this.Yl]);this.m(a)};e.R=function(){return this.Yl};e.e=function(){sq.c.e.call(this);this.i().a(this.b(),"click",this.Wa)};function tq(a,b){a.N(b,!0)}
e.Wa=function(a){a=a.target;Pm(this)?(this.ga=!this.ga&&gn(a,"toggle-icon"),L(this.b(),"visible",this.ga),this.ga?this.i().bf(document.body,"click",this.bo,!0):this.i().I(document.body,"click",this.bo,!0)):this.dispatchEvent("action")};e.bo=function(){Bb(this.b(),"visible")};function uq(){he.call(this);var a=this.Sd=new sq("Undo","icon-undo");vq.h().N(a,!0)}C(uq,he);s(uq);uq.prototype.xa=function(){var a=nj.h();this.i().a(a,"destroy",this.Qr);wq(this)};uq.prototype.Qr=function(a){a=a.target;var b=a.fd().substr(0,15),b=new xq(b,"icon-undo1");b.Ya=a;tq(this.Sd,b);this.i().a(b,"action",this.Vs);10<Ue(this.Sd)&&(a=this.Sd,a.removeChild(Ve(a,0),void 0));wq(this)};function wq(a){var b=Ue(a.Sd);L(a.Sd.b(),"hidden",!b)}
uq.prototype.Vs=function(a){a=a.target;a.Ya.save();this.Sd.removeChild(a,!0);a.j();wq(this)};function yq(){this.wu=[];this.yn="fx"}s(yq);function zq(){var a=yq.h(),b=Tb(a.yn,void 0);F(b,function(a){var b=df(a);null!==b&&(b.O(a),this.wu.push(b));Bb(a,this.yn)},a)};function Aq(a){R.call(this);this.d=a;a=H?"focusout":"blur";this.rt=Q(this.d,H?"focusin":"focus",this,!H);this.st=Q(this.d,a,this,!H)}C(Aq,R);Aq.prototype.handleEvent=function(a){var b=new Kc(a.Q);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};Aq.prototype.f=function(){Aq.c.f.call(this);fd(this.rt);fd(this.st);delete this.d};function Bq(a,b,c){U.call(this,c);this.jc=b||Cq;this.Fk=a instanceof Ai?a:Di(a,null)}C(Bq,U);var Dq={};e=Bq.prototype;e.Ll=!1;e.Wf=!1;e.vu=null;e.Hq=Gi;e.hi=!0;e.rh=-1;e.f=function(){Bq.c.f.call(this);this.qe&&(this.qe.removeNode(this),this.qe=null);this.d=null};
e.ci=function(){var a=this.b();if(a){var b=Eq(this);b&&!b.id&&(b.id=this.T()+".label");Bf(a,"treeitem");W(a,"selected",!1);W(a,"expanded",!1);W(a,"level",this.Me());b&&W(a,"labelledby",b.id);(a=this.Kh())&&Bf(a,"presentation");(a=this.jk())&&Bf(a,"presentation");if(a=Fq(this))if(Bf(a,"group"),a.hasChildNodes())for(a=Ue(this),b=1;b<=a;b++){var c=Ve(this,b-1).b();W(c,"setsize",a);W(c,"posinset",b)}}};e.g=function(){var a=this.s(),b=Xm(Gq(this));this.d=ec(a.K,b)};
e.e=function(){Bq.c.e.call(this);Dq[this.T()]=this;this.ci()};e.pa=function(){Bq.c.pa.call(this);delete Dq[this.T()]};e.Sb=function(a,b){var c=Ve(this,b-1),d=Ve(this,b);Bq.c.Sb.call(this,a,b);a.ge=c;a.cc=d;c?c.cc=a:this.Sn=a;d?d.ge=a:this.Fo=a;var f=this.Ra();f&&Hq(a,f);Iq(a,this.Me()+1);if(this.b()&&(this.yf(),this.tb())){f=Fq(this);a.b()||a.g();var g=a.b(),h=d&&d.b();f.insertBefore(g,h);this.w&&a.e();d||(c?c.yf():(T(f,!0),this.sd(this.tb())))}};
e.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.Sb(a,b?We(this,b):Ue(this));return a};
e.removeChild=function(a){var b=this.Ra(),c=b?b.ub():null;if(c==a||a.contains(c))b.hasFocus()?(this.select(),pd(this.Qt,10,this)):this.select();Bq.c.removeChild.call(this,a);this.Fo==a&&(this.Fo=a.ge);this.Sn==a&&(this.Sn=a.cc);a.ge&&(a.ge.cc=a.cc);a.cc&&(a.cc.ge=a.ge);c=!a.cc;a.qe=null;a.rh=-1;if(b&&(b.removeNode(this),this.w)){b=Fq(this);if(a.w){var d=a.b();b.removeChild(d);a.pa()}c&&(c=Ve(this,Ue(this)-1))&&c.yf();Pm(this)||(b.style.display="none",this.yf(),this.Kh().className=this.Hh())}return a};
e.remove=Bq.prototype.removeChild;e.Qt=function(){this.select()};e.Me=function(){var a=this.rh;0>a&&(a=(a=this.getParent())?a.Me()+1:0,Iq(this,a));return a};function Iq(a,b){if(b!=a.rh){a.rh=b;var c=Jq(a);if(c){var d=Kq(a)+"px";a.Wd()?c.style.paddingRight=d:c.style.paddingLeft=d}V(a,function(a){Iq(a,b+1)})}}e.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};e.gk=function(){var a=[];V(this,function(b){a.push(b)});return a};e.ei=function(){return this.Ll};
e.select=function(){var a=this.Ra();a&&a.tc(this)};function Lq(a,b){if(a.Ll!=b){a.Ll=b;Mq(a);var c=a.b();c&&(W(c,"selected",b),b&&(c=a.Ra().b(),W(c,"activedescendant",a.T())))}}e.tb=function(){return this.Wf};
e.sd=function(a){var b=a!=this.Wf;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){var c;this.Wf=a;c=this.Ra();var d=this.b();if(Pm(this)){if(!a&&c&&this.contains(c.ub())&&this.select(),d){if(c=Fq(this))if(T(c,a),a&&this.w&&!c.hasChildNodes()){var f=[];V(this,function(a){f.push(Gq(a))});tn(c,bn(f));V(this,function(a){a.e()})}this.yf()}}else(c=Fq(this))&&T(c,!1);d&&(this.Kh().className=this.Hh(),W(d,"expanded",a));b&&this.dispatchEvent(a?"expand":"collapse")}};e.toggle=function(){this.sd(!this.tb())};
e.collapse=function(){this.sd(!1)};e.Dl=function(){var a=this.getParent();a&&(a.sd(!0),a.Dl())};function Gq(a){var b=a.Ra(),c=!b.Op||b==a.getParent()&&!b.Qp?a.jc.Yq:a.jc.Xq,b=a.tb()&&Pm(a),c={"class":c,style:"background-position:"+Nq(a)+";"+(b?"":"display:none;")},d=[];b&&V(a,function(a){d.push(Gq(a))});b=un("div",c,d);return un("div",{"class":a.jc.gr,id:a.T()},[Oq(a),b])}function Kq(a){return Math.max(0,(a.Me()-1)*a.jc.vo)}
function Oq(a){var b="padding-"+(a.Wd()?"right:":"left:"),b={"class":a.Ne(),style:b+Kq(a)+"px"},c=a.Un(),d=un("span",{style:"display:inline-block","class":a.Hh()}),f=un("span",{"class":a.jc.hr,title:a.vu||null},a.Fk);a=bn(f,un("span",{},a.Hq));return un("div",b,[c,d,a])}e.Ne=function(){return this.jc.tn+(this.ei()?" "+this.jc.sn:"")};e.Un=function(){return un("span",{type:"expand",style:"display:inline-block","class":Pq(this)})};
function Pq(a){var b=a.Ra(),c=!b.Op||b==a.getParent()&&!b.Qp,d=a.jc,f=new wn;f.append(d.Be," ",d.Zq," ");if(Pm(a)){var g=0;b.iu&&a.hi&&(g=a.tb()?2:1);c||(g=a.cc?g+8:g+4);switch(g){case 1:f.append(d.cr);break;case 2:f.append(d.br);break;case 4:f.append(d.nn);break;case 5:f.append(d.ar);break;case 6:f.append(d.$q);break;case 8:f.append(d.on);break;case 9:f.append(d.er);break;case 10:f.append(d.dr);break;default:f.append(d.mn)}}else c?f.append(d.mn):a.cc?f.append(d.on):f.append(d.nn);return f.toString()}
function Nq(a){return(a.cc?(a.Me()-1)*a.jc.vo:"-100")+"px 0"}e.b=function(){var a=Bq.c.b.call(this);a||(this.d=a=this.s().b(this.T()));return a};function Jq(a){return(a=a.b())?a.firstChild:null}e.jk=function(){var a=Jq(this);return a?a.firstChild:null};e.Kh=function(){var a=Jq(this);return a?a.childNodes[1]:null};function Eq(a){return(a=Jq(a))&&a.lastChild?a.lastChild.previousSibling:null}function Fq(a){return(a=a.b())?a.lastChild:null}
e.Si=function(a){this.Fk=a=Ci(a);var b=Eq(this);b&&tn(b,a);(a=this.Ra())&&Qq(a.wf,this)};e.fd=function(){var a=Xm(this.Fk);return-1!=a.indexOf("\x26")?"document"in q?jn(a):hn(a):a};function Mq(a){var b=Jq(a);b&&(b.className=a.Ne())}e.yf=function(){var a=this.jk();a&&(a.className=Pq(this));if(a=Fq(this))a.style.backgroundPosition=Nq(this)};e.$o=An;e.nl=function(a){!a.altKey&&37<=a.keyCode&&40>=a.keyCode&&a.preventDefault()};function Rq(a){return a.tb()&&Pm(a)?Rq(Ve(a,Ue(a)-1)):a}e.Kd=function(){return this.jc};
function Hq(a,b){a.qe!=b&&(a.qe=b,Qq(b.wf,a),V(a,function(a){Hq(a,b)}))};function Sq(a,b,c){Bq.call(this,a,b,c)}C(Sq,Bq);Sq.prototype.Ra=function(){if(this.qe)return this.qe;var a=this.getParent();return a&&(a=a.Ra())?(Hq(this,a),a):null};Sq.prototype.Hh=function(){var a=this.tb(),b=this.ur;if(a&&b)return b;b=this.kt;if(!a&&b)return b;b=this.Kd();if(Pm(this)){if(a&&b.pn)return b.Be+" "+b.pn;if(!a&&b.kn)return b.Be+" "+b.kn}else if(b.rn)return b.Be+" "+b.rn;return""};function Tq(a){this.ba=void 0;this.Ga={};if(a){var b=ud(a);a=td(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}e=Tq.prototype;e.set=function(a,b){Uq(this,a,b,!1)};e.add=function(a,b){Uq(this,a,b,!0)};function Uq(a,b,c,d){for(var f=0;f<b.length;f++){var g=b.charAt(f);a.Ga[g]||(a.Ga[g]=new Tq);a=a.Ga[g]}if(d&&void 0!==a.ba)throw Error('The collection already contains the key "'+b+'"');a.ba=c}
e.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.Ga[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.ba:void 0};e.Ka=function(){var a=[];Vq(this,a);return a};function Vq(a,b){void 0!==a.ba&&b.push(a.ba);for(var c in a.Ga)Vq(a.Ga[c],b)}e.bb=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var f=a.charAt(d);if(!c.Ga[f])return[];c=c.Ga[f]}Wq(c,a,b)}else Wq(this,"",b);return b};function Wq(a,b,c){void 0!==a.ba&&c.push(b);for(var d in a.Ga)Wq(a.Ga[d],b+d,c)}
e.$c=function(a){return void 0!==this.get(a)};e.ze=function(a){if(this.ba===a)return!0;for(var b in this.Ga)if(this.Ga[b].ze(a))return!0;return!1};e.clear=function(){this.Ga={};this.ba=void 0};e.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var f=a.charAt(d);if(!b.Ga[f])throw Error('The collection does not have the key "'+a+'"');c.push([b,f]);b=b.Ga[f]}a=b.ba;for(delete b.ba;0<c.length;)if(f=c.pop(),b=f[0],f=f[1],b.Ga[f].lb())delete b.Ga[f];else break;return a};e.J=function(){return new Tq(this)};
e.S=function(){return sd(this.Ka())};e.lb=function(){return void 0===this.ba&&Fn(this.Ga)};function Xq(){this.ae=new Tq}e=Xq.prototype;e.Aa="";e.cl=null;e.pi=null;e.ng=0;e.ef=0;function Qq(a,b){var c=b.fd();if(c&&!Hn(c)){var c=c.toLowerCase(),d=a.ae.get(c);d?d.push(b):a.ae.set(c,[b])}}function Yq(a,b){var c=!1,d=a.ae.bb(b);d&&d.length&&(a.ef=0,a.ng=0,c=a.ae.get(d[0]),c=Zq(a,c))&&(a.cl=d);return c}function Zq(a,b){var c;b&&(a.ef<b.length&&(c=b[a.ef],a.pi=b),c&&(c.Dl(),c.select()));return!!c}e.clear=function(){this.Aa=""};function $q(a,b,c){Bq.call(this,a,b,c);this.Wf=!0;Lq(this,!0);this.ya=this;this.wf=new Xq;if(H)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){}}C($q,Bq);e=$q.prototype;e.ia=null;e.dk=null;e.fk=!1;e.yr=null;e.Op=!0;e.iu=!0;e.ne=!0;e.Qp=!0;e.Ra=function(){return this};e.Me=function(){return 0};e.Dl=function(){};e.Qd=function(){this.fk=!0;Ze(this.b(),"focused");this.ya&&this.ya.select()};e.qk=function(){this.fk=!1;af(this.b(),"focused")};e.hasFocus=function(){return this.fk};
e.tb=function(){return!this.ne||$q.c.tb.call(this)};e.sd=function(a){this.ne?$q.c.sd.call(this,a):this.Wf=a};e.Un=function(){return Gi};e.Kh=function(){var a=Jq(this);return a?a.firstChild:null};e.jk=function(){return null};e.yf=function(){};e.Ne=function(){return $q.c.Ne.call(this)+(this.ne?"":" "+this.Kd().fr)};e.Hh=function(){var a=this.tb(),b=this.ur;if(a&&b)return b;b=this.kt;if(!a&&b)return b;b=this.Kd();return a&&b.qn?b.Be+" "+b.qn:!a&&b.ln?b.Be+" "+b.ln:""};
e.tc=function(a){if(this.ya!=a){var b=!1;this.ya&&(b=this.ya==this.yr,Lq(this.ya,!1));if(this.ya=a)Lq(a,!0),b&&a.select();this.dispatchEvent("change")}};e.ub=function(){return this.ya};e.ci=function(){$q.c.ci.call(this);var a=this.b();Bf(a,"tree");W(a,"labelledby",Eq(this).id)};
e.e=function(){$q.c.e.call(this);var a=this.b();a.className=this.Kd().ir;a.setAttribute("hideFocus","true");a=this.b();a.tabIndex=0;var b=this.ia=new uf(a),c=this.dk=new Aq(a);this.i().a(c,"focusout",this.qk).a(c,"focusin",this.Qd).a(b,"key",this.kb).a(a,"mousedown",this.xk).a(a,"click",this.xk).a(a,"dblclick",this.xk);this.ci()};e.pa=function(){$q.c.pa.call(this);this.ia.j();this.ia=null;this.dk.j();this.dk=null};
e.xk=function(a){var b;a:{b=null;for(var c=a.target;null!=c;){if(b=Dq[c.id])break a;if(c==this.b())break;c=c.parentNode}b=null}if(b)switch(a.type){case "mousedown":"expand"==a.target.getAttribute("type")&&Pm(b)?b.hi&&b.toggle():(b.select(),Mq(b));break;case "click":b.$o(a);break;case "dblclick":"expand"==a.target.getAttribute("type")&&Pm(b)||b.hi&&b.toggle()}};
e.kb=function(a){var b=!1,b=this.wf,c=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){var c=40==a.keyCode?1:-1,d=b.cl;if(d){var f=null,g=!1;if(b.pi){var h=b.ef+c;0<=h&&h<b.pi.length?(b.ef=h,f=b.pi):g=!0}f||(h=b.ng+c,0<=h&&h<d.length&&(b.ng=h),d.length>b.ng&&(f=b.ae.get(d[b.ng])),f&&f.length&&g&&(b.ef=-1==c?f.length-1:0));Zq(b,f)&&(b.cl=d)}c=!0}break;case 8:d=b.Aa.length-1;c=!0;0<d?(b.Aa=b.Aa.substring(0,d),Yq(b,b.Aa)):0==d?b.Aa="":c=!1;break;case 27:b.Aa="",c=!0}if(!(b=c)){if(b=this.ya){b=this.ya;
c=!0;switch(a.keyCode){case 39:if(a.altKey)break;Pm(b)&&(b.tb()?Ve(b,0).select():b.sd(!0));break;case 37:if(a.altKey)break;Pm(b)&&b.tb()&&b.hi?b.sd(!1):(d=b.getParent(),f=b.Ra(),d&&(f.ne||d!=f)&&d.select());break;case 40:a:if(Pm(b)&&b.tb())d=Ve(b,0);else{for(d=b;d!=b.Ra();){f=d.cc;if(null!=f){d=f;break a}d=d.getParent()}d=null}d&&d.select();break;case 38:d=b.ge;null!=d?d=Rq(d):(d=b.getParent(),f=b.Ra(),d=f.ne||d!=f?d:null);d&&d.select();break;default:c=!1}c&&(a.preventDefault(),(f=b.Ra())&&f.wf.clear());
b=c}b||(b=this.wf,c=!1,a.ctrlKey||a.altKey||(d=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==d.length&&" "<=d&&"~">=d||""<=d&&"�">=d)&&(" "!=d||b.Aa)&&(b.Aa+=d,c=Yq(b,b.Aa))),b=c)}b&&a.preventDefault();return b};e.removeNode=function(a){var b=this.wf,c=a.fd();if(c&&!Hn(c)){var c=c.toLowerCase(),d=b.ae.get(c);d&&(Va(d,a),d.length&&b.ae.remove(c))}};
var Cq={vo:19,ir:"goog-tree-root goog-tree-item",fr:"goog-tree-hide-root",gr:"goog-tree-item",Xq:"goog-tree-children",Yq:"goog-tree-children-nolines",tn:"goog-tree-row",hr:"goog-tree-item-label",Be:"goog-tree-icon",Zq:"goog-tree-expand-icon",cr:"goog-tree-expand-icon-plus",br:"goog-tree-expand-icon-minus",er:"goog-tree-expand-icon-tplus",dr:"goog-tree-expand-icon-tminus",ar:"goog-tree-expand-icon-lplus",$q:"goog-tree-expand-icon-lminus",on:"goog-tree-expand-icon-t",nn:"goog-tree-expand-icon-l",mn:"goog-tree-expand-icon-blank",
pn:"goog-tree-expanded-folder-icon",kn:"goog-tree-collapsed-folder-icon",rn:"goog-tree-file-icon",qn:"goog-tree-expanded-folder-icon",ln:"goog-tree-collapsed-folder-icon",sn:"selected"};function ar(){R.call(this);this.Xa=[];this.em=[];this.Cg=[]}C(ar,R);e=ar.prototype;e.fi=!1;e.gi=!1;e.Mk=!1;e.Jp=function(a){this.Mi=a};e.Sa=function(){if(!this.Mk){for(var a,b=0;a=this.Xa[b];b++)br(this,a);this.Mk=!0}};function br(a,b){a.fi&&(Q(b.element,"mousedown",b.To,!1,b),a.Wi&&Ze(b.element,a.Wi));a.gi&&a.Yi&&Ze(b.element,a.Yi)}function cr(a,b){a.fi&&(ed(b.element,"mousedown",b.To,!1,b),a.Wi&&af(b.element,a.Wi));a.gi&&a.Yi&&af(b.element,a.Yi);b.j()}
e.rf=function(a,b){if(!this.Eb)if(this.Eb=b,!1==this.dispatchEvent(new dr("dragstart",0,this.Eb)))this.Eb=null;else{var c=b.Lf,d=this.Lj(c);this.Xj&&Ze(d,this.Xj);this.Ie=d;d=N(c);d.body.appendChild(this.Ie);var f=this.Ie,g=we(c),c=Je(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.Ha=new fo(f);this.Ha.Jp(this.Mi);Q(this.Ha,"drag",this.Vo,!1,this);Q(this.Ha,"end",this.Hd,!1,this);Q(d.body,"selectstart",this.aq);this.uf=[];
for(d=0;c=this.em[d];d++)for(var h,f=0;h=c.Xa[f];f++)for(var g=c,k=[h.element],l=this.uf,n=0;n<k.length;n++){var t=k[n],v,da=t;v=we(da);da=Ce(da);v=new le(v.y,v.x+da.width,v.y+da.height,v.x);l.push(new er(v,g,h,t));fr(this,v)}this.Sc||(this.Sc=new le(0,0,0,0));for(d=0;c=this.Cg[d];d++)c.Kj=[],c.zp=c.d.scrollLeft,c.Ap=c.d.scrollTop,f=we(c.d),g=Ce(c.d),c.za=new le(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.uf[d];d++)for(f=0;c=this.Cg[f];f++)lc(c.d,g.d)&&(c.Kj.push(g),g.Bg=c);this.yd=null;for(d=
0;c=this.Cg[d];d++)Q(c.d,"scroll",this.en,!1,this);this.Ha.rf(a);a.preventDefault()}};
e.Hd=function(a){var b=a.pr?null:this.yd;if(b&&b.aa){var c=a.clientX;a=a.clientY;var d=wc(Qb(this.Ie)),f=c+d.x,d=a+d.y,g;this.Og&&(g=this.Og(b.Lc,b.za,f,d));this.dispatchEvent(new dr("drag",0,this.Eb,0,b.Lc,0,c,a));b.aa.dispatchEvent(new dr("drop",0,this.Eb,0,b.Lc,0,c,a,0,0,g))}this.dispatchEvent(new dr("dragend",0,this.Eb));ed(this.Ha,"drag",this.Vo,!1,this);ed(this.Ha,"end",this.Hd,!1,this);ed(N(this.Eb.Lf).body,"selectstart",this.aq);for(b=0;c=this.Cg[b];b++)ed(c.d,"scroll",this.en,!1,this),c.Kj=
[];this.Ha.j();gc(this.Ie);delete this.Eb;delete this.Ie;delete this.Ha;delete this.uf;delete this.yd};
e.Vo=function(a){var b,c=wc(Qb(this.Ie));b=new M(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.yd,g;if(f){this.Og&&f.aa&&(g=this.Og(f.Lc,f.za,c,d));if(f.za.contains(b)&&g==this.Jm)return;f.aa&&(this.dispatchEvent(new dr("dragout",0,this.Eb,0,f.Lc)),f.aa.dispatchEvent(new dr("dragout",0,this.Eb,0,f.Lc,0,void 0,void 0,0,0,this.Jm)));this.Jm=g;this.yd=null}if(this.Sc.contains(b)){a:{for(var h=0;f=this.uf[h];h++)if(f.za.contains(b))if(f.Bg){if(f.Bg.za.contains(b)){b=f;break a}}else{b=f;break a}b=
null}if((f=this.yd=b)&&f.aa)this.Og&&(g=this.Og(f.Lc,f.za,c,d)),c=new dr("dragover",0,this.Eb,0,f.Lc),c.ou=g,this.dispatchEvent(c),f.aa.dispatchEvent(new dr("dragover",0,this.Eb,0,f.Lc,0,a.clientX,a.clientY,0,0,g));else if(!f){this.rb||(this.rb=new er(this.Sc.J()));a=this.rb.za;a.top=this.Sc.top;a.right=this.Sc.right;a.bottom=this.Sc.bottom;a.left=this.Sc.left;for(g=0;f=this.uf[g];g++)b=f.za,f.Bg&&(f=f.Bg.za,b=new le(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,f.bottom),Math.max(b.left,
f.left))),f=null,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=null,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),null===f||null===h||(Math.abs(f-c)>Math.abs(h-d)?h=null:f=null),null!==f?f<=c?a.left=f:a.right=f:null!==h&&(h<=d?a.top=h:a.bottom=h);this.yd=10<=(a.right-a.left)*(a.bottom-a.top)?this.rb:null}}};e.aq=function(){return!1};
e.en=function(a){for(var b=0,c;c=this.Cg[b];b++)if(a.target==c.d){var d=c.Ap-c.d.scrollTop,f=c.zp-c.d.scrollLeft;c.Ap=c.d.scrollTop;c.zp=c.d.scrollLeft;this.rb&&this.yd==this.rb&&(0<d?this.rb.za.top+=d:this.rb.za.bottom+=d,0<f?this.rb.za.left+=f:this.rb.za.right+=f);for(var g=0,h;h=c.Kj[g];g++)h=h.za,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,fr(this,h)}this.Ha.jp(a)};e.Jj=function(a){return ho(a)};e.Lj=function(a){return this.Jj(a)};
function fr(a,b){if(1==a.uf.length)a.Sc=new le(b.top,b.right,b.bottom,b.left);else{var c=a.Sc;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}e.f=function(){ar.c.f.call(this);for(var a,b=0;a=this.Xa[b];b++)cr(this,a);this.Xa.length=0};function dr(a,b,c,d,f,g,h,k,l,n,t){P.call(this,a);this.Zj=c;this.sh=f;this.clientX=h;this.clientY=k;this.ou=t}C(dr,P);dr.prototype.f=function(){};
function gr(a,b){R.call(this);this.element=Sb(document,a);this.data=b;this.H=null;this.l=new S(this);Cc(this,this.l);if(!this.element)throw Error("Invalid argument");}C(gr,R);e=gr.prototype;e.Lf=null;e.getData=function(){return this.data};e.To=function(a){if(Mc(a)){var b=a.target;b&&(this.l.a(b,"mousemove",this.Uo,!1).a(b,"mouseout",this.Uo,!1),this.l.a(N(b),"mouseup",this.Ct,!0),this.Lf=b,this.Vl=new M(a.clientX,a.clientY),a.preventDefault())}};e.Fg=function(a){this.H=a};
e.Uo=function(a){var b=this.Lf,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Vl.x)+Math.abs(a.clientY-this.Vl.y)||b)this.l.zb(),this.H.rf(a,this)};e.Ct=function(){this.l.zb();delete this.Vl;this.Lf=null};function er(a,b,c,d){this.za=a;this.aa=b;this.Lc=c;this.d=d}er.prototype.Bg=null;function hr(){ar.call(this)}C(hr,ar);hr.prototype.nb=function(a,b){var c=new gr(a,b);c.Fg(this);this.Xa.push(c);this.Mk&&br(this,c)};hr.prototype.removeItem=function(a){a=Sb(document,a);for(var b,c=0;b=this.Xa[c];c++)if(b.element==a){this.Xa.splice(c,1);cr(this,b);break}};function ir(a,b){Bq.call(this,'\x3cspan class\x3d"drag-item"\x3e'+a+'\x3c/span\x3e\x3cdiv class\x3d"edit-btns"\x3e\x3cspan class\x3d"rename"\x3e\x3c/span\x3e\x3cspan class\x3d"delete"\x3e\x3c/span\x3e\x3c/div\x3e',void 0,void 0);this.Qf=b}C(ir,Sq);ir.prototype.e=function(){ir.c.e.call(this);this.Qf.nb(this)};ir.prototype.Oe=function(){return this.Ya.type};
ir.prototype.$o=function(a){var b=this.Ya;a=a.target;if(gn(a,"rename")){if(a=prompt("Neuer Name: ",b.title))b.title=a,this.dispatchEvent("change"),this.k("drag-item").innerHTML=a}else gn(a,"delete")?(this.getParent().removeChild(this),this.dispatchEvent("change")):gn(a,"goog-tree-expand-icon")||jr(this)};function jr(a){if(a.Oe()==kr){var b=a.Ya,c=b.query.replace("#","%23"),c=rj(c);nn(c,b.title)}a.Oe()==lr&&(on.h().Ij(),V(a,function(a){jr(a)}))}
ir.prototype.Ne=function(){var a=this.Kd(),b=" ";this.ei()&&(b+=a.sn);b=this.Oe()==lr?b+" search-folder":b+" search-link";return a.tn+b};var lr="folder",kr="request";function mr(){R.call(this);this.q=new S(this);Cc(this,this.q);var a=this.qb=new hr,b=this.qb;a.em.push(b);b.gi=!0;a.fi=!0;a=this.zc=new hr;b=this.qb;a.em.push(b);b.gi=!0;a.fi=!0;this.Sa()}C(mr,R);e=mr.prototype;
e.Sa=function(){this.qb.Xj="search-item-drag";this.qb.Wi="source";this.qb.Yi="target";this.qb.Sa();this.zc.Xj="search-item-drag";this.zc.Sa();this.q.a(this.qb,"dragover",this.eo);this.q.a(this.qb,"dragout",this.co);this.q.a(this.qb,"drop",this.fo);this.q.a(this.qb,"dragstart",this.Ph);this.q.a(this.qb,"dragend",this.Oh);this.q.a(this.zc,"dragover",this.eo);this.q.a(this.zc,"dragout",this.co);this.q.a(this.zc,"drop",this.fo);this.q.a(this.zc,"dragstart",this.Ph);this.q.a(this.zc,"dragend",this.Oh)};
e.nb=function(a){var b=a.k("drag-item");a.Oe()==lr?this.qb.nb(b,a):this.zc.nb(b,a)};e.eo=function(a){Ab(a.sh.element,"drag-over")};e.co=function(a){Bb(a.sh.element,"drag-over")};e.fo=function(a){var b=a.Zj.data,c=a.sh.data;Bb(a.sh.element,"drag-over");b!==c&&(b.getParent().remove(b),c.add(b),this.dispatchEvent("drop"))};e.Ph=function(a){Ab(a.Zj.element,"dragged")};e.Oh=function(a){Bb(a.Zj.element,"dragged")};function nr(){return'\x3cdiv\x3e\x3cdiv class\x3d"btn add-folder-btn tooltip" data-tooltip\x3d"Add Folder"\x3e+\x3c/div\x3e\x3cdiv class\x3d"btn newest-entries-btn"\x3eLatest entries\x3c/div\x3e\x3c/div\x3e'};function or(){U.call(this);this.re=new $q("root");Cc(this,this.re);this.Qf=new mr;Cc(this,this.Qf)}C(or,U);e=or.prototype;e.g=function(){var a=dg(nr);this.m(a)};
e.e=function(){or.c.e.call(this);var a=this.k("add-folder-btn"),b=this.k("newest-entries-btn");this.i().a(a,"click",this.Fq).a(b,"click",this.Gq);a=og.h().Vc.searchtree||[];for(b=0;b<a.length;b++)mn(this,this.re.Ra(),a[b]);a=this.re;!1!=a.ne&&(a.ne=!1,a.w&&(b=Jq(a))&&(b.className=a.Ne()),a.ub()==a&&Ve(a,0)&&a.tc(Ve(a,0)));this.re.W(this.b());this.i().a(this.Qf,"drop",this.Qe)};e.Gq=function(){var a=rn();nn(a,"Latest Entries")};
function mn(a,b,c){var d=new ir(c.title,a.Qf);d.Ya=c;b.add(d);a.i().a(d,"change",a.Qe);if(c.children)for(b=0;b<c.children.length;b++)mn(a,d,c.children[b])}e.Fq=function(a){a={title:y(a)?a:"new folder",type:"folder"};mn(this,this.re.Ra(),a);this.Qe()};e.Qe=function(){var a=this.rc(),b=og.h();b.Vc.searchtree=a;Cg(b,void 0,void 0)};e.rc=function(){for(var a=[],b=this.re.gk(),c=0;c<b.length;c++)a.push(pr(this,b[c]));return a};
function pr(a,b){for(var c=b.Ya,d=b.gk(),f=[],g=0;g<d.length;g++)f.push(pr(a,d[g]));return{title:c.title,type:c.type,query:c.query,children:f}};function ln(){U.call(this);this.ga=!1;this.Kl=null}C(ln,U);s(ln);ln.prototype.e=function(){ln.c.e.call(this);this.Kl=new or;this.Kl.W(document.getElementById("searchtree"))};ln.prototype.toggle=function(){this.ga=!this.ga;var a=vg.h();a.P(this.ga);this.ga?this.i().bf(a,"close",this.toggle):this.i().I(a,"close",this.toggle);L(this.b(),"visible",this.ga)};bf("page-sidebar",function(){return ln.h()});function xq(a,b,c){U.call(this);this.Nb=a;this.Ae=b||"";z(c)&&this.i().a(this,"action",c)}C(xq,U);xq.prototype.g=function(){var a=this.s().g("li",this.Ae,this.Nb);this.m(a)};xq.prototype.e=function(){xq.c.e.call(this);this.i().a(this.b(),"click",this.Wa)};xq.prototype.Wa=function(){this.dispatchEvent("action")};function qr(){return'\x3cdiv class\x3d"settings"\x3e\x3ch2\x3eSettings\x3c/h2\x3e\x3cdiv class\x3d"form-wrapper"\x3e\x3c/div\x3e\x3cbutton class\x3d"btn enabled primary btn-save"\x3eSave\x3c/button\x3e\x3cbutton class\x3d"btn enabled btn-cancel right"\x3eCancel\x3c/button\x3e\x3c/div\x3e'};function rr(){U.call(this);this.t=new lf}C(rr,U);rr.prototype.g=function(){var a=gg(qr);this.m(a);this.N(this.t);this.t.W(this.k("form-wrapper"))};rr.prototype.e=function(){rr.c.e.call(this);var a=vg.h();a.P(!0,wg);this.i().a(a,"close",this.close);var a=this.k("btn-save"),b=this.k("btn-cancel");this.i().a(a,"click",this.Is).a(b,"click",this.close);a=mf(this.t,"Language","select",{L:"language",options:[{text:"Deutsch",oc:"de"},{text:"English",oc:"en"}]});b=Um(og.h());a.ua.G(b)};
rr.prototype.Is=function(){var a=this.t.getData(),b=og.h(),a=a.language;Um(b)!=a&&(b.Vc.locale=a,Cg(b,function(){document.location.reload()}));this.close()};rr.prototype.close=function(){vg.h().P(!1);this.j()};function sr(){U.call(this)}C(sr,U);sr.prototype.g=function(){var a=this.s().g("div",{"class":"conn-status online left-tooltip","data-tooltip":"Lost connection to server. Requests are now cached."});this.m(a)};sr.prototype.e=function(){sr.c.e.call(this);var a=zg.h();this.i().a(a,[cj,dj],this.Or)};sr.prototype.Or=function(){var a=zg.h();L(this.b(),"online",a.tg)};function vq(){U.call(this)}C(vq,U);s(vq);vq.prototype.R=function(){return this.k("header-right-bar")};vq.prototype.e=function(){vq.c.e.call(this);var a=this.k("sidebar-toggle-btn");this.i().a(a,"click",this.Ss);a=new sr;this.N(a,!0);tr(this);a=pq.h();this.N(a,!0)};
function tr(a){var b=new sq("Search","icon-search mobile-only");a.i().a(b,"action",function(){pq.h().toggle()});a.N(b,!0);b=new sq("Add","icon-add-light");a.i().a(b,"action",function(){Qm(Nj.h(),null)});a.N(b,!0);b=new sq("Settings","icon-gears-light");tq(b,new xq("Settings","icon-gears-light",function(){(new rr).W(document.body)}));tq(b,new xq("Logout","icon-user-light",function(){var a=og.h(),b=new Td;b.a("complete",a.io,!1,a);b.send(Dg()+"/logout")}));a.N(b,!0)}vq.prototype.Ss=function(){ln.h().toggle()};
bf("page-header",function(){return vq.h()});function Am(a,b){this.Ya=a;this.fa=b;this.Nb=this.Yh="";this.Bk=!0;this.q=null;this.hm=[];this.Ad=void 0}C(Am,O);e=Am.prototype;e.i=function(){return this.q||(this.q=new S(this))};e.f=function(){this.q&&this.q.j();Am.c.f.call(this)};e.Sa=function(){};e.Ef=function(a){this.fa.Ef(this,a)};e.au=function(a){this.hm.push(a);this.i().a(a,"changed_tag",this.Jr).a(a,"changed_tag_update",this.Ir)};e.sp=function(){F(this.hm,function(a){this.fa.removeChild(a,!0);a.j()},this);this.hm=[]};
e.Jr=function(a){function b(a,b,c,f){c=Math.max(c+d,0);f+=d;return a.substring(0,c)+b+a.substring(f)}var c="",d=0;if(a.Di)var f=Lj(this.fa),c=this.Ad=this.Ad||f,d=c.length-f.length;else c=Lj(this.fa);if(a.Ii)f=a.wb[0],a.tagName&&(f-=a.tagName.length-2),c=b(c,"",f,a.wb[1]);else{var f=y(a.value)?a.value:a.value.toString(),g=a.wb,h=g||[c.length,c.length];-1<f.indexOf(" ")&&(f='"'+f+'"');!g&&0<f.length&&(f=a.tagName?" #"+a.tagName+":"+f:" "+f);c=b(c,f,h[0],h[1])}a.Di?this.Ad=c:c!=Lj(this.fa)&&this.fa.Lb.G(c)};
e.Ir=function(){var a=Lj(this.fa);this.Ad!=a&&this.fa.Lb.G(this.Ad||a);this.Ad=void 0};function rq(){}s(rq);rq.prototype.autocomplete=function(a,b,c,d){sn("/autocomplete",{text:a,tag:b},function(a){a=a.Md();var b=[];if(a.tags)for(var h=0;h<a.tags.length;h++){var k=a.tags[h];b.push("#"+k.name);if(k.values)for(var l=0;l<k.values.length;l++)b.push("#"+k.name+":"+k.values[l].name)}c.call(d,b)},this)};
function ur(a,b,c,d){sn("/recommend",{text:b},function(a){a=a.Md();var b=[];if(a.recs)for(var h=0;h<a.recs.length;h++){var k=a.recs[h];b.push("#"+k.name);if(k.values)for(var l=0;l<k.values.length;l++)b.push("#"+k.name+"\x3d"+k.values[l])}c.call(d,b)},a)};function vr(a,b,c,d){hq.call(this,a,b,c,d)}C(vr,hq);vr.prototype.tl=function(){for(var a=fq(this.M),b=this.n(),c="",d=a-1;0<d;d--){var f=b.charAt(d);if(" "===f||"\n"===f)break;else if("#"===f){c=b.substr(d,a-d);break}}return c};vr.prototype.Lp=function(a){var b=this.tl(),c=fq(this.M),d=this.n(),c=d.lastIndexOf(b,c);this.G(d.substr(0,c)+a+d.substr(c+b.length));a=c+a.length;bq(this.M,a);gq(this.M,a)};function wr(){}wr.prototype.tp=function(a,b,c,d){3<a.length?rq.h().autocomplete(d||"",a,function(b){c.call(void 0,a,b)}):c.call(void 0,a,[])};function xr(a,b){Am.call(this,a,b);this.yl=null;this.Bk=!1}C(xr,Am);xr.prototype.Sa=function(){var a=this.fa,b=a.Lb.b(),c=new Vp,d=new vr(void 0,void 0,!0,300),c=new Kp(new wr,c,d);d.ca=c;d.bh(b);this.yl=Vb("recommondations");this.i().a(a,Mj,this.Hc).a(this.yl,"click",this.Bs);yr(this)};xr.prototype.Hc=function(){yr(this)};function yr(a){var b=Lj(a.fa);ur(rq.h(),b,function(a){this.yl.innerHTML=a.reduce(function(a,b){return a+' \x3cspan class\x3d"suggest"\x3e'+b+"\x3c/span\x3e"},"")},a)}
xr.prototype.Bs=function(a){var b=a.target;if(gn(b,"suggest")){a=this.fa;var b=b.innerHTML,c=Lj(a);a.Lb.G(c+" "+b)}};function zr(){O.call(this)}C(zr,ti);zr.prototype.xa=function(){Nj.h().Zc.push(xr)};function Ar(){this.id="linkParser"}Ar.prototype.parse=function(a){return twttr.txt.extractUrlsWithIndices(a.ic)||[]};function Br(){U.call(this);this.Ik=null}C(Br,U);s(Br);Br.prototype.g=function(){var a=this.s();this.Ik=a.g("img");a=a.g("div","image-preview",this.Ik);this.m(a)};Br.prototype.Ui=function(a){this.Ik.src=a;return!0};Br.prototype.us=function(a){this.w||this.W(document.body);var b=a.target,c=this.b();this.Ui(b.href)&&(re(c,a.clientX+10,a.clientY+10),Ab(c,"visible"))};Br.prototype.vs=function(){Bb(this.b(),"visible")};function Cr(){O.call(this)}C(Cr,ti);Cr.prototype.xa=function(){var a=nj.h();Q(a,Go,this.cs,!1,this);Q(a,"entry_display",this.$r,!1,this)};Cr.prototype.cs=function(a){a=a.target;for(var b=a.pg,c=a.Ld().ok(Ar),d=0;d<c.length;d++){var f=c[d].url,g=20<f.length?f.substr(0,20)+"...":f;f.match(/^(http)/gi)||(f="http://"+f);b=b.replace(c[d].url,'\x3ca href\x3d"'+f+'" target\x3d"_blank" class\x3d"extern-link"\x3e'+g+"\x3c/a\x3e")}a.pg=b};
Cr.prototype.$r=function(a){a=a.gq.Jh("extern-link");for(var b,c=0;c<a.length;c++){var d=a[c];if(d.href.match(/(jpg|png|gif)$/gi)){var f=b=b||Br.h();f.i().a(d,"mouseenter",f.us).a(d,"mouseleave",f.vs)}}};function Dr(){O.call(this)}C(Dr,ti);Dr.prototype.xa=function(a){a=a.Jf;zq();on.h().xa(a);Nj.h().xa(a);uq.h().xa(a);var b=Zn.h();b.xa(a);ao(b,"search/:searchStr",function(a,b){var f=qn("#"+b);nn(f,"#"+b)},this);ao(b,"edit/:entryId",function(a,b){var f=new Rm(b);Qm(Nj.h(),f)},this);ao(b,"delete/:entryId",function(a,b){(new Rm(b)).Ac()},this,!1);vn(zr);vn(Cr)};si("core",Dr);
//@ sourceURL=/asset/common/js-min/LANG/core.js