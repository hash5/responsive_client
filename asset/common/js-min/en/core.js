Rj.prototype.Bc=p(26,function(a){Ej("/entries/"+a.U(),"DELETE")});Rj.prototype.save=p(25,function(a,b,c){function d(d){d=d.Pd();a.update(d);z(b)&&b.call(c,a)}var f=a.sc();a.U()?Ej("/entries/"+a.U(),"PUT",f,d,this):Ej("/entries","POST",f,d,this)});uf.prototype.sc=p(24,function(){return{}});Fj.prototype.sc=p(23,function(){var a=[];F(this.kb,function(b){a.push(b.sc())});return a});function an(a){return'\x3cli\x3e\x3cimg src\x3d"'+df(a.icon)+'" title\x3d"'+df(a.title)+'" /\x3e\x3c/li\x3e'}
function bn(){return'\x3cdiv class\x3d"history-btns"\x3e\x3cbutton class\x3d"btn undo-btn tooltip hidden" data-tooltip\x3d"undo changes"\x3e\x3c-\x3c/button\x3e\x3cbutton class\x3d"btn redo-btn tooltip hidden" data-tooltip\x3d"redo changes"\x3e-\x3e\x3c/button\x3e\x3c/div\x3e'}
function cn(){return'\x3cdiv class\x3d"save-btns"\x3e\x3cdiv class\x3d"saved-info"\x3e\x3cspan class\x3d"saving-msg"\x3esaving...\x3c/span\x3e\x3cspan class\x3d"saved-msg"\x3eAll changes saved.\x3c/span\x3e\x3c/div\x3e\x3cbutton class\x3d"btn primary save-btn"\x3eDone\x3c/button\x3e\x3cbutton class\x3d"btn cancel-btn"\x3eRevert\x3c/button\x3e\x3c/div\x3e'}function dn(a,b){var c=$e(an,{title:b.Qb,icon:b.bi});a.j("helper-tile-btns").appendChild(c);a.i().a(c,"click",function(){this.Ff(b)})}
function en(a){U.call(this);this.Ia=a;this.Ca=[];this.Ji=[];this.ei=!1}C(en,U);e=en.prototype;e.g=function(){var a=$e(bn);this.m(a)};e.d=function(){en.c.d.call(this);var a=this.i(),b=this.j("undo-btn");a.a(b,"click",this.ft);b=this.j("redo-btn");a.a(b,"click",this.Ms);a.a(this.Ia,kk,this.Zs);this.Ca.push(jk(this.Ia))};e.Zs=function(){this.ei?this.ei=!1:this.Ji=[];this.Ca.push(jk(this.Ia));L(this.j("undo-btn"),"hidden",2>this.Ca.length);L(this.j("redo-btn"),"hidden",1>this.Ji.length)};
e.ft=function(){var a=jk(this.Ia);this.Ca.pop();this.Ji.push(a);this.ei=!0;a=this.Ca.pop();this.Ia.Ob.G(a)};e.Ms=function(){this.Ca.push(jk(this.Ia));this.ei=!0;var a=this.Ji.pop();this.Ia.Ob.G(a)};function fn(a){U.call(this);this.Ia=a;this.tm=!1;this.Ca=[]}C(fn,U);e=fn.prototype;e.g=function(){var a=$e(cn);this.m(a)};e.d=function(){fn.c.d.call(this);var a=this.i(),b=this.j("save-btn");a.a(b,"click",this.Rs);b=this.j("cancel-btn");a.a(b,"click",this.Qs);a.a(this.Ia,kk,this.Gp);this.Ca.push(jk(this.Ia))};
e.Gp=function(){var a=this.Ia.Le,b=jk(this.Ia);this.tm=!0;a.Wi(jk(this.Ia));a.save(this.Ts,this);this.Ca.push(b);Cb(this.j("saved-info"),"saving")};e.Ts=function(){this.tm=!1;this.Wb||Db(this.j("saved-info"),"saving")};e.Rs=function(){var a=jk(this.Ia),b=this.Ia.Le;0<a.length?(this.tm&&this.Gp(),this.Ia.close()):b.Bc()};e.Qs=function(){var a=this.Ca[0],b=this.Ia.Le;1<a.length&&(0<a.length?(b.Wi(a),b.save()):b.Bc());this.Ia.close()};
function gn(a){return a=""+('\x3cdiv class\x3d"entry-editor"\x3e\x3ch2\x3eEdit entry\x3c/h2\x3e\x3cdiv class\x3d"entry-info"\x3e\x3cspan class\x3d"entry-date"\x3ecreated on '+df(a.s)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-editor-body"\x3e\x3c/div\x3e\x3cdiv class\x3d"recommondations"\x3e\x3c/div\x3e\x3cul class\x3d"helper-tile-btns"\x3e\x3c/ul\x3e\x3cdiv class\x3d"helper-tiles"\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-actions"\x3e\x3c/div\x3e\x3c/div\x3e')}
function hn(a){U.call(this);this.Le=a;this.Ob=new hk("");this.P(this.Ob);this.fc=a.hd();this.fc.Qp(a.kd());this.bd=[]}C(hn,U);e=hn.prototype;e.g=function(){var a={s:jn(this.Le.Zn())},a=$e(gn,a);this.m(a)};e.m=function(a){hn.c.m.call(this,a);this.Ob.J(this.j("entry-editor-body"));this.Ob.G(this.Le.kd())};
e.d=function(){hn.c.d.call(this);this.i().a(this.Ob,"change",this.Jc);var a=new fn(this);this.P(a);a.J(this.j("entry-actions"));a=new en(this);this.P(a);a.J(this.j("entry-info"));F(this.bd,function(a){a.Sa();a.Gk&&dn(this,a)},this);this.Ob.b().focus()};e.Ff=function(a,b){var c=b=b||a.eo();c.nh=a;a.ku(c);this.P(b);b.J(this.j("helper-tiles"))};e.close=function(){this.k()};e.f=function(){F(this.bd,function(a){a.k()},this);hn.c.f.call(this)};e.Jc=function(){this.fc.Qp(jk(this));this.dispatchEvent(kk)};
e.hd=function(){return this.fc};var kn="move",ln={},mn="c";function nn(a){return!!a.Ua&&0!=a.Ua.length}pl.prototype.removeItem=p(21,function(a){(a=this.removeChild(a,!0))&&a.k()});tl.prototype.removeItem=p(20,function(a){(a=wl(this).removeChild(a,!0))&&a.k()});yl.prototype.removeItem=p(19,function(a){a&&Xa(this.Xa,a)&&a==this.ya&&(this.ya=null,this.dispatchEvent("select"))});Bl.prototype.removeItem=p(18,function(a){Bl.c.removeItem.call(this,a);this.X&&this.X.removeItem(a)});Jj.prototype.jd=p(17,function(){return this.Ri});
Fj.prototype.move=p(16,function(a,b){if(a!=b){var c=this.kb[a];E.splice.call(this.kb,a,1);ab(this.kb,b,0,c);this.dispatchEvent({type:kn,Pt:a,Nt:b})}});Vi.prototype.Od=p(14,function(){return this.Kf});qf.prototype.po=p(13,function(a){a=a.target;he(a)?(this.dispatchEvent(mn),document.location.reload()):this.dispatchEvent({type:rf,Wf:tf,Bf:a})});Ff.prototype.reset=p(12,function(){this.va&&this.va.reset()});Kf.prototype.reset=p(11,function(){V(this,function(a){"function"==typeof a.reset&&a.reset()},this)});
tg.prototype.reset=p(10,function(){this.G("")});li.prototype.reset=p(9,function(a){this.Hn=a;for(a=0;a<this.$a.length;a++){var b=this.Md.id;b&&this.We.gc(b);this.Md.gc(this.$a[a])}this.$a.length=0;this.sd.clear();this.Og=B();this.hn=this.qm=this.lq=this.gj=this.hj=0;b=this.re.bb();for(a=0;a<b.length;a++){var c=this.re.get(b[a]);c.count=0;c.time=0;c.Xg=0;this.bm.gc(c)}this.re.clear()});Wi.prototype.reset=p(8,function(){this.set(B())});hk.prototype.reset=p(7,function(){this.b().value=""});
Hl.prototype.reset=p(6,function(){this.Ig(0)});pd.prototype.setInterval=p(5,function(a){this.Wd=a;this.A&&this.Uf?(this.stop(),this.start()):this.A&&this.stop()});U.prototype.zg=p(4,function(a){for(var b=[];nn(this);)b.push(this.removeChild(We(this,0),a));return b});M.prototype.ceil=p(3,function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this});Hb.prototype.ceil=p(2,function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this});
me.prototype.ceil=p(1,function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this});ne.prototype.ceil=p(0,function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this});
function on(a,b){if(a.fa&&!a.fa.Wb){var c=jk(a.fa);a.fa.k();a.fa=null;if(!b&&!c)return}b||(b=new pn);var d=new hn(b);d.J(a.wg);F(a.bd,function(a){a=new a(b,d);d.bd.push(a);d.w&&(a.Sa(),a.Gk&&dn(d,a))},a);a.fa=d}function qn(a,b){for(var c=a.kb,d=y(c)?c.split(""):c,f=c.length-1;0<=f;--f)f in d&&b.call(void 0,d[f],f,c)}function rn(){this.wp="";this.Eq=ln}rn.prototype.lg=!0;rn.prototype.eg=function(){return this.wp};function sn(a){a=a.Wc.locale;return u(a)?a:"en"}var tn={},un={};
function vn(a){return a instanceof Yi&&a.constructor===Yi&&a.Dq===Zi?a.kf:"type_error:SafeHtml"}function wn(){this.kf="";this.Fq=tn}wn.prototype.lg=!0;wn.prototype.eg=function(){return this.kf};wn.prototype.Ok=!0;wn.prototype.Lh=function(){return 1};function xn(){this.cm="";this.Jq=un}xn.prototype.lg=!0;xn.prototype.eg=function(){return this.cm};xn.prototype.toString=function(){return"Const{"+this.cm+"}"};
var yn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},zn=/&([^;\s<&]+);?/g;function An(a){function b(a){w(a)?F(a,b):(a=a instanceof Yi?a:a.Ok?$i(a):a.lg?$i(a.eg()):$i(String(a)),d+=vn(a),a=a.Lh(),0==c?c=a:0!=a&&c!=a&&(c=null))}var c=0,d="";F(arguments,b);return cj(d,c)}var Bn=/^[a-zA-Z0-9-]+$/;function Cn(a){this.Ni=a}Cn.prototype.sc=function(a){var b=[];Dn(this,a,b);return b.join("")};
function Dn(a,b,c){switch(typeof b){case "string":En(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(w(b)){var d=b.length;c.push("[");for(var f="",g=0;g<d;g++)c.push(f),f=b[g],Dn(a,a.Ni?a.Ni.call(b,String(g),f):f,c),f=",";c.push("]");break}c.push("{");d="";for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(f=b[g],"function"!=typeof f&&(c.push(d),En(g,c),
c.push(":"),Dn(a,a.Ni?a.Ni.call(b,g,f):f,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}function En(a,b){b.push('"',a.replace(td,function(a){if(a in yn)return yn[a];var b=a.charCodeAt(0),f="\\u";16>b?f+="000":256>b?f+="00":4096>b&&(f+="0");return yn[a]=f+b.toString(16)}),'"')}function Fn(a,b){return G(Bb(a),b)}
function Gn(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}
function Hn(a){var b={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'},c;c=document.createElement("div");return a.replace(zn,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})}function In(a,b){var c=Jn.h().Pl,d={title:b||a,type:"request",query:a};Kn(c,c.ue.Ra(),d);c.Re()}function Ln(a,b){var c=Mn.h();Nn(c.dc,a,b)}
function On(a,b,c,d){return Rj.h().search(a,b,void 0,c,d)}function Pn(){return Rj.h().getEntries("/entries",void 0,void 0,void 0,void 0)}function Qn(a,b,c,d){Dj(Xg.h(),a,"POST",b,c,d,!1)}function Rn(a,b){a.innerHTML=vn(b)}
function Sn(a,b,c){if(!Bn.test(a))throw Error("Invalid tag name \x3c"+a+"\x3e.");if(a.toLowerCase()in ej)throw Error("Tag name \x3c"+a+"\x3e is not allowed for SafeHtml.");var d=null,f="\x3c"+a;if(b)for(var g in b){if(!Bn.test(g))throw Error('Invalid attribute name "'+g+'".');var h=b[g];if(null!=h){if(h instanceof xn)h=h instanceof xn&&h.constructor===xn&&h.Jq===un?h.cm:"type_error:Const";else{if(/^on/i.test(g))throw Error('Attribute "'+g+'" requires goog.string.Const value, "'+h+'" given.');if(h instanceof
wn)h=h instanceof wn&&h.constructor===wn&&h.Fq===tn?h.kf:"type_error:SafeUrl";else{if(g.toLowerCase()in dj)throw Error('Attribute "'+g+'" requires goog.string.Const or goog.html.SafeUrl value, "'+h+'" given.');h instanceof rn&&(h=h instanceof rn&&h.constructor===rn&&h.Eq===ln?h.wp:"type_error:SafeStyle")}}f+=" "+g+'\x3d"'+Aa(h)+'"'}}u(c)?w(c)||(c=[c]):c=[];a.toLowerCase()in Xi?f+="\x3e":(d=An(c),f+="\x3e"+vn(d)+"\x3c/"+a+"\x3e",d=d.Lh());(a=b&&b.dir)&&(d="ltr"==a.toLowerCase()?1:"rtl"==a.toLowerCase()?
-1:null);return cj(f,d)}function Tn(a){a=new a;var b=Vi.h();a.ia(b)}function Un(a,b){var c="";b&&(c=b.id);W(a,"activedescendant",c)}function Vn(a,b){a.classList?F(b,function(b){Af(a,b)}):a.className=Pa(wf(a),function(a){return!G(b,a)}).join(" ")}function Wn(a,b){null!=a&&this.append.apply(this,arguments)}e=Wn.prototype;e.Aa="";e.set=function(a){this.Aa=""+a};e.append=function(a,b,c){this.Aa+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.Aa+=arguments[d];return this};
e.clear=function(){this.Aa=""};e.toString=function(){return this.Aa};function Xn(a){if(ga(a))return Za(a);a=Bd(a);var b=[];Cd(a,function(a){b.push(a)});return b}function Yn(a){a.preventDefault()}function Zn(a,b){a=a.parentNode;for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function $n(a){return void 0!=a.nextElementSibling?a.nextElementSibling:lc(a.nextSibling)}function ao(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function bo(a,b,c){return dc(document,arguments)}
function co(a){for(var b in a)return!1;return!0}function eo(a,b){var c=!Fn(a,b);L(a,b,c)}function fo(a){return/^[\s\xa0]*$/.test(null==a?"":String(a))};function go(a){P.call(this,"navigate");this.Eu=a}C(go,P);function ho(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};function io(a,b,c,d){R.call(this);if(a&&!b)throw Error("Can't use invisible history without providing a blank page.");var f;c?f=c:(f="history_state"+jo,document.write(ua(ko,f,f)),f=Ub(document,f));this.jg=f;this.Y=c?bc(N(c)):window;this.ci=b;H&&!b&&(this.ci="https"==window.location.protocol?"https:///":'javascript:""');this.A=new pd(lo);Ec(this,this.A);this.we=!a;this.n=new S(this);if(a||mo)d?a=d:(a="history_iframe"+jo,b=this.ci?'src\x3d"'+Aa(this.ci)+'"':"",document.write(ua(no,a,b)),a=Ub(document,
a)),this.di=a,this.sq=!0;mo&&(this.n.a(this.Y,"load",this.Tt),this.Vp=this.ak=!1);this.we?oo(this,this.Ib(),!0):po(this,this.jg.value);jo++}C(io,R);io.prototype.pa=!1;io.prototype.df=!1;io.prototype.af=null;var qo=function(a,b){var c=b||ho;return function(){var b=this||q,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),f=c(ja(a),arguments);return b.hasOwnProperty(f)?b[f]:b[f]=a.apply(this,arguments)}}(function(){return H?8<=document.documentMode:"onhashchange"in q}),mo=H&&!vb(8);e=io.prototype;
e.cf=null;e.f=function(){io.c.f.call(this);this.n.k();this.Ea(!1)};e.Ea=function(a){if(a!=this.pa)if(mo&&!this.ak)this.Vp=a;else if(a)if(nb?this.n.a(this.Y.document,ro,this.bu):I&&this.n.a(this.Y,"pageshow",this.yi),qo()&&this.we)this.n.a(this.Y,"hashchange",this.Wt),this.pa=!0,this.dispatchEvent(new go(this.Ib()));else{if(!H||this.ak)this.n.a(this.A,qd,A(this.If,this,!0)),this.pa=!0,mo||(this.af=this.Ib(),this.dispatchEvent(new go(this.Ib()))),this.A.start()}else this.pa=!1,this.n.Bb(),this.A.stop()};
e.Tt=function(){this.ak=!0;this.jg.value&&po(this,this.jg.value,!0);this.Ea(this.Vp)};e.yi=function(a){a.R.persisted&&(this.Ea(!1),this.Ea(!0))};e.Wt=function(){var a=so(this.Y);a!=this.af&&this.ve(a,!0)};e.Ib=function(){return null!=this.cf?this.cf:this.we?so(this.Y):to(this)||""};e.Jg=function(a,b){this.Ib()!=a&&(this.we?(oo(this,a,!1),qo()||H&&po(this,a,!1,b),this.pa&&this.If(!1)):(po(this,a,!1),this.cf=this.af=this.jg.value=a,this.dispatchEvent(new go(a))))};
function so(a){a=a.location.href;var b=a.indexOf("#");return 0>b?"":a.substring(b+1)}function oo(a,b,c){a=a.Y.location;var d=a.href.split("#")[0],f=-1!=a.href.indexOf("#");if(mo||f||b)d+="#"+b;d!=a.href&&(c?a.replace(d):a.href=d)}
function po(a,b,c,d){if(a.sq||b!=to(a))if(a.sq=!1,b=encodeURIComponent(String(b)),H){var f=oc(a.di);f.open("text/html",c?"replace":void 0);f.write(ua(uo,Aa(d||a.Y.document.title),b));f.close()}else if(b=a.ci+"#"+b,a=a.di.contentWindow)c?a.location.replace(b):a.location.href=b}
function to(a){if(H)return a=oc(a.di),a.body?ya(a.body.innerHTML):null;var b=a.di.contentWindow;if(b){var c;try{c=ya(so(b))}catch(d){return a.df||(!0!=a.df&&a.A.setInterval(vo),a.df=!0),null}a.df&&(!1!=a.df&&a.A.setInterval(lo),a.df=!1);return c||null}return null}e.If=function(a){if(this.we){var b=so(this.Y);b!=this.af&&this.ve(b,a)}if(!this.we||mo)if(b=to(this)||"",null==this.cf||b==this.cf)this.cf=null,b!=this.af&&this.ve(b,a)};
e.ve=function(a){this.af=this.jg.value=a;this.we?(mo&&po(this,a),oo(this,a)):po(this,a);this.dispatchEvent(new go(this.Ib()))};e.bu=function(){this.A.stop();this.A.start()};var ro=["mousedown","keydown","mousemove"],uo="\x3ctitle\x3e%s\x3c/title\x3e\x3cbody\x3e%s\x3c/body\x3e",no='\x3ciframe id\x3d"%s" style\x3d"display:none" %s\x3e\x3c/iframe\x3e',ko='\x3cinput type\x3d"text" name\x3d"%s" id\x3d"%s" style\x3d"display:none"\x3e',jo=0,lo=150,vo=1E4;function wo(a,b){R.call(this);this.Y=a||window;this.ij=b||null;Q(this.Y,"popstate",this.xi,!1,this);Q(this.Y,"hashchange",this.xi,!1,this)}C(wo,R);e=wo.prototype;e.pa=!1;e.vm=!0;e.xg="/";e.Ea=function(a){a!=this.pa&&(this.pa=a)&&this.dispatchEvent(new go(this.Ib()))};e.Ib=function(){if(this.vm){var a=this.Y.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)}return this.ij?this.ij.mx(this.xg,this.Y.location):this.Y.location.pathname.substr(this.xg.length)};
e.Jg=function(a,b){a!=this.Ib()&&(this.Y.history.pushState(null,b||this.Y.document.title||"",this.vm?"#"+a:this.ij?this.ij.hx(a,this.xg,this.Y.location):this.xg+a+this.Y.location.search),this.dispatchEvent(new go(a)))};e.f=function(){gd(this.Y,"popstate",this.xi,!1,this);this.vm&&gd(this.Y,"hashchange",this.xi,!1,this)};e.Pp=function(a){this.xg=a};e.xi=function(){this.pa&&this.dispatchEvent(new go(this.Ib()))};function xo(){R.call(this);this.wa=new S(this);this.wa.a(document,"click",this.Wa);this.Ca=null;this.Uk=!1;this.Fp=[];this.Cb=""}C(xo,R);s(xo);e=xo.prototype;e.ia=function(a){var b=window;this.Ca=b.history&&b.history.pushState?new wo:new io;this.Ca.Pp&&this.Ca.Pp(a.path_prefix);this.Ca.Ea(!0);this.wa.a(this.Ca,"navigate",this.rs)};
e.Wa=function(a){if(0==a.button){var b=a.target.href?a.target:Zn(a.target,function(a){return a.href?!0:!1});b&&b.href&&"redirect"!=b.rel&&"_blank"!=b.target&&(a.preventDefault(),a=Vd(Td(b.href)[5]||null)||"",this.navigate(a))}};e.rs=function(a){if(!this.Uk){var b=a.Eu;if(a=Ua(this.Fp,function(a){var d=a.pattern.exec(b);d?(a.Fd.apply(a.Se,d),a=!0):a=!1;return a},this))a.en?(this.dispatchEvent(yo),this.Zi(b)):this.Zi(this.Cb,!0)}};
function zo(a,b,c,d,f){y(b)&&(b=new RegExp("^"+Ia(b).replace(/\\:\w+/g,"(\\w+)").replace(/\\\*/g,"(.*)").replace(/\\\[/g,"(").replace(/\\\]/g,")?").replace(/\\\{/g,"(?:").replace(/\\\}/g,")?")+"$"));b=new Ao(b,c,d);u(f)&&(b.en=f);a.Fp.push(b)}e.navigate=function(a){"/"==a.substr(0,1)&&(a=a.substr(1));a==this.Ca.Ib()&&Bo(this,"");this.Ca.Jg(a)};function Bo(a,b){"/"==b.substr(0,1)&&(b=b.substr(1));a.Uk=!0;a.Ca.Jg(b);a.Uk=!1}e.Zi=function(a,b){this.Cb=a;b&&Bo(this,a)};var yo="navigate";
function Ao(a,b,c){this.pattern=a;this.Fd=b;this.Se=c;this.en=!0};function Co(){U.call(this)}C(Co,U);function Do(a,b,c){R.call(this);this.target=a;this.handle=b||a;this.So=c||new ne(NaN,NaN,NaN,NaN);this.M=N(a);this.n=new S(this);Ec(this,this.n);Q(this.handle,["touchstart","mousedown"],this.rf,!1,this)}C(Do,R);var Eo=H||I&&K("1.9.3");
function Fo(a){for(var b=a.cloneNode(!0),c=a.getElementsByTagName("textarea"),d=b.getElementsByTagName("textarea"),f=0;f<c.length;f++)d[f].value=c[f].value;switch(a.tagName.toLowerCase()){case "tr":return bo("table",null,bo("tbody",null,b));case "td":case "th":return bo("table",null,bo("tbody",null,bo("tr",null,b)));case "textarea":b.value=a.value;default:return b}}e=Do.prototype;e.clientX=0;e.clientY=0;e.screenX=0;e.screenY=0;e.fq=0;e.gq=0;e.Ee=0;e.Fe=0;e.pa=!0;e.Jd=!1;e.Lk=0;e.vt=!1;e.mj=!1;
e.i=function(){return this.n};e.Ui=function(a){this.Lk=Math.pow(a,2)};e.Rp=function(a){this.Qi=a};e.Ea=function(a){this.pa=a};e.f=function(){Do.c.f.call(this);gd(this.handle,["touchstart","mousedown"],this.rf,!1,this);this.n.Bb();Eo&&this.M.releaseCapture();this.handle=this.target=null};function Go(a){u(a.mb)||(a.mb=ye(a.target));return a.mb}
e.rf=function(a){var b="mousedown"==a.type;if(!this.pa||this.Jd||b&&!Oc(a))this.dispatchEvent("earlycancel");else{Ho(a);if(0==this.Lk)if(this.dispatchEvent(new Io("start",this,a.clientX,a.clientY,a)))this.Jd=!0,a.preventDefault();else return;else a.preventDefault();var b=this.M,c=b.documentElement,d=!Eo;this.n.a(b,["touchmove","mousemove"],this.Es,d);this.n.a(b,["touchend","mouseup"],this.Ld,d);Eo?(c.setCapture(!1),this.n.a(c,"losecapture",this.Ld)):this.n.a(bc(b),"blur",this.Ld);H&&this.vt&&this.n.a(b,
"dragstart",Yn);this.Qi&&this.n.a(this.Qi,"scroll",this.rp,d);this.clientX=this.fq=a.clientX;this.clientY=this.gq=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.mj?(a=this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=re(a,"position")||(c=N(a).documentElement),c?(I?(d=Ae(c),b+=d.left):vb(8)&&(d=Ae(c),b-=d.left),a=ye(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.Ee=a;this.Fe=this.target.offsetTop;this.xl=yc(Sb(this.M));B()}};
e.Ld=function(a,b){this.n.Bb();Eo&&this.M.releaseCapture();if(this.Jd){Ho(a);this.Jd=!1;var c=Jo(this,this.Ee),d=Ko(this,this.Fe);this.dispatchEvent(new Io("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function Ho(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.Sa(a.R.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.Sa(a.R.changedTouches[0],a.currentTarget)}
e.Es=function(a){if(this.pa){Ho(a);var b=(this.mj&&Go(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Jd){var d=this.fq-this.clientX,f=this.gq-this.clientY;if(d*d+f*f>this.Lk)if(this.dispatchEvent(new Io("start",this,a.clientX,a.clientY,a)))this.Jd=!0;else{this.Wb||this.Ld(a);return}}c=Lo(this,b,c);b=c.x;c=c.y;this.Jd&&this.dispatchEvent(new Io("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(Mo(this,a,b,c),a.preventDefault())}};function Lo(a,b,c){var d=yc(Sb(a.M));b+=d.x-a.xl.x;c+=d.y-a.xl.y;a.xl=d;a.Ee+=b;a.Fe+=c;b=Jo(a,a.Ee);a=Ko(a,a.Fe);return new M(b,a)}e.rp=function(a){var b=Lo(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;Mo(this,a,b.x,b.y)};function Mo(a,b,c,d){a.mj&&Go(a)?a.target.style.right=c+"px":a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new Io("drag",a,b.clientX,b.clientY,b,c,d))}
function Jo(a,b){var c=a.So,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function Ko(a,b){var c=a.So,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function Io(a,b,c,d,f,g,h,k){P.call(this,a);this.clientX=c;this.clientY=d;this.$m=f;this.left=u(g)?g:b.Ee;this.top=u(h)?h:b.Fe;this.xr=!!k}C(Io,P);function No(){R.call(this);this.Pa=[];this.Ke=[];this.ck={};this.n=new S(this);this.wt=this.Tk=!1;this.um=!0}C(No,R);e=No.prototype;e.Ao=0;e.Ui=function(a){this.Ao=a};e.Sa=function(){if(!this.Tk){for(var a=0,b=this.Pa.length;a<b;a++)for(var c=jc(this.Pa[a]),d=0,f=c.length;d<f;++d)Oo(this,c[d]);this.Tk=!0}};e.f=function(){this.n.k();for(var a=0,b=this.Pa.length;a<b;a++){var c=this.Pa[a];c.$j=void 0;c.dd=void 0}this.Pa.length=0;this.Ke.length=0;this.ck=null;Po(this);No.c.f.call(this)};
function Qo(a,b){for(var c=0,d=a.Pa.length;c<d;c++){var f=a.Pa[c];f.Ie=Fe(f)}c=0;for(d=a.Ke.length;c<d;c++)f=a.Ke[c],f!=b&&(f.Ie=Fe(f))}function Oo(a,b){var c=a.bo(b),d=ja(c);a.ck[d]=b;a.Nn&&(a.n.a(b,"mouseover",a.es),a.n.a(b,"mouseout",a.ds));a.Mn&&(a.n.a(c,"mouseover",a.cs),a.n.a(c,"mouseout",a.bs));a.Ke.push(b);a.n.a(c,["mousedown","touchstart"],a.Gs)}
e.Gs=function(a){var b=ja(a.currentTarget);this.C=this.ck[b];this.Qa=this.Qj(this.C);this.yr&&zf(this.Qa,this.yr||[]);this.Qa.style.margin="0";this.Qa.style.position="absolute";this.Qa.style.visibility="hidden";N(this.C).body.appendChild(this.Qa);b=xe(this.C);Be(this.Qa,b);this.Ha=new Do(this.Qa);this.Ha.Ui(this.Ao);Q(this.Ha,"start",this.Th,!1,this);Q(this.Ha,"end",this.Sh,!1,this);Q(this.Ha,"earlycancel",this.Mj,!1,this);this.Ha.rf(a)};e.Oj=function(a){return Fo(a)};e.Qj=function(a){return this.Oj(a)};
e.Th=function(a){if(this.dispatchEvent(new Ro("beforedragstart",0,a.$m,this.C))){this.Ai=this.C.parentNode;this.Cn=this.ul=$n(this.C);this.Sj=this.Ai;this.Rj?zf(this.C,this.Rj||[]):this.C.style.visibility="hidden";var b=De(this.Qa);this.Qa.Or=b.width/2;this.Qa.Nr=b.height/2;this.Qa.style.visibility="";this.um&&(this.C.style.display="none");Qo(this,this.C);this.C.style.display="";Q(this.Ha,"drag",this.fs,!1,this);this.dispatchEvent(new Ro("dragstart",0,a.$m,this.C))}else a.preventDefault(),this.Mj()};
e.fs=function(a){var b=xe(this.Qa),b=new M(b.x+this.Qa.Or,b.y+this.Qa.Nr),c;a:{c=null;if("none"!=this.C.style.display){c=this.C.parentNode;var d=Fe(c);if(So(b,d))break a}for(var d=0,f=this.Pa.length;d<f;d++){var g=this.Pa[d];if(g!=c&&So(b,g.Ie)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var k,l,d=!1,f=void 0;switch(c.$j){case 0:h=b.y;k=To;l=Uo;break;case 4:d=!0;case 2:h=b.x;k=Vo;l=Uo;break;case 5:d=!0;case 3:h=b.x,k=Wo,l=Xo}for(var g=null,
n,t=jc(c),v=0,ea=t.length;v<ea;v++){var za=t[v];if(za!=this.C){var Ja=k(za.Ie);if(d){var Ta=Yo(za,b);u(f)||(f=Ta);l(h,Ja)&&(void 0==n||Ta<f||Ta==f&&(l(Ja,n)||Ja==n))&&(g=za,n=Ja);Ta<f&&(f=Ta)}else l(h,Ja)&&(void 0==n||l(Ja,n))&&(g=za,n=Ja)}}h=null!==g&&Yo(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new Ro("beforedragmove",0,a,this.C)))return!1;if(c)this.um?this.C.parentNode==c&&$n(this.C)==h||c.insertBefore(this.C,h):h&&(this.Cn=h),this.C.style.display="",c.dd&&yf(c,c.dd);else for(this.wt||(this.C.style.display=
"none"),h=0,k=this.Pa.length;h<k;h++)l=this.Pa[h],l.dd&&Af(l,l.dd);c!=this.Sj&&(this.Sj=c,Qo(this,this.C));this.dispatchEvent(new Ro("dragmove",0,a,this.C));return!1};e.Mj=function(){Po(this);this.Ha=this.Qa=this.ul=this.Ai=this.Sj=this.C=null;for(var a=0,b=this.Pa.length;a<b;a++)this.Pa[a].Ie=null;a=0;for(b=this.Ke.length;a<b;a++)this.Ke[a].Ie=null};
e.Sh=function(a){if(!this.dispatchEvent(new Ro("beforedragend",0,a,this.C)))return!1;this.um||this.Ai.insertBefore(this.C,this.Cn);Po(this);this.dispatchEvent(new Ro("dragend",0,a,this.C));this.Mj();return!0};function Po(a){Fc(a.Ha);a.Qa&&ic(a.Qa);a.C&&"none"==a.C.style.display&&(a.Ai.insertBefore(a.C,a.ul),a.C.style.display="");a.Rj&&a.C?Vn(a.C,a.Rj||[]):a.C&&(a.C.style.visibility="visible");for(var b=0,c=a.Pa.length;b<c;b++){var d=a.Pa[b];d.dd&&Af(d,d.dd)}}e.bo=function(a){return a};
e.es=function(a){zf(a.currentTarget,this.Nn||[])};e.ds=function(a){Vn(a.currentTarget,this.Nn||[])};e.cs=function(a){zf(a.currentTarget,this.Mn||[])};e.bs=function(a){Vn(a.currentTarget,this.Mn||[])};function So(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Yo(a,b){var c=a.Ie;return Math.abs(b.y-(c.top+(c.height-1)/2))}function To(a){return a.top+a.height-1}function Vo(a){return a.left+a.width-1}function Wo(a){return a.left||0}function Uo(a,b){return a<b}
function Xo(a,b){return a>b}function Ro(a,b,c,d){P.call(this,a);this.event=c;this.Bn=d}C(Ro,P);var Zo,$o,ap;function jn(a){var b=a.getTime(),c;c=b;var d=B();d<c&&(c=d);var d=B(),f=Math.floor((d-c)/6E4),d=!1;0>f&&(d=!0,f*=-1);60>f?c=ap(f,d,0):(f=Math.floor(f/60),24>f?c=ap(f,d,1):(f=new Date(B()),f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f=Math.ceil((f.getTime()-c)/864E5),d&&(f*=-1),c=14>f?ap(f,d,2):""));c&&(c=" ("+c+")");1440>Math.floor((B()-b)/6E4)?($o||($o=new Ll(7)),a=$o.format(a)+c):(Zo||(Zo=new Ll(0)),a=Zo.format(a)+c);return a}
ap=function(a,b,c){return b||0!=c?b&&0==c?1==a?"in "+(a+" minute"):"in "+(a+" minutes"):b||1!=c?b&&1==c?1==a?"in "+(a+" hour"):"in "+(a+" hours"):b||2!=c?b&&2==c?1==a?"in "+(a+" day"):"in "+(a+" days"):"":1==a?a+" day ago":a+" days ago":1==a?a+" hour ago":a+" hours ago":1==a?a+" minute ago":a+" minutes ago"};function bp(a,b){this.kc=a||"";this.Le=b||null;this.Lg=[];this.oh=[];this.Jj={};this.Rl={}}
bp.prototype.Qp=function(a){this.kc=a;this.Rl={};this.Jj={};a=twttr.txt.extractHashtagsWithIndices(this.kc);this.Lg=[];this.oh=[];for(var b=0;b<a.length;b++){var c=a[b],d;d=/^:(?:(?:"([^"]*)")|([^\s"]+))/g.exec(this.kc.slice(c.indices[1]));var f=null;null!==d?(f=d[1]?d[1]:d[2],void 0===f&&(f=""),d={Ju:f,length:d[0].length-1}):d=null;null===d?-1==this.Lg.indexOf(c.hashtag)&&this.Lg.push(c.hashtag):(f=c.indices[1]+1,this.oh.push({key:c.hashtag,value:d.Ju,xb:[f,f+d.length]}))}};
bp.prototype.Ph=function(a){var b=this.Jj[a];u(b)||(b=(new a).parse(this),this.Jj[a]=b);return b};function cp(a,b){R.call(this);this.pc=a;this.rg=this.pc.kd();this.pc.kd();this.fc=b;this.Jo=!1;this.jc(Lj.h())}C(cp,R);cp.prototype.hd=function(){return this.fc};cp.prototype.Vl=function(a){this.rg=a};cp.prototype.toString=function(){this.Jo||(this.dispatchEvent(dp),this.Vl(ep(this)),this.Jo=!0);return this.rg};
function ep(a){var b=a.rg;a=a.fc.Lg;for(var c=0;c<a.length;c++)var d="#"+a[c],b=b.replace(d,'\x3ca class\x3d"hash-link simple" href\x3d"/search/'+encodeURIComponent(a[c])+'"\x3e'+d+"\x3c/a\x3e");return b}var dp="entry_text_parse";function pn(a){R.call(this);if(u(a)){var b=Lj.h(),c;if(c=b.get(a))return c;b.set(a,this)}this.V=a||"";this.kc="";this.Mp=this.lm=this.fc=this.on=null}C(pn,uf);function Uj(a){var b=new pn(a._id);b.update(a);return b}e=pn.prototype;e.U=function(){return this.V};e.Wi=function(a){this.kc=a;this.lm=null;this.dispatchEvent(Mj)};e.kd=function(){return this.kc};e.Zn=function(){return this.on||new Ck};
e.hd=function(){if(!this.fc){var a=this.fc=new bp(this.kc,this),b=this.Mp||{};a.Rl=b;u(b.simple_tags)&&(a.Lg=b.simple_tags);u(b.complex_tags)&&(a.oh=b.complex_tags)}return this.fc};function fp(a){return a.lm||(a.lm=new cp(a,a.hd()))}e.save=function(a,b){var c=Rj.h();this.U()?c.save(this,a,b):c.save(this,function(){Lj.h().set(this.U(),this);this.dispatchEvent(Nj);z(a)&&a.call(b,this)},this)};e.Bc=function(){var a=Rj.h();this.V&&(a.Bc(this),this.V="");this.dispatchEvent("destroy")};
e.update=function(a){var b=!1;this.Mp=a;u(a._id)&&(this.V=a._id,b=!0);u(a.text)&&(this.kc=a.text,b=!0);u(a.created_date)&&(y(a.created_date)?(a=a.created_date,b=new Ck(2E3),a=qk(b,a)?b:null):a=a.created_date,this.on=a,b=!0);b&&this.dispatchEvent("change")};e.sc=function(){return{text:this.kc}};var Nj="entry_created",Mj="text_changed";function gp(a){var b='\x3cli class\x3d"entry"\x3e\x3cdiv class\x3d"entry-actions"\x3e\x3ca class\x3d"action-edit" href\x3d"'+df(a.zr)+'"\x3e\x3c/a\x3e\x3ca class\x3d"action-delete" href\x3d"'+df(a.vr)+'"\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-body"\x3e',c;c=(c=a.body)&&c.qh===Ze?"zSoyz":String(c);return b+c+'\x3c/div\x3e\x3cdiv class\x3d"entry-info"\x3e\x3cspan class\x3d"entry-date"\x3e'+df(a.s)+"\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e"};function hp(a){U.call(this);this.Ya=a}C(hp,U);hp.prototype.g=function(){var a=this.Ya,b=jn(a.Zn()),a={zr:"/edit/"+a.U(),vr:"/delete/"+a.U(),body:fp(a).toString(),s:b},a=$e(gp,a);this.m(a)};hp.prototype.d=function(){hp.c.d.call(this);var a=this.Ya;this.i().a(a,Mj,this.Jc).a(this.b(),"click",this.Wa);fp(a).dispatchEvent({type:"entry_display",oq:this})};hp.prototype.Jc=function(){var a=fp(this.Ya).toString();this.j("entry-body").innerHTML=a;fp(this.Ya).dispatchEvent({type:"entry_display",oq:this})};
hp.prototype.Wa=function(a){"A"!=a.target.nodeName&&this.j("action-edit").click()};function ip(a){U.call(this);this.mc=a;this.mc.forEach(function(a){jp(this,a)},this);this.Gb=new No;this.Gb.Ui(10)}C(ip,U);e=ip.prototype;e.g=function(){var a=this.t().g("ul","entry-list");this.m(a)};e.d=function(){ip.c.d.call(this);this.i().a(this.mc,Gj,this.gs).a(this.mc,Ij,this.ls).a(this.mc,kn,this.ks).a(this.mc,["readystatechange","complete"],this.fo).a(this.b(),"scroll",this.Dk).a(this.Gb,"beforedragend",this.js);var a=this.Gb,b=this.b();b.$j=0;b.dd=void 0;a.Pa.push(b);this.Gb.Sa();this.fo()};
e.js=function(a){console.log(a);return!1};e.Dk=function(a){var b=this.b();50>b.scrollHeight-b.offsetHeight-b.scrollTop&&(b=this.mc,b.Wo||b.ng||(b.ee.Mg=(b.ee.Mg||0)+(b.ee.$d||Kj.$d),b.refresh(void 0,void 0,!0)));this.dispatchEvent(a)};e.gs=function(a){jp(this,a.item,a.index)};e.ls=function(a){(a=this.removeChild(We(this,a.index),!0))&&a.k()};e.ks=function(a){this.Ub(We(this,a.Pt),a.Nt)};function jp(a,b,c){b=new hp(b);ha(c)?a.Ub(b,c,!0):a.P(b,!0)}e.f=function(){this.Gb.k()};
e.fo=function(){var a=this.mc.ng;L(this.b(),"is-loading",a)};function kp(a){U.call(this);this.Pb=new hk("");this.Pb.qf("Add Entry...");this.mm=a||"";this.ga=!1}C(kp,U);e=kp.prototype;e.g=function(){var a=this.t(),a=a.g("div","quick-create-entry hidden",[a.g("div","actions")]);this.m(a);this.P(this.Pb,!0)};e.d=function(){kp.c.d.call(this);this.i().a(this.Pb,"keydown",this.Td).a(this.Pb,"focus",this.fn).a(this.Pb,"blur",this.uk)};e.fn=function(){!this.Pb.o()&&this.mm&&this.Pb.G(this.mm+" ")};
e.Td=function(a){if(13!==a.keyCode||a.shiftKey)27===a.keyCode&&this.dispatchEvent("close");else{var b=this.Pb.o();if(b){var c=new pn;c.Wi(b);c.save();this.Pb.reset();this.fn()}a.preventDefault()}};e.uk=function(){var a=this.Pb.o();if(a.trim()==this.mm.trim()||0==a.trim().length)this.Pb.reset(),this.dispatchEvent("close")};e.N=function(a){a&&this.Pb.focus();L(this.b(),"hidden",!a);this.ga=a};e.W=function(){return this.ga};function lp(a){return a=""+('\x3csection class\x3d"entry-list-container"\x3e\x3cdiv class\x3d"entry-list-actions touch-visible"\x3e\x3cdiv class\x3d"action action-add" data-tooltip\x3d"add" data-action\x3d"add"\x3e\x3c/div\x3e\x3cdiv class\x3d"action action-close" data-tooltip\x3d"close" data-action\x3d"close"\x3e\x3c/div\x3e\x3cdiv class\x3d"action action-toggle" data-action\x3d"toggle"\x3e\x3c/div\x3e\x3cul class\x3d"entry-list-menu"\x3e\x3cli class\x3d"action-save" data-action\x3d"save"\x3eSave\x3c/li\x3e\x3cli class\x3d"action-delete" data-action\x3d"delete"\x3eDelete all\x3c/li\x3e\x3cli class\x3d"action-sort-text" data-action\x3d"sort-text"\x3eSort by text\x3c/li\x3e\x3cli class\x3d"action-sort-date hidden" data-action\x3d"sort-date"\x3eSort by date\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3ch3 title\x3d"'+
df(a.title)+'"\x3e\x3cspan class\x3d"drag-element"\x3e\x3c/span\x3e'+df(a.title)+"\x3c/h3\x3e\x3c/section\x3e")};function mp(a,b){U.call(this);var c=a.Ri.replace("/entries",""),c=c.replace("?query\x3d","");this.lf=new kp(decodeURIComponent(c));this.Vf=new ip(a);this.Qb=b||a.jd()}C(mp,U);e=mp.prototype;e.g=function(){var a=$e(lp,{title:this.Qb});this.m(a)};e.m=function(a){mp.c.m.call(this,a);this.P(this.lf,!0);this.P(this.Vf,!0)};e.d=function(){mp.c.d.call(this);this.i().a(this.j("entry-list-actions"),"click",this.Pr).a(this.lf,"resize",this.zj).a(this.lf,"close",this.cr)};
e.zj=function(a){var b=0;this.lf.N(!!a);if(!u(a)||a)b=this.lf.b().offsetHeight;a=b;oe(this.Vf.b(),"top",a+50+"px")};e.cr=function(){this.zj(!1)};e.om=function(){var a=this.j("entry-list-menu");eo(a,"visible");Fn(a,"visible")?this.i().a(document.body,"click",this.om,!0):this.i().K(document.body,"click",this.om,!0)};e.jd=function(){return this.Vf.mc.jd()};
e.Pr=function(a){switch(a.target.getAttribute("data-action")){case "add":this.zj(!this.lf.W());break;case "toggle":this.om();break;case "close":this.close();break;case "save":In(this.jd(),this.Qb);break;case "delete":qn(this.Vf.mc,function(a){a.Bc()});this.close();break;case "sort-text":np(this,"text");break;case "sort-date":np(this,"created_date")}};function np(a,b){var c=a.Vf.mc;c.ee.sort=b;c.refresh();eo(a.j("action-sort-text"),"hidden");eo(a.j("action-sort-date"),"hidden")}
e.close=function(){this.getParent().removeChild(this);this.k()};function op(a){this.ce=a}op.prototype.set=function(a,b){u(b)?this.ce.set(a,(new Cn(void 0)).sc(b)):this.ce.remove(a)};op.prototype.get=function(a){var b;try{b=this.ce.get(a)}catch(c){return}if(null!==b)try{return sd(b)}catch(d){throw"Storage: Invalid value was encountered";}};op.prototype.remove=function(a){this.ce.remove(a)};function pp(){};function qp(a){this.ce=a}C(qp,op);function rp(a){this.data=a}function sp(a){return!u(a)||a instanceof rp?a:new rp(a)}qp.prototype.set=function(a,b){qp.c.set.call(this,a,sp(b))};qp.prototype.tk=function(a){a=qp.c.get.call(this,a);if(!u(a)||a instanceof Object)return a;throw"Storage: Invalid value was encountered";};qp.prototype.get=function(a){if(a=this.tk(a)){if(a=a.data,!u(a))throw"Storage: Invalid value was encountered";}else a=void 0;return a};function tp(a){this.ce=a}C(tp,qp);tp.prototype.set=function(a,b,c){if(b=sp(b)){if(c){if(c<B()){tp.prototype.remove.call(this,a);return}b.expiration=c}b.creation=B()}tp.c.set.call(this,a,b)};tp.prototype.tk=function(a,b){var c=tp.c.tk.call(this,a);if(c){var d;if(d=!b){d=c.creation;var f=c.expiration;d=!!f&&f<B()||!!d&&d>B()}if(d)tp.prototype.remove.call(this,a);else return c}};function up(){}C(up,pp);up.prototype.T=function(){var a=0;Cd(this.Tb(!0),function(){a++});return a};up.prototype.clear=function(){var a=Xn(this.Tb(!0)),b=this;F(a,function(a){b.remove(a)})};function vp(a){this.Nb=a}C(vp,up);e=vp.prototype;e.Sk=function(){if(!this.Nb)return!1;try{return this.Nb.setItem("__sak","1"),this.Nb.removeItem("__sak"),!0}catch(a){return!1}};e.set=function(a,b){try{this.Nb.setItem(a,b)}catch(c){if(0==this.Nb.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};e.get=function(a){a=this.Nb.getItem(a);if(!y(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};e.remove=function(a){this.Nb.removeItem(a)};
e.T=function(){return this.Nb.length};e.Tb=function(a){var b=0,c=this.Nb,d=new Ad;d.next=function(){if(b>=c.length)throw zd;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!y(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};e.clear=function(){this.Nb.clear()};e.key=function(a){return this.Nb.key(a)};function wp(){var a=null;try{a=window.localStorage||null}catch(b){}this.Nb=a}C(wp,vp);function xp(a,b){if(H&&!vb(9)){yp||(yp=new Dd);this.jb=yp.get(a);this.jb||(b?this.jb=document.getElementById(b):(this.jb=document.createElement("userdata"),this.jb.addBehavior("#default#userData"),document.body.appendChild(this.jb)),yp.set(a,this.jb));this.sf=a;try{this.jb.load(this.sf)}catch(c){this.jb=null}}}C(xp,up);var zp={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},yp=null;e=xp.prototype;e.jb=null;e.sf=null;
function Ap(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return zp[a]})}e.Sk=function(){return!!this.jb};e.set=function(a,b){this.jb.setAttribute(Ap(a),b);Bp(this)};e.get=function(a){a=this.jb.getAttribute(Ap(a));if(!y(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};e.remove=function(a){this.jb.removeAttribute(Ap(a));Bp(this)};e.T=function(){return Cp(this).attributes.length};
e.Tb=function(a){var b=0,c=Cp(this).attributes,d=new Ad;d.next=function(){if(b>=c.length)throw zd;var d=c[b++];if(a)return decodeURIComponent(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!y(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};e.clear=function(){for(var a=Cp(this),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);Bp(this)};function Bp(a){try{a.jb.save(a.sf)}catch(b){throw"Storage mechanism: Quota exceeded";}}
function Cp(a){return a.jb.XMLDocument.documentElement};function Dp(a,b){this.ff=a;this.ie=b+"::"}C(Dp,up);e=Dp.prototype;e.ff=null;e.ie="";e.set=function(a,b){this.ff.set(this.ie+a,b)};e.get=function(a){return this.ff.get(this.ie+a)};e.remove=function(a){this.ff.remove(this.ie+a)};e.Tb=function(a){var b=this.ff.Tb(!0),c=this,d=new Ad;d.next=function(){for(var d=b.next();d.substr(0,c.ie.length)!=c.ie;)d=b.next();return a?d.substr(c.ie.length):c.ff.get(d)};return d};function Ep(){var a=new wp;(a=a.Sk()?new Dp(a,"appdata"):null)||(a=new xp("appdata"),a=a.Sk()?a:null);this.ce=a}C(Ep,tp);s(Ep);Ep.prototype.set=function(a,b,c){return Ep.c.set.call(this,"blaUser"+a,b,c)};Ep.prototype.get=function(a){return Ep.c.get.call(this,"blaUser"+a)};function Fp(){return'\x3cdiv class\x3d"view list-view"\x3e\x3c/div\x3e'}function Gp(){return'\x3cdiv class\x3d"entry-list-switcher"\x3e\x3cdiv class\x3d"stats"\x3e\x3c/div\x3e\x3cspan class\x3d"left-btn"\x3e\x3c/span\x3e\x3cspan class\x3d"right-btn"\x3e\x3c/span\x3e\x3c/div\x3e'};function Hp(a){U.call(this);this.dc=a;this.zc=this.Qo=0}C(Hp,U);e=Hp.prototype;e.g=function(){var a=$e(Gp);this.m(a)};e.d=function(){Hp.c.d.call(this);this.i().a(this.b(),"click",this.Wa).a(this.dc,"scroll",this.Dk).a(this.dc,Ip,this.oo).a(this.dc,Jp,this.oo);Kp(this)};e.N=function(a){L(this.b(),"hidden",!a)};e.Dk=function(a){a=a.target.scrollTop;this.N(a<this.Qo);this.Qo=a};e.oo=function(){var a=Ve(this.dc)-1;a<this.zc&&(a=this.zc=0<=a?a:0,Lp(this.dc.b(),-100*a+"%"));Kp(this)};
e.Wa=function(a){a=a.target;Fn(a,"hidden")||(Fn(a,"left-btn")?this.zc--:Fn(a,"right-btn")&&this.zc++,a=this.zc,Lp(this.dc.b(),-100*a+"%"),Kp(this))};function Kp(a){var b=Ve(a.dc)-1,c=a.zc+1+"/"+(b+1);a.j("stats").innerHTML=c;c=0>=a.zc;L(a.j("left-btn"),"hidden",c);b=a.zc>=b;L(a.j("right-btn"),"hidden",b)};function Lp(a,b){oe(a,"transform","translate3d("+(b||0)+", 0, 0)")};function Mp(){R.call(this);this.v=Np;this.Sn=this.startTime=null}C(Mp,R);var Np=0;Mp.prototype.Pc=function(){this.Dc("begin")};Mp.prototype.rd=function(){this.Dc("end")};Mp.prototype.Dc=function(a){this.dispatchEvent(a)};var Op={},Pp=null;function Qp(a){a=ja(a);delete Op[a];co(Op)&&Pp&&Pp.stop()}function Rp(){Pp||(Pp=new Of(function(){Sp()},20));var a=Pp;a.bc()||a.start()}function Sp(){var a=B();Jb(Op,function(b){Tp(b,a)});co(Op)||Rp()};function Up(a,b,c,d){Mp.call(this);if(!w(a)||!w(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Ng=a;this.Rn=b;this.duration=c;this.Nm=d;this.coords=[];this.mj=!1}C(Up,Mp);e=Up.prototype;e.gb=0;
e.play=function(a){if(a||this.v==Np)this.gb=0,this.coords=this.Ng;else if(1==this.v)return!1;Qp(this);this.startTime=a=B();-1==this.v&&(this.startTime-=this.duration*this.gb);this.Sn=this.startTime+this.duration;this.gb||this.Pc();this.Dc("play");-1==this.v&&this.Dc("resume");this.v=1;var b=ja(this);b in Op||(Op[b]=this);Rp();Tp(this,a);return!0};e.stop=function(a){Qp(this);this.v=Np;a&&(this.gb=1);Vp(this,this.gb);this.Dc("stop");this.rd()};
e.f=function(){this.v==Np||this.stop(!1);this.Dc("destroy");Up.c.f.call(this)};e.Bc=function(){this.k()};function Tp(a,b){a.gb=(b-a.startTime)/(a.Sn-a.startTime);1<=a.gb&&(a.gb=1);Vp(a,a.gb);1==a.gb?(a.v=Np,Qp(a),a.Dc("finish"),a.rd()):1==a.v&&a.sg()}function Vp(a,b){z(a.Nm)&&(b=a.Nm(b));a.coords=Array(a.Ng.length);for(var c=0;c<a.Ng.length;c++)a.coords[c]=(a.Rn[c]-a.Ng[c])*b+a.Ng[c]}e.sg=function(){this.Dc("animate")};e.Dc=function(a){this.dispatchEvent(new Wp(a,this))};
function Wp(a,b){P.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.gb=b.gb;this.state=b.v}C(Wp,P);function Xp(a,b,c,d){Up.call(this,a,b,c,d)}C(Xp,Up);Xp.prototype.setEndPoint=function(a){this.Rn=a};function Yp(a,b,c,d,f){Up.call(this,b,c,d,f);this.element=a}C(Yp,Xp);e=Yp.prototype;e.Uc=r;e.Yd=function(){u(this.mb)||(this.mb=ye(this.element));return this.mb};e.sg=function(){this.Uc();Yp.c.sg.call(this)};e.rd=function(){this.Uc();Yp.c.rd.call(this)};e.Pc=function(){this.Uc();Yp.c.Pc.call(this)};function Zp(a,b,c,d,f,g){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Yp.apply(this,arguments);this.Ml=g||null}C(Zp,Yp);Zp.prototype.Uc=function(){this.Ml?(this.Ml.scrollLeft=this.coords[0],this.Ml.ox=this.coords[1]):window.scrollTo(this.coords[0],this.coords[1])};function $p(a,b){this.e=a;this.Be=b}$p.prototype.play=function(){fd(this.e,[Jc,Ic],this.ct,!1,this);Cb(this.e,this.Be)};$p.prototype.ct=function(){Db(this.e,this.Be)};function aq(a){return 3*a*a-2*a*a*a};function bq(){U.call(this);this.Gb=new No;this.Gb.Ui(10);this.Gb.bo=this.Kr;var a=Ep.h().get(this.sf);if(a)for(var b=0;b<a.length;b++){var c=a[b],d=Pj(c.searchPattern);Nn(this,d,c.title,!1)}else a=Pn(),Nn(this,a,"Latest Entries",!1)}C(bq,Co);e=bq.prototype;e.g=function(){var a=$e(Fp);this.m(a)};e.d=function(){bq.c.d.call(this);if(hj)(new Hp(this)).J(this.b().parentElement);else{var a=this.Gb,b=this.b();b.$j=2;b.dd=void 0;a.Pa.push(b);this.Gb.Sa();this.i().a(this.Gb,"dragend",this.vs)}};
e.vs=function(a){var b=-1,c=null;V(this,function(d){d.b()==a.Bn&&(c=d,b=Oa(jc(this.S()),a.Bn))},this);this.removeChild(c);ic(c.b());this.Ub(c,b);ao(this.S(),c.b(),b);cq(this)};e.Kr=function(a){return Xb("drag-element",a)};function Nn(a,b,c,d){var f;V(a,function(a){a.jd()==b.jd()&&(f=a)},a);f||(f=new mp(b,c),a.P(f,!0),a.w&&Oo(a.Gb,f.b()),cq(a),a.dispatchEvent(Ip));!1!==d&&dq(a,f)}
function dq(a,b){var c=b.b(),d=a.b();(new Zp(c,[d.scrollLeft,0],[c.offsetLeft,0],500,aq,d)).play();(new $p(c,"focus-anim")).play()}e.Nj=function(){this.zg(!0)};e.removeChild=function(a,b){var c=bq.c.removeChild.call(this,a,b);this.dispatchEvent(Jp);cq(this);return c};e.sf="hash5-listview-opend";function cq(a){var b=[];V(a,function(a){b.push({searchPattern:a.jd(),title:a.Qb})});Ep.h().set(a.sf,b)}var Ip="list-added",Jp="list-removed";function eq(a,b,c,d,f){Up.call(this,b,c,d,f);this.element=a}C(eq,Up);e=eq.prototype;e.Uc=r;e.Yd=function(){u(this.mb)||(this.mb=ye(this.element));return this.mb};e.sg=function(){this.Uc();eq.c.sg.call(this)};e.rd=function(){this.Uc();eq.c.rd.call(this)};e.Pc=function(){this.Uc();eq.c.Pc.call(this)};function fq(a,b,c,d,f){ha(b)&&(b=[b]);ha(c)&&(c=[c]);eq.call(this,a,b,c,d,f);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}C(fq,eq);
fq.prototype.Uc=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity\x3d"+100*a+")")};fq.prototype.show=function(){this.element.style.display=""};function gq(a,b,c){fq.call(this,a,1,0,b,c)}C(gq,fq);gq.prototype.Pc=function(){this.show();gq.c.Pc.call(this)};gq.prototype.rd=function(){this.element.style.display="none";gq.c.rd.call(this)};function hq(a,b,c){fq.call(this,a,0,1,b,c)}C(hq,fq);
hq.prototype.Pc=function(){this.show();hq.c.Pc.call(this)};function iq(a,b,c){R.call(this);this.og=a;this.vd=c;this.q=b;Q(b,[jq,kq,lq,mq],this.handleEvent,!1,this);this.Rb=null;this.na=[];this.md=-1;this.ab=0;this.Hd=this.aa=null;this.Fo={}}C(iq,R);e=iq.prototype;e.Ht=10;e.Vq=!0;e.Rm=!1;e.Aq=!1;e.mq=!1;var jq="hilite",kq="select",mq="dismiss",lq="canceldismiss";e=iq.prototype;e.Ib=function(){return this.Rb};
e.handleEvent=function(a){var b=this.og;if(a.target==this.q)switch(a.type){case jq:this.Lc(a.le);break;case kq:var c=!1;if(ha(a.le)){a=a.le;var d=this.na[nq(this,a)],c=!!d&&b.Vk&&b.Vk(d);d&&!c&&this.md!=a&&this.Lc(a)}c||oq(this);break;case lq:pq(this);break;case mq:qq(this)}};e.Jg=function(a,b){this.Rb!=a&&(this.Rb=a,this.og.Bp(this.Rb,this.Ht,A(this.Et,this),b),pq(this))};e.cc=function(){return this.q.W()};
function rq(a){for(var b=a.ab+a.na.length-1,c=a.md,d=0;d<a.na.length;d++){if(c>=a.ab&&c<b)c++;else if(-1==c)c=a.ab;else if(a.Rm&&c==b){a.Lc(-1);break}else if(a.Aq&&c==b)c=a.ab;else break;if(a.Lc(c))return!0}return!1}function sq(a){for(var b=a.ab+a.na.length-1,c=a.md,d=0;d<a.na.length;d++){if(c>a.ab)c--;else if(a.Rm&&c==a.ab){a.Lc(-1);break}else if(!a.Aq||-1!=c&&c!=a.ab)break;else c=b;if(a.Lc(c))return!0}return!1}
e.Lc=function(a){var b=nq(this,a),c=this.na[b];return c&&this.og.Vk&&this.og.Vk(c)?!1:(this.md=a,this.q.Lc(a),-1!=b)};function oq(a){var b=nq(a,a.md);if(-1!=b){var c=a.na[b],d=a.vd;d.O&&d.Tp(c.toString(),void 0);a.mq?(a.Rb=null,qq(a)):a.Cc();a.dispatchEvent({type:"update",le:c,index:b});a.mq&&a.vd.update(!0);return!0}a.Cc();a.dispatchEvent({type:"update",le:null,index:null});return!1}
e.Cc=function(){this.md=-1;this.Rb=null;this.ab+=this.na.length;this.na=[];window.clearTimeout(this.Hd);this.Hd=null;this.q.Cc();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(mq)};function qq(a){a.Hd||(a.Hd=window.setTimeout(A(a.Cc,a),100))}e.Co=function(){return this.Hd?(window.clearTimeout(this.Hd),this.Hd=null,!0):!1};function pq(a){a.Co()||window.setTimeout(A(a.Co,a),10)}e.f=function(){iq.c.f.call(this);delete this.Fo;this.q.k();this.vd.k();this.og=null};
e.Et=function(a,b,c){this.Rb==a&&this.Gl(b,c)};e.Gl=function(a,b){var c="object"==fa(b)&&b,d=(c?c.jx():b)?nq(this,this.md):-1;this.ab+=this.na.length;this.na=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.ab+g,data:a[g]});g=null;this.aa&&(g=this.Fo[ja(this.aa)]||this.aa);this.q.Tq=g;this.q.Gl(f,this.Rb,this.aa);g=this.Vq;c&&void 0!==c.Jr()&&(g=c.Jr());this.md=-1;(g||0<=d)&&0!=f.length&&this.Rb&&(0<=d?this.Lc(this.ab+d):rq(this));this.dispatchEvent("suggestionsupdate")};
function nq(a,b){var c=b-a.ab;return 0>c||c>=a.na.length?-1:c}e.fh=function(a){var b=this.vd;b.fh.apply(b,arguments)};e.update=function(a){this.vd.update(a)};function tq(a,b,c,d){R.call(this);this.I=a||document.body;this.D=Sb(this.I);this.mu=!a;this.e=null;this.Rb="";this.na=[];this.me=[];this.eq=this.ai=-1;this.ta=!1;this.className="ac-renderer";this.Jl="ac-row";this.Ro="active";this.Om="ac-active";this.ot="ac-highlighted";this.Nf=b||null;this.Iu=null!=d?d:!0;this.Ft=!0;this.Jk=!1;this.nu=!!c;this.fj=!1;this.ui=0;this.$p=!1}C(tq,R);e=tq.prototype;e.b=function(){return this.e};
e.Gl=function(a,b,c){this.Rb=b;this.na=a;this.ai=-1;this.eq=B();this.aa=c;this.me=[];uq(this)};e.Cc=function(){this.aa&&Un(this.aa,null);this.ta&&(this.ta=!1,this.aa&&W(this.aa,"haspopup",!1),0<this.ui?(Fc(this.ze),this.ze=new gq(this.e,this.ui),this.ze.play()):T(this.e,!1))};e.show=function(){this.ta||(this.ta=!0,this.aa&&($f(this.aa,"combobox"),W(this.aa,"autocomplete","list"),W(this.aa,"haspopup",!0)),0<this.ui?(Fc(this.ze),this.ze=new hq(this.e,this.ui),this.ze.play()):T(this.e,!0))};e.W=function(){return this.ta};
function vq(a,b){var c=0<=b&&b<a.na.length?a.na[b]:void 0,d=0<=b&&b<a.me.length?a.me[b]:void 0;a.dispatchEvent({type:"rowhilite",nx:d,le:c?c.data:null})&&(0<=a.ai&&Vn(a.me[a.ai],[a.Om,a.Ro]),a.ai=b,d&&(zf(d,[a.Om,a.Ro]),a.aa&&Un(a.aa,d),ze(d,a.e)))}e.Lc=function(a){if(-1==a)vq(this,-1);else for(var b=0;b<this.na.length;b++)if(this.na[b].id==a){vq(this,b);break}};
function wq(a){if(!a.e){var b=a.D.g("div",{style:"display:none"});a.$p&&(b.style.overflowY="auto");a.e=b;zf(b,xa(a.className).split(" "));$f(b,"listbox");b.id=Pe(Oe.h());a.D.appendChild(a.I,b);Q(b,"click",a.Wa,!1,a);Q(b,"mousedown",a.to,!1,a);Q(b,"mouseover",a.uo,!1,a)}}
function uq(a){wq(a);a.fj&&(a.e.style.visibility="hidden");a.Ou&&(a.e.style.minWidth=a.Ou.clientWidth+"px");a.me.length=0;a.D.zg(a.e);if(a.Nf&&a.Nf.J)a.Nf.J(a);else{var b=null;F(a.na,function(a){var d=this.Rb,f=this.D.g("div",{className:this.Jl,id:Pe(Oe.h())});$f(f,"option");this.Nf&&this.Nf.lx||pc(f,a.data.toString());d&&this.Iu&&xq(this,f,d);yf(f,this.Jl);this.me.push(f);a=f;this.fj?this.e.insertBefore(a,b):this.D.appendChild(this.e,a);b=a},a)}0==a.na.length?a.Cc():(a.show(),a.hc(),He(a.e,!0))}
e.hc=function(){if(this.aa&&this.mu){var a=this.Tq||this.aa,b;b=this.nu?3:1;this.fj&&(b^=1);var c=65;this.$p&&(this.e.style.height="",c|=32);Fk(a,b,this.e,b^1,null,null,c);this.fj&&(this.e.style.visibility="visible")}};e.f=function(){this.e&&(gd(this.e,"click",this.Wa,!1,this),gd(this.e,"mousedown",this.to,!1,this),gd(this.e,"mouseover",this.uo,!1,this),this.D.removeNode(this.e),this.e=null,this.ta=!1);Fc(this.ze);this.I=null;tq.c.f.call(this)};
function xq(a,b,c){if(3==b.nodeType){var d=null;w(c)&&1<c.length&&!a.Jk&&(d=bb(c,1));c=yq(a,c);if(0!=c.length){var f=b.nodeValue,g=a.Ft?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var h=0,k=g.exec(f),l=0;k;)l++,c.push(f.substring(h,k.index)),c.push(f.substring(k.index,g.lastIndex)),h=g.lastIndex,k=g.exec(f);c.push(f.substring(h));if(1<c.length){d=a.Jk?l:1;for(f=0;f<d;f++)g=2*f,b.nodeValue=c[g],h=a.D.createElement("b"),h.className=a.ot,a.D.appendChild(h,a.D.createTextNode(c[g+1])),
h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.D.createTextNode(""),h.nextSibling),b=h.nextSibling;b.nodeValue=bb(c,2*d).join("")}else d&&xq(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,xq(a,b,c),b=d}function yq(a,b){var c="";if(!b)return c;w(b)&&(b=Pa(b,function(a){return!fo(a)}));a.Jk?w(b)?c=Qa(b,Ia).join("|"):(c=va(b),c=Ia(c),c=c.replace(/ /g,"|")):w(b)?c=0<b.length?Ia(b[0]):"":/^\W/.test(b)||(c=Ia(b));return c}
function zq(a,b){for(;b&&b!=a.e&&!xf(b,a.Jl);)b=b.parentNode;return b?Oa(a.me,b):-1}e.Wa=function(a){var b=zq(this,a.target);0<=b&&this.dispatchEvent({type:kq,le:this.na[b].id});a.stopPropagation()};e.to=function(a){a.stopPropagation();a.preventDefault()};e.uo=function(a){a=zq(this,a.target);0<=a&&!(300>B()-this.eq)&&this.dispatchEvent({type:jq,le:this.na[a].id})};function Aq(a,b){if(Bq(a))a.selectionStart=b;else if(H){var c=Cq(a),d=c[0];d.inRange(c[1])&&(b=Dq(a,b),d.collapse(!0),d.move("character",b),d.select())}}
function Eq(a){var b;a:{var c=0,d=0;if(Bq(a))c=a.selectionStart,d=-1;else if(H){var f=Cq(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if("textarea"==a.type){f.duplicate();c=a=b.text;for(d=!1;!d;)0==b.compareEndPoints("StartToEnd",b)?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function Fq(a,b){if(Bq(a))a.selectionEnd=b;else if(H){var c=Cq(a),d=c[1];c[0].inRange(d)&&(b=Dq(a,b),c=Dq(a,Eq(a)),d.collapse(!0),d.moveEnd("character",b-c),d.select())}}function Cq(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function Dq(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}
function Bq(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function Gq(a,b,c,d){O.call(this);d=d||150;this.jf=null!=c?c:!0;this.Fg=a||",;";this.ur=this.Fg.substring(0,1);a=this.jf?"[\\s"+this.Fg+"]+":"[\\s]+";this.nq=new RegExp("^"+a+"|"+a+"$","g");this.ou=new RegExp("\\s*["+this.Fg+"]$");this.To=b||"";this.iu=this.jf;this.A=0<d?new pd(d):null;this.wa=new S(this);this.vj=new S(this);this.ja=new Tf;this.Po=-1}C(Gq,O);var Hq=($h||ai)&&!K("533.17.9");e=Gq.prototype;e.Nu=!0;e.Ir=!0;e.uq=!1;e.qu=!0;e.pu=!0;e.wj=null;e.O=null;e.dl="";e.Ad=!1;e.Kl=!1;e.Hu=!0;
e.o=function(){return this.O.value};e.G=function(a){this.O.value=a};e.fh=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];mc(c)&&W(c,"haspopup",!0);this.wa.a(c,"focus",this.Rd);this.wa.a(c,"blur",this.Hc);if(!this.O&&(this.vj.a(c,"keydown",this.Xt),mc(c))){var d;a:{var f=N(c);try{d=f&&f.activeElement;break a}catch(g){}d=null}d==c&&Iq(this,c)}}};
e.Tp=function(a,b){if(u(b)?b:this.jf){var c=Jq(this,this.o(),Eq(this.O)),d=Kq(this,this.o()),f=a;this.ou.test(f)||(f=f.replace(/[\s\xa0]+$/,"")+this.ur);this.Nu&&(0==c||/^[\s\xa0]*$/.test(d[c-1])||(f=" "+f),c==d.length-1&&(f+=" "));if(f!=d[c]){d[c]=f;f=this.O;(I||H&&K("9"))&&f.blur();f.value=d.join("");for(var g=0,h=0;h<=c;h++)g+=d[h].length;f.focus();c=g;Aq(this.O,c);Fq(this.O,c)}}else this.G(a);this.Kl=!0};
e.f=function(){Gq.c.f.call(this);null!=this.wj&&window.clearTimeout(this.wj);this.wa.k();delete this.wa;this.vj.k();this.ja.k();Fc(this.A)};
e.lb=function(a){switch(a.keyCode){case 40:if(this.ca.cc())return this.nl(),a.preventDefault(),!0;if(!this.jf)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.ca.cc())return this.ol(),a.preventDefault(),!0;break;case 9:if(this.ca.cc()&&!a.shiftKey){if(this.update(),oq(this.ca)&&this.iu)return a.preventDefault(),!0}else this.ca.Cc();break;case 13:if(this.ca.cc()){if(this.update(),oq(this.ca))return a.preventDefault(),a.stopPropagation(),!0}else this.ca.Cc();break;case 27:if(this.ca.cc())return this.ca.Cc(),
a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.Ad)return this.Ad||(this.wa.a(this.O,"keyup",this.mp),this.wa.a(this.O,"keypress",this.sl),this.Ad=!0),!0;break;default:this.A&&!this.Hu&&(this.A.stop(),this.A.start())}return Lq(this,a)};function Lq(a,b){var c=a.jf&&b.charCode&&-1!=a.Fg.indexOf(String.fromCharCode(b.charCode));a.qu&&c&&a.update();return a.pu&&c&&oq(a.ca)?(b.preventDefault(),!0):!1}e.ts=function(){return!1};e.Rd=function(a){Iq(this,a.target||null)};
function Iq(a,b){a.vj.Bb();a.ca&&pq(a.ca);b!=a.O&&(a.O=b,a.A&&(a.A.start(),a.wa.a(a.A,qd,a.zi)),a.dl=a.o(),a.ja.Hf(a.O),a.wa.a(a.ja,"key",a.np),a.wa.a(a.O,"mousedown",a.op),H&&a.wa.a(a.O,"keypress",a.lp))}e.Hc=function(){Hq?this.wj=window.setTimeout(A(this.xp,this),0):this.xp()};
e.xp=function(){this.O&&(this.wa.K(this.ja,"key",this.np),this.ja.detach(),this.wa.K(this.O,"keyup",this.ts),this.wa.K(this.O,"mousedown",this.op),H&&this.wa.K(this.O,"keypress",this.lp),this.Ad&&Mq(this),this.O=null,this.A&&(this.A.stop(),this.wa.K(this.A,qd,this.zi)),this.ca&&qq(this.ca))};e.zi=function(){this.update()};e.Xt=function(a){this.Rd(a)};e.np=function(a){this.Po=a.keyCode;this.ca&&this.lb(a)};e.sl=function(){this.Ad&&229!=this.Po&&Mq(this)};
e.mp=function(a){this.Ad&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&Mq(this)};e.op=function(a){this.ca&&this.nc(a)};e.nc=function(){};function Mq(a){a.Ad&&(a.Ad=!1,a.wa.K(a.O,"keypress",a.sl),a.wa.K(a.O,"keyup",a.mp))}e.lp=function(a){Lq(this,a)};e.update=function(a){if(this.O&&(a||this.o()!=this.dl)){if(a||!this.Kl)a=this.yl(),this.ca&&(this.ca.aa=this.O,this.ca.Jg(a,this.o()));this.dl=this.o()}this.Kl=!1};
e.yl=function(){var a=Eq(this.O),b=this.o(),a=Kq(this,b)[Jq(this,b,a)];return this.nq?String(a).replace(this.nq,""):a};e.ol=function(){return this.uq?rq(this.ca):sq(this.ca)};e.nl=function(){return this.uq?sq(this.ca):rq(this.ca)};function Jq(a,b,c){a=Kq(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b}
function Kq(a,b){if(!a.jf)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)a.To&&-1!=a.To.indexOf(c[g])?(a.Ir&&!h&&(d.push(f.join("")),f.length=0),f.push(c[g]),h=!h):h||-1==a.Fg.indexOf(c[g])?f.push(c[g]):(f.push(c[g]),d.push(f.join("")),f.length=0);d.push(f.join(""));return d};function Nq(){return'\x3cdiv class\x3d"search-field"\x3e\x3cdiv class\x3d"search-box"\x3e\x3cdiv class\x3d"search-input"\x3e\x3c/div\x3e\x3cbutton class\x3d"search-btn icon-search" aria-label\x3d"Search"\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"search-helper hidden"\x3e\x3cdiv class\x3d"suggests-wrapper"\x3e\x3c/div\x3e\x3cdiv class\x3d"preview-holder"\x3e\x3ch4\x3ePreview\x3c/h4\x3e\x3cbutton class\x3d"btn save-search"\x3eAdd Column\x3c/button\x3e\x3cul class\x3d"previews"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"click-catcher"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'}
;function Oq(){U.call(this);this.rc=new tg;this.rc.qf("Search...");this.Cl=null;this.ga=this.hm=!1}C(Oq,U);s(Oq);e=Oq.prototype;e.g=function(){var a=$e(Nq);this.m(a);this.rc.J(this.j("search-input"));this.Cl=this.j("previews")};e.S=function(){return this.Cl};
e.d=function(){Oq.c.d.call(this);this.i().a(this.rc,"submit",this.Ws).a(this.rc,"focus",this.Sd).a(this.rc,"change",this.$s).a(this.Cl,"click",this.Hs).a(this.j("save-search"),"click",this.Ll).a(this.j("search-btn"),"click",this.Ll);var a=new tq(this.j("suggests-wrapper")),b=new Gq(" "," ",!0,300),a=new iq(this,a,b);this.i().a(a,"update",this.Xs);b.ca=a;b.fh(this.rc.b())};e.Sd=function(){!this.ga&&this.rc.o()&&Pq(this,!0)};
e.Bp=function(a,b,c,d){3<a.length?Qq.h().autocomplete(d||"",a,function(b){c.call(void 0,a,b)}):c.call(void 0,a,[])};e.Xs=function(){this.hm=!0};e.Ws=function(){window.setTimeout(A(function(){this.hm?this.hm=!1:this.Ll()},this),50)};e.$s=function(){var a=this.rc.o();3<a.length&&On(a,void 0,this.Ys,this);Pq(this,0<a.length)};e.Ll=function(){var a=this.rc.o();if(3<a.length){var b=On(a);Ln(b,a);Pq(this,!1);this.rc.reset()}};
e.Ys=function(a){this.zg(!0);a.forEach(function(a){a=new hp(a);this.P(a,!0)},this)};function Pq(a,b){L(a.j("search-helper"),"hidden",!b);L(a.b(),"visible",b);b?a.i().a(document.body,"click",a.io):a.i().K(document.body,"click",a.io);a.ga=b}e.Hs=function(){Pq(this,!1)};e.io=function(a){nc(this.b(),a.target)||Pq(this,!1)};e.toggle=function(){eo(this.b(),"visible")};function Mn(){ke.call(this);this.Ku=[];this.dc=new bq;this.wg=null}C(Mn,ke);s(Mn);Mn.prototype.ia=function(){Db(document.getElementById("page"),"hidden");this.wg=Xb("main-panel");var a=this.dc;a.J(this.wg);this.Ku.push(a)};Mn.prototype.Nj=function(){this.dc.Nj()};function Rq(a,b){U.call(this);this.Qb=a;this.Be=b||"";this.dm=null;this.ga=!1}C(Rq,U);e=Rq.prototype;e.g=function(){var a=this.t();this.dm=a.g("ul");a=a.g("div","action-item",[a.g("div",{"class":"toggle-icon "+this.Be,title:this.Qb}),this.dm]);this.m(a)};e.S=function(){return this.dm};e.d=function(){Rq.c.d.call(this);this.i().a(this.b(),"click",this.Wa)};function Sq(a,b){a.P(b,!0)}
e.Wa=function(a){a=a.target;nn(this)?(this.ga=!this.ga&&Fn(a,"toggle-icon"),L(this.b(),"visible",this.ga),this.ga?this.i().bf(document.body,"click",this.jo,!0):this.i().K(document.body,"click",this.jo,!0)):this.dispatchEvent("action")};e.jo=function(){Db(this.b(),"visible")};function Tq(){ke.call(this);var a=this.Ud=new Rq("Undo","icon-undo");Uq.h().P(a,!0)}C(Tq,ke);s(Tq);Tq.prototype.ia=function(){var a=Lj.h();this.i().a(a,"destroy",this.Zr);Vq(this)};Tq.prototype.Zr=function(a){a=a.target;var b=a.kd().substr(0,15),b=new Wq(b,"icon-undo1");b.Ya=a;Sq(this.Ud,b);this.i().a(b,"action",this.et);10<Ve(this.Ud)&&(a=this.Ud,a.removeChild(We(a,0),void 0));Vq(this)};function Vq(a){var b=Ve(a.Ud);L(a.Ud.b(),"hidden",!b)}
Tq.prototype.et=function(a){a=a.target;a.Ya.save();this.Ud.removeChild(a,!0);a.k();Vq(this)};function Xq(){this.Gu=[];this.En="fx"}s(Xq);function Yq(){var a=Xq.h(),b=Vb(a.En,void 0);F(b,function(a){var b=Df(a);null!==b&&(b.Q(a),this.Gu.push(b));Db(a,this.En)},a)};function Zq(a){R.call(this);this.e=a;a=H?"focusout":"blur";this.At=Q(this.e,H?"focusin":"focus",this,!H);this.Bt=Q(this.e,a,this,!H)}C(Zq,R);Zq.prototype.handleEvent=function(a){var b=new Mc(a.R);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};Zq.prototype.f=function(){Zq.c.f.call(this);hd(this.At);hd(this.Bt);delete this.e};function $q(a,b,c){U.call(this,c);this.lc=b||ar;this.Kk=a instanceof Yi?a:cj(a,null)}C($q,U);var br={};e=$q.prototype;e.Ql=!1;e.Yf=!1;e.Fu=null;e.Pq=fj;e.li=!0;e.uh=-1;e.f=function(){$q.c.f.call(this);this.te&&(this.te.removeNode(this),this.te=null);this.e=null};
e.gi=function(){var a=this.b();if(a){var b=cr(this);b&&!b.id&&(b.id=this.U()+".label");$f(a,"treeitem");W(a,"selected",!1);W(a,"expanded",!1);W(a,"level",this.Ne());b&&W(a,"labelledby",b.id);(a=this.Nh())&&$f(a,"presentation");(a=this.ok())&&$f(a,"presentation");if(a=dr(this))if($f(a,"group"),a.hasChildNodes())for(a=Ve(this),b=1;b<=a;b++){var c=We(this,b-1).b();W(c,"setsize",a);W(c,"posinset",b)}}};e.g=function(){var a=this.t(),b=vn(er(this));this.e=gc(a.M,b)};
e.d=function(){$q.c.d.call(this);br[this.U()]=this;this.gi()};e.qa=function(){$q.c.qa.call(this);delete br[this.U()]};e.Ub=function(a,b){var c=We(this,b-1),d=We(this,b);$q.c.Ub.call(this,a,b);a.je=c;a.ec=d;c?c.ec=a:this.Yn=a;d?d.je=a:this.No=a;var f=this.Ra();f&&fr(a,f);gr(a,this.Ne()+1);if(this.b()&&(this.yf(),this.ub())){f=dr(this);a.b()||a.g();var g=a.b(),h=d&&d.b();f.insertBefore(g,h);this.w&&a.d();d||(c?c.yf():(T(f,!0),this.wd(this.ub())))}};
e.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.Ub(a,b?Xe(this,b):Ve(this));return a};
e.removeChild=function(a){var b=this.Ra(),c=b?b.vb():null;if(c==a||a.contains(c))b.hasFocus()?(this.select(),rd(this.$t,10,this)):this.select();$q.c.removeChild.call(this,a);this.No==a&&(this.No=a.je);this.Yn==a&&(this.Yn=a.ec);a.je&&(a.je.ec=a.ec);a.ec&&(a.ec.je=a.je);c=!a.ec;a.te=null;a.uh=-1;if(b&&(b.removeNode(this),this.w)){b=dr(this);if(a.w){var d=a.b();b.removeChild(d);a.qa()}c&&(c=We(this,Ve(this)-1))&&c.yf();nn(this)||(b.style.display="none",this.yf(),this.Nh().className=this.Kh())}return a};
e.remove=$q.prototype.removeChild;e.$t=function(){this.select()};e.Ne=function(){var a=this.uh;0>a&&(a=(a=this.getParent())?a.Ne()+1:0,gr(this,a));return a};function gr(a,b){if(b!=a.uh){a.uh=b;var c=hr(a);if(c){var d=ir(a)+"px";a.Yd()?c.style.paddingRight=d:c.style.paddingLeft=d}V(a,function(a){gr(a,b+1)})}}e.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};e.lk=function(){var a=[];V(this,function(b){a.push(b)});return a};e.ii=function(){return this.Ql};
e.select=function(){var a=this.Ra();a&&a.uc(this)};function jr(a,b){if(a.Ql!=b){a.Ql=b;kr(a);var c=a.b();c&&(W(c,"selected",b),b&&(c=a.Ra().b(),W(c,"activedescendant",a.U())))}}e.ub=function(){return this.Yf};
e.wd=function(a){var b=a!=this.Yf;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){var c;this.Yf=a;c=this.Ra();var d=this.b();if(nn(this)){if(!a&&c&&this.contains(c.vb())&&this.select(),d){if(c=dr(this))if(T(c,a),a&&this.w&&!c.hasChildNodes()){var f=[];V(this,function(a){f.push(er(a))});Rn(c,An(f));V(this,function(a){a.d()})}this.yf()}}else(c=dr(this))&&T(c,!1);d&&(this.Nh().className=this.Kh(),W(d,"expanded",a));b&&this.dispatchEvent(a?"expand":"collapse")}};e.toggle=function(){this.wd(!this.ub())};
e.collapse=function(){this.wd(!1)};e.Il=function(){var a=this.getParent();a&&(a.wd(!0),a.Il())};function er(a){var b=a.Ra(),c=!b.Xp||b==a.getParent()&&!b.Zp?a.lc.fr:a.lc.er,b=a.ub()&&nn(a),c={"class":c,style:"background-position:"+lr(a)+";"+(b?"":"display:none;")},d=[];b&&V(a,function(a){d.push(er(a))});b=Sn("div",c,d);return Sn("div",{"class":a.lc.or,id:a.U()},[mr(a),b])}function ir(a){return Math.max(0,(a.Ne()-1)*a.lc.Do)}
function mr(a){var b="padding-"+(a.Yd()?"right:":"left:"),b={"class":a.Oe(),style:b+ir(a)+"px"},c=a.$n(),d=Sn("span",{style:"display:inline-block","class":a.Kh()}),f=Sn("span",{"class":a.lc.pr,title:a.Fu||null},a.Kk);a=An(f,Sn("span",{},a.Pq));return Sn("div",b,[c,d,a])}e.Oe=function(){return this.lc.zn+(this.ii()?" "+this.lc.yn:"")};e.$n=function(){return Sn("span",{type:"expand",style:"display:inline-block","class":nr(this)})};
function nr(a){var b=a.Ra(),c=!b.Xp||b==a.getParent()&&!b.Zp,d=a.lc,f=new Wn;f.append(d.Ce," ",d.gr," ");if(nn(a)){var g=0;b.su&&a.li&&(g=a.ub()?2:1);c||(g=a.ec?g+8:g+4);switch(g){case 1:f.append(d.kr);break;case 2:f.append(d.jr);break;case 4:f.append(d.tn);break;case 5:f.append(d.ir);break;case 6:f.append(d.hr);break;case 8:f.append(d.un);break;case 9:f.append(d.mr);break;case 10:f.append(d.lr);break;default:f.append(d.sn)}}else c?f.append(d.sn):a.ec?f.append(d.un):f.append(d.tn);return f.toString()}
function lr(a){return(a.ec?(a.Ne()-1)*a.lc.Do:"-100")+"px 0"}e.b=function(){var a=$q.c.b.call(this);a||(this.e=a=this.t().b(this.U()));return a};function hr(a){return(a=a.b())?a.firstChild:null}e.ok=function(){var a=hr(this);return a?a.firstChild:null};e.Nh=function(){var a=hr(this);return a?a.childNodes[1]:null};function cr(a){return(a=hr(a))&&a.lastChild?a.lastChild.previousSibling:null}function dr(a){return(a=a.b())?a.lastChild:null}
e.Wi=function(a){this.Kk=a=$i(a);var b=cr(this);b&&Rn(b,a);(a=this.Ra())&&or(a.wf,this)};e.kd=function(){var a=vn(this.Kk);return-1!=a.indexOf("\x26")?"document"in q?Hn(a):Gn(a):a};function kr(a){var b=hr(a);b&&(b.className=a.Oe())}e.yf=function(){var a=this.ok();a&&(a.className=nr(this));if(a=dr(this))a.style.backgroundPosition=lr(this)};e.hp=Yn;e.sl=function(a){!a.altKey&&37<=a.keyCode&&40>=a.keyCode&&a.preventDefault()};function pr(a){return a.ub()&&nn(a)?pr(We(a,Ve(a)-1)):a}e.Od=function(){return this.lc};
function fr(a,b){a.te!=b&&(a.te=b,or(b.wf,a),V(a,function(a){fr(a,b)}))};function qr(a,b,c){$q.call(this,a,b,c)}C(qr,$q);qr.prototype.Ra=function(){if(this.te)return this.te;var a=this.getParent();return a&&(a=a.Ra())?(fr(this,a),a):null};qr.prototype.Kh=function(){var a=this.ub(),b=this.Dr;if(a&&b)return b;b=this.tt;if(!a&&b)return b;b=this.Od();if(nn(this)){if(a&&b.vn)return b.Ce+" "+b.vn;if(!a&&b.qn)return b.Ce+" "+b.qn}else if(b.xn)return b.Ce+" "+b.xn;return""};function rr(a){this.ba=void 0;this.Ga={};if(a){var b=wd(a);a=vd(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}e=rr.prototype;e.set=function(a,b){sr(this,a,b,!1)};e.add=function(a,b){sr(this,a,b,!0)};function sr(a,b,c,d){for(var f=0;f<b.length;f++){var g=b.charAt(f);a.Ga[g]||(a.Ga[g]=new rr);a=a.Ga[g]}if(d&&void 0!==a.ba)throw Error('The collection already contains the key "'+b+'"');a.ba=c}
e.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.Ga[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.ba:void 0};e.Ka=function(){var a=[];tr(this,a);return a};function tr(a,b){void 0!==a.ba&&b.push(a.ba);for(var c in a.Ga)tr(a.Ga[c],b)}e.bb=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var f=a.charAt(d);if(!c.Ga[f])return[];c=c.Ga[f]}ur(c,a,b)}else ur(this,"",b);return b};function ur(a,b,c){void 0!==a.ba&&c.push(b);for(var d in a.Ga)ur(a.Ga[d],b+d,c)}
e.cd=function(a){return void 0!==this.get(a)};e.Ae=function(a){if(this.ba===a)return!0;for(var b in this.Ga)if(this.Ga[b].Ae(a))return!0;return!1};e.clear=function(){this.Ga={};this.ba=void 0};e.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var f=a.charAt(d);if(!b.Ga[f])throw Error('The collection does not have the key "'+a+'"');c.push([b,f]);b=b.Ga[f]}a=b.ba;for(delete b.ba;0<c.length;)if(f=c.pop(),b=f[0],f=f[1],b.Ga[f].cb())delete b.Ga[f];else break;return a};e.L=function(){return new rr(this)};
e.T=function(){return ud(this.Ka())};e.cb=function(){return void 0===this.ba&&co(this.Ga)};function vr(){this.de=new rr}e=vr.prototype;e.Aa="";e.hl=null;e.ti=null;e.pg=0;e.ef=0;function or(a,b){var c=b.kd();if(c&&!fo(c)){var c=c.toLowerCase(),d=a.de.get(c);d?d.push(b):a.de.set(c,[b])}}function wr(a,b){var c=!1,d=a.de.bb(b);d&&d.length&&(a.ef=0,a.pg=0,c=a.de.get(d[0]),c=xr(a,c))&&(a.hl=d);return c}function xr(a,b){var c;b&&(a.ef<b.length&&(c=b[a.ef],a.ti=b),c&&(c.Il(),c.select()));return!!c}e.clear=function(){this.Aa=""};function yr(a,b,c){$q.call(this,a,b,c);this.Yf=!0;jr(this,!0);this.ya=this;this.wf=new vr;if(H)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){}}C(yr,$q);e=yr.prototype;e.ja=null;e.ik=null;e.kk=!1;e.Hr=null;e.Xp=!0;e.su=!0;e.qe=!0;e.Zp=!0;e.Ra=function(){return this};e.Ne=function(){return 0};e.Il=function(){};e.Sd=function(){this.kk=!0;yf(this.b(),"focused");this.ya&&this.ya.select()};e.uk=function(){this.kk=!1;Af(this.b(),"focused")};e.hasFocus=function(){return this.kk};
e.ub=function(){return!this.qe||yr.c.ub.call(this)};e.wd=function(a){this.qe?yr.c.wd.call(this,a):this.Yf=a};e.$n=function(){return fj};e.Nh=function(){var a=hr(this);return a?a.firstChild:null};e.ok=function(){return null};e.yf=function(){};e.Oe=function(){return yr.c.Oe.call(this)+(this.qe?"":" "+this.Od().nr)};e.Kh=function(){var a=this.ub(),b=this.Dr;if(a&&b)return b;b=this.tt;if(!a&&b)return b;b=this.Od();return a&&b.wn?b.Ce+" "+b.wn:!a&&b.rn?b.Ce+" "+b.rn:""};
e.uc=function(a){if(this.ya!=a){var b=!1;this.ya&&(b=this.ya==this.Hr,jr(this.ya,!1));if(this.ya=a)jr(a,!0),b&&a.select();this.dispatchEvent("change")}};e.vb=function(){return this.ya};e.gi=function(){yr.c.gi.call(this);var a=this.b();$f(a,"tree");W(a,"labelledby",cr(this).id)};
e.d=function(){yr.c.d.call(this);var a=this.b();a.className=this.Od().qr;a.setAttribute("hideFocus","true");a=this.b();a.tabIndex=0;var b=this.ja=new Tf(a),c=this.ik=new Zq(a);this.i().a(c,"focusout",this.uk).a(c,"focusin",this.Sd).a(b,"key",this.lb).a(a,"mousedown",this.Bk).a(a,"click",this.Bk).a(a,"dblclick",this.Bk);this.gi()};e.qa=function(){yr.c.qa.call(this);this.ja.k();this.ja=null;this.ik.k();this.ik=null};
e.Bk=function(a){var b;a:{b=null;for(var c=a.target;null!=c;){if(b=br[c.id])break a;if(c==this.b())break;c=c.parentNode}b=null}if(b)switch(a.type){case "mousedown":"expand"==a.target.getAttribute("type")&&nn(b)?b.li&&b.toggle():(b.select(),kr(b));break;case "click":b.hp(a);break;case "dblclick":"expand"==a.target.getAttribute("type")&&nn(b)||b.li&&b.toggle()}};
e.lb=function(a){var b=!1,b=this.wf,c=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){var c=40==a.keyCode?1:-1,d=b.hl;if(d){var f=null,g=!1;if(b.ti){var h=b.ef+c;0<=h&&h<b.ti.length?(b.ef=h,f=b.ti):g=!0}f||(h=b.pg+c,0<=h&&h<d.length&&(b.pg=h),d.length>b.pg&&(f=b.de.get(d[b.pg])),f&&f.length&&g&&(b.ef=-1==c?f.length-1:0));xr(b,f)&&(b.hl=d)}c=!0}break;case 8:d=b.Aa.length-1;c=!0;0<d?(b.Aa=b.Aa.substring(0,d),wr(b,b.Aa)):0==d?b.Aa="":c=!1;break;case 27:b.Aa="",c=!0}if(!(b=c)){if(b=this.ya){b=this.ya;
c=!0;switch(a.keyCode){case 39:if(a.altKey)break;nn(b)&&(b.ub()?We(b,0).select():b.wd(!0));break;case 37:if(a.altKey)break;nn(b)&&b.ub()&&b.li?b.wd(!1):(d=b.getParent(),f=b.Ra(),d&&(f.qe||d!=f)&&d.select());break;case 40:a:if(nn(b)&&b.ub())d=We(b,0);else{for(d=b;d!=b.Ra();){f=d.ec;if(null!=f){d=f;break a}d=d.getParent()}d=null}d&&d.select();break;case 38:d=b.je;null!=d?d=pr(d):(d=b.getParent(),f=b.Ra(),d=f.qe||d!=f?d:null);d&&d.select();break;default:c=!1}c&&(a.preventDefault(),(f=b.Ra())&&f.wf.clear());
b=c}b||(b=this.wf,c=!1,a.ctrlKey||a.altKey||(d=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==d.length&&" "<=d&&"~">=d||""<=d&&"">=d)&&(" "!=d||b.Aa)&&(b.Aa+=d,c=wr(b,b.Aa))),b=c)}b&&a.preventDefault();return b};e.removeNode=function(a){var b=this.wf,c=a.kd();if(c&&!fo(c)){var c=c.toLowerCase(),d=b.de.get(c);d&&(Xa(d,a),d.length&&b.de.remove(c))}};
var ar={Do:19,qr:"goog-tree-root goog-tree-item",nr:"goog-tree-hide-root",or:"goog-tree-item",er:"goog-tree-children",fr:"goog-tree-children-nolines",zn:"goog-tree-row",pr:"goog-tree-item-label",Ce:"goog-tree-icon",gr:"goog-tree-expand-icon",kr:"goog-tree-expand-icon-plus",jr:"goog-tree-expand-icon-minus",mr:"goog-tree-expand-icon-tplus",lr:"goog-tree-expand-icon-tminus",ir:"goog-tree-expand-icon-lplus",hr:"goog-tree-expand-icon-lminus",un:"goog-tree-expand-icon-t",tn:"goog-tree-expand-icon-l",sn:"goog-tree-expand-icon-blank",
vn:"goog-tree-expanded-folder-icon",qn:"goog-tree-collapsed-folder-icon",xn:"goog-tree-file-icon",wn:"goog-tree-expanded-folder-icon",rn:"goog-tree-collapsed-folder-icon",yn:"selected"};function zr(){R.call(this);this.Xa=[];this.km=[];this.Eg=[]}C(zr,R);e=zr.prototype;e.ji=!1;e.ki=!1;e.Rk=!1;e.Rp=function(a){this.Qi=a};e.Sa=function(){if(!this.Rk){for(var a,b=0;a=this.Xa[b];b++)Ar(this,a);this.Rk=!0}};function Ar(a,b){a.ji&&(Q(b.element,"mousedown",b.ap,!1,b),a.aj&&yf(b.element,a.aj));a.ki&&a.cj&&yf(b.element,a.cj)}function Br(a,b){a.ji&&(gd(b.element,"mousedown",b.ap,!1,b),a.aj&&Af(b.element,a.aj));a.ki&&a.cj&&Af(b.element,a.cj);b.k()}
e.rf=function(a,b){if(!this.Hb)if(this.Hb=b,!1==this.dispatchEvent(new Cr("dragstart",0,this.Hb)))this.Hb=null;else{var c=b.Mf,d=this.Qj(c);this.bk&&yf(d,this.bk);this.Je=d;d=N(c);d.body.appendChild(this.Je);var f=this.Je,g=xe(c),c=Ke(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.Ha=new Do(f);this.Ha.Rp(this.Qi);Q(this.Ha,"drag",this.cp,!1,this);Q(this.Ha,"end",this.Ld,!1,this);Q(d.body,"selectstart",this.iq);this.uf=[];
for(d=0;c=this.km[d];d++)for(var h,f=0;h=c.Xa[f];f++)for(var g=c,k=[h.element],l=this.uf,n=0;n<k.length;n++){var t=k[n],v,ea=t;v=xe(ea);ea=De(ea);v=new me(v.y,v.x+ea.width,v.y+ea.height,v.x);l.push(new Dr(v,g,h,t));Er(this,v)}this.Tc||(this.Tc=new me(0,0,0,0));for(d=0;c=this.Eg[d];d++)c.Pj=[],c.Hp=c.e.scrollLeft,c.Ip=c.e.scrollTop,f=xe(c.e),g=De(c.e),c.za=new me(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.uf[d];d++)for(f=0;c=this.Eg[f];f++)nc(c.e,g.e)&&(c.Pj.push(g),g.Dg=c);this.Cd=null;for(d=
0;c=this.Eg[d];d++)Q(c.e,"scroll",this.ln,!1,this);this.Ha.rf(a);a.preventDefault()}};
e.Ld=function(a){var b=a.xr?null:this.Cd;if(b&&b.aa){var c=a.clientX;a=a.clientY;var d=yc(Sb(this.Je)),f=c+d.x,d=a+d.y,g;this.Qg&&(g=this.Qg(b.Mc,b.za,f,d));this.dispatchEvent(new Cr("drag",0,this.Hb,0,b.Mc,0,c,a));b.aa.dispatchEvent(new Cr("drop",0,this.Hb,0,b.Mc,0,c,a,0,0,g))}this.dispatchEvent(new Cr("dragend",0,this.Hb));gd(this.Ha,"drag",this.cp,!1,this);gd(this.Ha,"end",this.Ld,!1,this);gd(N(this.Hb.Mf).body,"selectstart",this.iq);for(b=0;c=this.Eg[b];b++)gd(c.e,"scroll",this.ln,!1,this),c.Pj=
[];this.Ha.k();ic(this.Je);delete this.Hb;delete this.Je;delete this.Ha;delete this.uf;delete this.Cd};
e.cp=function(a){var b,c=yc(Sb(this.Je));b=new M(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.Cd,g;if(f){this.Qg&&f.aa&&(g=this.Qg(f.Mc,f.za,c,d));if(f.za.contains(b)&&g==this.Pm)return;f.aa&&(this.dispatchEvent(new Cr("dragout",0,this.Hb,0,f.Mc)),f.aa.dispatchEvent(new Cr("dragout",0,this.Hb,0,f.Mc,0,void 0,void 0,0,0,this.Pm)));this.Pm=g;this.Cd=null}if(this.Tc.contains(b)){a:{for(var h=0;f=this.uf[h];h++)if(f.za.contains(b))if(f.Dg){if(f.Dg.za.contains(b)){b=f;break a}}else{b=f;break a}b=
null}if((f=this.Cd=b)&&f.aa)this.Qg&&(g=this.Qg(f.Mc,f.za,c,d)),c=new Cr("dragover",0,this.Hb,0,f.Mc),c.yu=g,this.dispatchEvent(c),f.aa.dispatchEvent(new Cr("dragover",0,this.Hb,0,f.Mc,0,a.clientX,a.clientY,0,0,g));else if(!f){this.rb||(this.rb=new Dr(this.Tc.L()));a=this.rb.za;a.top=this.Tc.top;a.right=this.Tc.right;a.bottom=this.Tc.bottom;a.left=this.Tc.left;for(g=0;f=this.uf[g];g++)b=f.za,f.Dg&&(f=f.Dg.za,b=new me(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,f.bottom),Math.max(b.left,
f.left))),f=null,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=null,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),null===f||null===h||(Math.abs(f-c)>Math.abs(h-d)?h=null:f=null),null!==f?f<=c?a.left=f:a.right=f:null!==h&&(h<=d?a.top=h:a.bottom=h);this.Cd=10<=(a.right-a.left)*(a.bottom-a.top)?this.rb:null}}};e.iq=function(){return!1};
e.ln=function(a){for(var b=0,c;c=this.Eg[b];b++)if(a.target==c.e){var d=c.Ip-c.e.scrollTop,f=c.Hp-c.e.scrollLeft;c.Ip=c.e.scrollTop;c.Hp=c.e.scrollLeft;this.rb&&this.Cd==this.rb&&(0<d?this.rb.za.top+=d:this.rb.za.bottom+=d,0<f?this.rb.za.left+=f:this.rb.za.right+=f);for(var g=0,h;h=c.Pj[g];g++)h=h.za,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,Er(this,h)}this.Ha.rp(a)};e.Oj=function(a){return Fo(a)};e.Qj=function(a){return this.Oj(a)};
function Er(a,b){if(1==a.uf.length)a.Tc=new me(b.top,b.right,b.bottom,b.left);else{var c=a.Tc;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}e.f=function(){zr.c.f.call(this);for(var a,b=0;a=this.Xa[b];b++)Br(this,a);this.Xa.length=0};function Cr(a,b,c,d,f,g,h,k,l,n,t){P.call(this,a);this.dk=c;this.vh=f;this.clientX=h;this.clientY=k;this.yu=t}C(Cr,P);Cr.prototype.f=function(){};
function Fr(a,b){R.call(this);this.element=Ub(document,a);this.data=b;this.I=null;this.n=new S(this);Ec(this,this.n);if(!this.element)throw Error("Invalid argument");}C(Fr,R);e=Fr.prototype;e.Mf=null;e.getData=function(){return this.data};e.ap=function(a){if(Oc(a)){var b=a.target;b&&(this.n.a(b,"mousemove",this.bp,!1).a(b,"mouseout",this.bp,!1),this.n.a(N(b),"mouseup",this.Lt,!0),this.Mf=b,this.am=new M(a.clientX,a.clientY),a.preventDefault())}};e.Hg=function(a){this.I=a};
e.bp=function(a){var b=this.Mf,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.am.x)+Math.abs(a.clientY-this.am.y)||b)this.n.Bb(),this.I.rf(a,this)};e.Lt=function(){this.n.Bb();delete this.am;this.Mf=null};function Dr(a,b,c,d){this.za=a;this.aa=b;this.Mc=c;this.e=d}Dr.prototype.Dg=null;function Gr(){zr.call(this)}C(Gr,zr);Gr.prototype.nb=function(a,b){var c=new Fr(a,b);c.Hg(this);this.Xa.push(c);this.Rk&&Ar(this,c)};Gr.prototype.removeItem=function(a){a=Ub(document,a);for(var b,c=0;b=this.Xa[c];c++)if(b.element==a){this.Xa.splice(c,1);Br(this,b);break}};function Hr(a,b){$q.call(this,'\x3cspan class\x3d"drag-item"\x3e'+a+'\x3c/span\x3e\x3cdiv class\x3d"edit-btns"\x3e\x3cspan class\x3d"rename"\x3e\x3c/span\x3e\x3cspan class\x3d"delete"\x3e\x3c/span\x3e\x3c/div\x3e',void 0,void 0);this.Rf=b}C(Hr,qr);Hr.prototype.d=function(){Hr.c.d.call(this);this.Rf.nb(this)};Hr.prototype.Pe=function(){return this.Ya.type};
Hr.prototype.hp=function(a){var b=this.Ya;a=a.target;if(Fn(a,"rename")){if(a=prompt("Neuer Name: ",b.title))b.title=a,this.dispatchEvent("change"),this.j("drag-item").innerHTML=a}else Fn(a,"delete")?(this.getParent().removeChild(this),this.dispatchEvent("change")):Fn(a,"goog-tree-expand-icon")||Ir(this)};function Ir(a){if(a.Pe()==Jr){var b=a.Ya,c=b.query.replace("#","%23"),c=Pj(c);Ln(c,b.title)}a.Pe()==Kr&&(Mn.h().Nj(),V(a,function(a){Ir(a)}))}
Hr.prototype.Oe=function(){var a=this.Od(),b=" ";this.ii()&&(b+=a.yn);b=this.Pe()==Kr?b+" search-folder":b+" search-link";return a.zn+b};var Kr="folder",Jr="request";function Lr(){R.call(this);this.r=new S(this);Ec(this,this.r);var a=this.qb=new Gr,b=this.qb;a.km.push(b);b.ki=!0;a.ji=!0;a=this.Ac=new Gr;b=this.qb;a.km.push(b);b.ki=!0;a.ji=!0;this.Sa()}C(Lr,R);e=Lr.prototype;
e.Sa=function(){this.qb.bk="search-item-drag";this.qb.aj="source";this.qb.cj="target";this.qb.Sa();this.Ac.bk="search-item-drag";this.Ac.Sa();this.r.a(this.qb,"dragover",this.lo);this.r.a(this.qb,"dragout",this.ko);this.r.a(this.qb,"drop",this.mo);this.r.a(this.qb,"dragstart",this.Th);this.r.a(this.qb,"dragend",this.Sh);this.r.a(this.Ac,"dragover",this.lo);this.r.a(this.Ac,"dragout",this.ko);this.r.a(this.Ac,"drop",this.mo);this.r.a(this.Ac,"dragstart",this.Th);this.r.a(this.Ac,"dragend",this.Sh)};
e.nb=function(a){var b=a.j("drag-item");a.Pe()==Kr?this.qb.nb(b,a):this.Ac.nb(b,a)};e.lo=function(a){Cb(a.vh.element,"drag-over")};e.ko=function(a){Db(a.vh.element,"drag-over")};e.mo=function(a){var b=a.dk.data,c=a.vh.data;Db(a.vh.element,"drag-over");b!==c&&(b.getParent().remove(b),c.add(b),this.dispatchEvent("drop"))};e.Th=function(a){Cb(a.dk.element,"dragged")};e.Sh=function(a){Db(a.dk.element,"dragged")};function Mr(){return'\x3cdiv\x3e\x3cdiv class\x3d"btn add-folder-btn tooltip" data-tooltip\x3d"Add Folder"\x3e+\x3c/div\x3e\x3cdiv class\x3d"btn newest-entries-btn"\x3eLatest entries\x3c/div\x3e\x3c/div\x3e'};function Nr(){U.call(this);this.ue=new yr("root");Ec(this,this.ue);this.Rf=new Lr;Ec(this,this.Rf)}C(Nr,U);e=Nr.prototype;e.g=function(){var a=$e(Mr);this.m(a)};
e.d=function(){Nr.c.d.call(this);var a=this.j("add-folder-btn"),b=this.j("newest-entries-btn");this.i().a(a,"click",this.Nq).a(b,"click",this.Oq);a=qf.h().Wc.searchtree||[];for(b=0;b<a.length;b++)Kn(this,this.ue.Ra(),a[b]);a=this.ue;!1!=a.qe&&(a.qe=!1,a.w&&(b=hr(a))&&(b.className=a.Oe()),a.vb()==a&&We(a,0)&&a.uc(We(a,0)));this.ue.J(this.b());this.i().a(this.Rf,"drop",this.Re)};e.Oq=function(){var a=Pn();Ln(a,"Latest Entries")};
function Kn(a,b,c){var d=new Hr(c.title,a.Rf);d.Ya=c;b.add(d);a.i().a(d,"change",a.Re);if(c.children)for(b=0;b<c.children.length;b++)Kn(a,d,c.children[b])}e.Nq=function(a){a={title:y(a)?a:"new folder",type:"folder"};Kn(this,this.ue.Ra(),a);this.Re()};e.Re=function(){var a=this.sc(),b=qf.h();b.Wc.searchtree=a;$g(b,void 0,void 0)};e.sc=function(){for(var a=[],b=this.ue.lk(),c=0;c<b.length;c++)a.push(Or(this,b[c]));return a};
function Or(a,b){for(var c=b.Ya,d=b.lk(),f=[],g=0;g<d.length;g++)f.push(Or(a,d[g]));return{title:c.title,type:c.type,query:c.query,children:f}};function Jn(){U.call(this);this.ga=!1;this.Pl=null}C(Jn,U);s(Jn);Jn.prototype.d=function(){Jn.c.d.call(this);this.Pl=new Nr;this.Pl.J(document.getElementById("searchtree"))};Jn.prototype.toggle=function(){this.ga=!this.ga;var a=jf.h();a.N(this.ga);this.ga?this.i().bf(a,"close",this.toggle):this.i().K(a,"close",this.toggle);L(this.b(),"visible",this.ga)};Bf("page-sidebar",function(){return Jn.h()});function Wq(a,b,c){U.call(this);this.Qb=a;this.Be=b||"";z(c)&&this.i().a(this,"action",c)}C(Wq,U);Wq.prototype.g=function(){var a=this.t().g("li",this.Be,this.Qb);this.m(a)};Wq.prototype.d=function(){Wq.c.d.call(this);this.i().a(this.b(),"click",this.Wa)};Wq.prototype.Wa=function(){this.dispatchEvent("action")};function Pr(){return'\x3cdiv class\x3d"settings"\x3e\x3ch2\x3eSettings\x3c/h2\x3e\x3cdiv class\x3d"form-wrapper"\x3e\x3c/div\x3e\x3cbutton class\x3d"btn enabled primary btn-save"\x3eSave\x3c/button\x3e\x3cbutton class\x3d"btn enabled btn-cancel right"\x3eCancel\x3c/button\x3e\x3c/div\x3e'};function Qr(){U.call(this);this.l=new Kf}C(Qr,U);Qr.prototype.g=function(){var a=cf(Pr);this.m(a);this.P(this.l);this.l.J(this.j("form-wrapper"))};Qr.prototype.d=function(){Qr.c.d.call(this);var a=jf.h();a.N(!0,kf);this.i().a(a,"close",this.close);var a=this.j("btn-save"),b=this.j("btn-cancel");this.i().a(a,"click",this.Ss).a(b,"click",this.close);a=Lf(this.l,"Language","select",{H:"language",options:[{text:"Deutsch",pc:"de"},{text:"English",pc:"en"}]});b=sn(qf.h());a.va.G(b)};
Qr.prototype.Ss=function(){var a=this.l.getData(),b=qf.h(),a=a.language;sn(b)!=a&&(b.Wc.locale=a,$g(b,function(){document.location.reload()}));this.close()};Qr.prototype.close=function(){jf.h().N(!1);this.k()};function Rr(){U.call(this)}C(Rr,U);Rr.prototype.g=function(){var a=this.t().g("div",{"class":"conn-status online left-tooltip","data-tooltip":"Lost connection to server. Requests are now cached."});this.m(a)};Rr.prototype.d=function(){Rr.c.d.call(this);var a=Xg.h();this.i().a(a,[Aj,Bj],this.Xr)};Rr.prototype.Xr=function(){var a=Xg.h();L(this.b(),"online",a.vg)};function Uq(){U.call(this)}C(Uq,U);s(Uq);Uq.prototype.S=function(){return this.j("header-right-bar")};Uq.prototype.d=function(){Uq.c.d.call(this);var a=this.j("sidebar-toggle-btn");this.i().a(a,"click",this.bt);a=new Rr;this.P(a,!0);Sr(this);a=Oq.h();this.P(a,!0)};
function Sr(a){var b=new Rq("Search","icon-search mobile-only");a.i().a(b,"action",function(){Oq.h().toggle()});a.P(b,!0);b=new Rq("Add","icon-add-light");a.i().a(b,"action",function(){on(lk.h(),null)});a.P(b,!0);b=new Rq("Settings","icon-gears-light");Sq(b,new Wq("Settings","icon-gears-light",function(){(new Qr).J(document.body)}));Sq(b,new Wq("Logout","icon-user-light",function(){var a=qf.h(),b=new Wd;b.a("complete",a.po,!1,a);b.send(ah()+"/logout")}));a.P(b,!0)}Uq.prototype.bt=function(){Jn.h().toggle()};
Bf("page-header",function(){return Uq.h()});function Ym(a,b){this.Ya=a;this.fa=b;this.Qb=this.bi="";this.Gk=!0;this.r=null;this.nm=[];this.Ed=void 0}C(Ym,O);e=Ym.prototype;e.i=function(){return this.r||(this.r=new S(this))};e.f=function(){this.r&&this.r.k();Ym.c.f.call(this)};e.Sa=function(){};e.Ff=function(a){this.fa.Ff(this,a)};e.ku=function(a){this.nm.push(a);this.i().a(a,"changed_tag",this.Sr).a(a,"changed_tag_update",this.Rr)};e.Ap=function(){F(this.nm,function(a){this.fa.removeChild(a,!0);a.k()},this);this.nm=[]};
e.Sr=function(a){function b(a,b,c,f){c=Math.max(c+d,0);f+=d;return a.substring(0,c)+b+a.substring(f)}var c="",d=0;if(a.Hi)var f=jk(this.fa),c=this.Ed=this.Ed||f,d=c.length-f.length;else c=jk(this.fa);if(a.Mi)f=a.xb[0],a.tagName&&(f-=a.tagName.length-2),c=b(c,"",f,a.xb[1]);else{var f=y(a.value)?a.value:a.value.toString(),g=a.xb,h=g||[c.length,c.length];-1<f.indexOf(" ")&&(f='"'+f+'"');!g&&0<f.length&&(f=a.tagName?" #"+a.tagName+":"+f:" "+f);c=b(c,f,h[0],h[1])}a.Hi?this.Ed=c:c!=jk(this.fa)&&this.fa.Ob.G(c)};
e.Rr=function(){var a=jk(this.fa);this.Ed!=a&&this.fa.Ob.G(this.Ed||a);this.Ed=void 0};function Qq(){}s(Qq);Qq.prototype.autocomplete=function(a,b,c,d){Qn("/autocomplete",{text:a,tag:b},function(a){a=a.Pd();var b=[];if(a.tags)for(var h=0;h<a.tags.length;h++){var k=a.tags[h];b.push("#"+k.name);if(k.values)for(var l=0;l<k.values.length;l++)b.push("#"+k.name+":"+k.values[l].name)}c.call(d,b)},this)};
function Tr(a,b,c,d){Qn("/recommend",{text:b},function(a){a=a.Pd();var b=[];if(a.recs)for(var h=0;h<a.recs.length;h++){var k=a.recs[h];b.push("#"+k.name);if(k.values)for(var l=0;l<k.values.length;l++)b.push("#"+k.name+"\x3d"+k.values[l])}c.call(d,b)},a)};function Ur(a,b,c,d){Gq.call(this,a,b,c,d)}C(Ur,Gq);Ur.prototype.yl=function(){for(var a=Eq(this.O),b=this.o(),c="",d=a-1;0<d;d--){var f=b.charAt(d);if(" "===f||"\n"===f)break;else if("#"===f){c=b.substr(d,a-d);break}}return c};Ur.prototype.Tp=function(a){var b=this.yl(),c=Eq(this.O),d=this.o(),c=d.lastIndexOf(b,c);this.G(d.substr(0,c)+a+d.substr(c+b.length));a=c+a.length;Aq(this.O,a);Fq(this.O,a)};function Vr(){}Vr.prototype.Bp=function(a,b,c,d){3<a.length?Qq.h().autocomplete(d||"",a,function(b){c.call(void 0,a,b)}):c.call(void 0,a,[])};function Wr(a,b){Ym.call(this,a,b);this.Dl=null;this.Gk=!1}C(Wr,Ym);Wr.prototype.Sa=function(){var a=this.fa,b=a.Ob.b(),c=new tq,d=new Ur(void 0,void 0,!0,300),c=new iq(new Vr,c,d);d.ca=c;d.fh(b);this.Dl=Xb("recommondations");this.i().a(a,kk,this.Jc).a(this.Dl,"click",this.Ls);Xr(this)};Wr.prototype.Jc=function(){Xr(this)};function Xr(a){var b=jk(a.fa);Tr(Qq.h(),b,function(a){this.Dl.innerHTML=a.reduce(function(a,b){return a+' \x3cspan class\x3d"suggest"\x3e'+b+"\x3c/span\x3e"},"")},a)}
Wr.prototype.Ls=function(a){var b=a.target;if(Fn(b,"suggest")){a=this.fa;var b=b.innerHTML,c=jk(a);a.Ob.G(c+" "+b)}};function Yr(){O.call(this)}C(Yr,Ri);Yr.prototype.ia=function(){lk.h().bd.push(Wr)};function Zr(){this.id="linkParser"}Zr.prototype.parse=function(a){return twttr.txt.extractUrlsWithIndices(a.kc)||[]};function $r(){U.call(this);this.Nk=null}C($r,U);s($r);$r.prototype.g=function(){var a=this.t();this.Nk=a.g("img");a=a.g("div","image-preview",this.Nk);this.m(a)};$r.prototype.Zi=function(a){this.Nk.src=a;return!0};$r.prototype.Cs=function(a){this.w||this.J(document.body);var b=a.target,c=this.b();this.Zi(b.href)&&(se(c,a.clientX+10,a.clientY+10),Cb(c,"visible"))};$r.prototype.Ds=function(){Db(this.b(),"visible")};function as(){O.call(this)}C(as,Ri);as.prototype.ia=function(){var a=Lj.h();Q(a,dp,this.no,!1,this);Q(a,"entry_display",this.is,!1,this)};as.prototype.no=function(a){a=a.target;for(var b=a.rg,c=a.hd().Ph(Zr),d=0;d<c.length;d++){var f=c[d].url,g=20<f.length?f.substr(0,20)+"...":f;f.match(/^(http)/gi)||(f="http://"+f);b=b.replace(c[d].url,'\x3ca href\x3d"'+f+'" target\x3d"_blank" class\x3d"extern-link"\x3e'+g+"\x3c/a\x3e")}a.Vl(b)};
as.prototype.is=function(a){a=a.oq.Mh("extern-link");for(var b,c=0;c<a.length;c++){var d=a[c];if(d.href.match(/(jpg|png|gif)$/gi)){var f=b=b||$r.h();f.i().a(d,"mouseenter",f.Cs).a(d,"mouseleave",f.Ds)}}};function bs(){O.call(this)}C(bs,Ri);bs.prototype.ia=function(a){a=a.Kf;Yq();Mn.h().ia(a);lk.h().ia(a);Tq.h().ia(a);var b=xo.h();b.ia(a);zo(b,"search/:searchStr",function(a,b){var f=On("#"+b);Ln(f,"#"+b)},this);zo(b,"edit/:entryId",function(a,b){var f=new pn(b);on(lk.h(),f)},this);zo(b,"delete/:entryId",function(a,b){(new pn(b)).Bc()},this,!1);Tn(Yr);Tn(as)};Qi("core",bs);
//@ sourceURL=/asset/common/js-min/LANG/core.js