rj.prototype.Pi=p(16,function(a){a&&!this.Ib&&(sj(this),this.qb=null,this.la.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.setValues(d,a))},this));this.Ib=a});function as(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var bs=/#/g,cs=/[\#\?@]/g,ds=/[\#\?]/g,es=/[\#\?:]/g,fs=/[#\/\?@]/g;function gs(a,b){return x(a)?encodeURI(a).replace(b,as):null}
function hs(a,b){var c;if(a instanceof hs)this.Ib=u(b)?b:a.Ib,is(this,a.hf),c=a.bj,js(this),this.bj=c,c=a.Lf,js(this),this.Lf=c,ks(this,a.zi),this.setPath(a.getPath()),ls(this,a.qd.M()),c=a.Ih,js(this),this.Ih=c;else if(a&&(c=Zd(String(a)))){this.Ib=!!b;is(this,c[1]||"",!0);var d=c[2]||"";js(this);this.bj=d?decodeURIComponent(d):"";d=c[3]||"";js(this);this.Lf=d?decodeURIComponent(d):"";ks(this,c[4]);this.setPath(c[5]||"",!0);ls(this,c[6]||"",!0);c=c[7]||"";js(this);this.Ih=c?decodeURIComponent(c):
""}else this.Ib=!!b,this.qd=new rj(null,0,this.Ib)}e=hs.prototype;e.hf="";e.bj="";e.Lf="";e.zi=null;e.So="";e.Ih="";e.Ss=!1;e.Ib=!1;
e.toString=function(){var a=[],b=this.hf;b&&a.push(gs(b,fs),":");if(b=this.Lf){a.push("//");var c=this.bj;c&&a.push(gs(c,fs),"@");a.push(encodeURIComponent(String(b)));b=this.zi;null!=b&&a.push(":",String(b))}if(b=this.getPath())this.Lf&&"/"!=b.charAt(0)&&a.push("/"),a.push(gs(b,"/"==b.charAt(0)?ds:es));(b=this.qd.toString())&&a.push("?",b);(b=this.Ih)&&a.push("#",gs(b,bs));return a.join("")};e.M=function(){return new hs(this)};
function is(a,b,c){js(a);a.hf=c?b?decodeURIComponent(b):"":b;a.hf&&(a.hf=a.hf.replace(/:$/,""))}function ks(a,b){js(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.zi=b}else a.zi=null}e.getPath=function(){return this.So};e.setPath=function(a,b){js(this);this.So=b?a?decodeURIComponent(a):"":a;return this};function ls(a,b,c){js(a);b instanceof rj?(a.qd=b,a.qd.Pi(a.Ib)):(c||(b=gs(b,cs)),a.qd=new rj(b,0,a.Ib))}
function js(a){if(a.Ss)throw Error("Tried to modify a read-only Uri");}e.Pi=function(a){this.Ib=a;this.qd&&this.qd.Pi(a);return this};function ms(a){a.stopPropagation()}
function ns(){return'\x3cdiv\x3e\x3cdiv class\x3d"upload-form"\x3e\x3cspan class\x3d"small"\x3eDatei hochladen:\x3c/span\x3e\x3cbr /\x3e\x3cbr /\x3e\x3cbutton class\x3d"btn primary enabled upload-btn"\x3eDatei ausw√§hlen\x3c/button\x3e\x3cspan class\x3d"small"\x3eoder Drag\x26Drop\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"thumbs"\x3e\x3c/div\x3e\x3cdiv class\x3d"progress hidden"\x3e\x3cdiv class\x3d"progress-bar"\x3e\x3c/div\x3e\x3cdiv class\x3d"progress-bar-status"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'}
function os(a){return'\x3cdiv\x3e\x3ca href\x3d"'+kf(a.url)+'" target\x3d"_blank"\x3eDownload\x3c/a\x3e\x3c/div\x3e'};function ps(a){Nk.call(this);this.un=a}C(ps,Nk);ps.prototype.e=function(){ps.c.e.call(this);var a={url:this.un.getUrl()},a=ff(os,a);this.N().appendChild(a)};ps.prototype.d=function(){ps.c.d.call(this);K(this.b(),"file-tile")};ps.prototype.ah=function(){var a=this.un.getUrl(),b=ok(this.jh.Z).indexOf(a);this.dispatchEvent({type:"changed_tag",tagName:"",value:a,rg:!0,Ya:[b,b+a.length]})};var qs=!1,rs="";function ss(a){a=a.match(/[\d]+/g);if(!a)return"";a.length=3;return a.join(".")}
if(navigator.plugins&&navigator.plugins.length){var ts=navigator.plugins["Shockwave Flash"];ts&&(qs=!0,ts.description&&(rs=ss(ts.description)));navigator.plugins["Shockwave Flash 2.0"]&&(qs=!0,rs="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var us=navigator.mimeTypes["application/x-shockwave-flash"];(qs=us&&us.enabledPlugin)&&(rs=ss(us.enabledPlugin.description))}else try{var vs=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),qs=!0,rs=ss(vs.GetVariable("$version"))}catch(ws){try{vs=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),qs=!0,rs="6.0.21"}catch(xs){try{vs=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),qs=!0,rs=ss(vs.GetVariable("$version"))}catch(ys){}}}var zs=rs;function As(a,b){T.call(this,b);this.Qq=a;this.o=new S(this);this.Pd=new Kd}C(As,T);e=As.prototype;e.Wp="window";e.wq="#000000";e.xm="sameDomain";function Bs(a,b,c){a.$l=x(b)?b:Math.round(b)+"px";a.Hb=x(c)?c:Math.round(c)+"px";a.b()&&He(Cs(a),a.$l,a.Hb)}
e.d=function(){As.c.d.call(this);var a=this.b(),b;b=G?'\x3cobject classid\x3d"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id\x3d"%s" name\x3d"%s" class\x3d"%s"\x3e\x3cparam name\x3d"movie" value\x3d"%s"/\x3e\x3cparam name\x3d"quality" value\x3d"high"/\x3e\x3cparam name\x3d"FlashVars" value\x3d"%s"/\x3e\x3cparam name\x3d"bgcolor" value\x3d"%s"/\x3e\x3cparam name\x3d"AllowScriptAccess" value\x3d"%s"/\x3e\x3cparam name\x3d"allowFullScreen" value\x3d"true"/\x3e\x3cparam name\x3d"SeamlessTabbing" value\x3d"false"/\x3e%s\x3c/object\x3e':'\x3cembed quality\x3d"high" id\x3d"%s" name\x3d"%s" class\x3d"%s" src\x3d"%s" FlashVars\x3d"%s" bgcolor\x3d"%s" AllowScriptAccess\x3d"%s" allowFullScreen\x3d"true" SeamlessTabbing\x3d"false" type\x3d"application/x-shockwave-flash" pluginspage\x3d"http://www.macromedia.com/go/getflashplayer" %s\x3e\x3c/embed\x3e';
for(var c=G?'\x3cparam name\x3d"wmode" value\x3d"%s"/\x3e':"wmode\x3d%s",c=ua(c,this.Wp),d=this.Pd.sb(),f=this.Pd.Ia(),g=[],h=0;h<d.length;h++)g.push(encodeURIComponent(String(d[h]))+"\x3d"+encodeURIComponent(String(f[h])));b=ua(b,this.ia(),this.ia(),"goog-ui-media-flash-object",Aa(this.Qq),Aa(g.join("\x26")),this.wq,this.xm,c);a.innerHTML=b;this.$l&&this.Hb&&Bs(this,this.$l,this.Hb);this.o.a(this.b(),Nb(Rc),ms)};
e.e=function(){if(null!=this.bp&&!(0<=Ka(zs,this.bp)))throw Error("Method not supported");var a=this.s().createElement("div");a.className="goog-ui-media-flash";this.h=a};function Cs(a){return a.b()?a.b().firstChild:null}e.i=function(){As.c.i.call(this);this.Pd=null;this.o.m();this.o=null};e.Ve=function(){return this.C&&this.b()?Cs(this).readyState&&4==Cs(this).readyState||Cs(this).PercentLoaded&&100==Cs(this).PercentLoaded()?!0:!1:!1};function Ds(){T.call(this)}C(Ds,T);function Es(a,b,c){this.name=a;this.size=b;this.Zk=c};function Fs(){T.call(this);this.Kg=null;this.Jl=this.ia()+".swf";this.bo=!1;Gs.set(this.Jl,this)}C(Fs,Ds);var Gs=new Kd;e=Fs.prototype;e.l=function(a){Fs.c.l.call(this,a);a=new As("asset/third-party/uploader.swf");a.bp="10.0.45";a.xm="always";a.Pd.set("allowNetworking","all");a.Wp="transparent";a.Pd.set("yId",this.Jl);a.Pd.set("YUIBridgeCallback","YUIBridgeCallback");a.Pd.set("YUISwfId",this.Jl);a.G(this.b());this.Kg=a};e.d=function(){Fs.c.d.call(this);var a=this.b();Bs(this.Kg,a.offsetWidth,a.offsetHeight)};
e.Fh=function(a){for(var b=[],c=0;c<a.length;c++)b.push(new Es(a[c].fileReference.name,a[c].fileReference.size,a[c]));return b};e.send=function(a,b,c){try{var d=new hs(a);if(c)for(var f in c){a=d;var g=f,h=c[f];js(a);a.qd.set(g,h)}for(c=0;c<b.length;c++)Cs(this.Kg).upload(b[c].Zk.fileId,d.toString(),[],"file"+c)}catch(k){}};e.mp=function(a){this.bo=a;this.yk&&Cs(this.Kg).setAllowMultipleFiles(a)};
ea("YUI.applyTo",function(a,b,c){a=Gs.get(a);c=c[1];switch(c.type){case "swfReady":Cs(a.Kg).setAllowMultipleFiles(a.bo);break;case "uploadprogress":var d=c.bytesLoaded;c=c.bytesTotal;a.dispatchEvent({type:"progress",cb:0<c?d/c:0});break;case "uploadcompletedata":try{d=zd(c.data),a.dispatchEvent({type:"complete",data:d})}catch(f){}break;case "fileselect":a.dispatchEvent({type:"select",files:a.Fh(c.fileList)})}});function Hs(a,b){R.call(this);this.o=new S(this);var c=a;b&&(c=N(a));this.o.a(c,"dragenter",this.it);c!=a&&this.o.a(c,"dragover",this.jt);this.o.a(a,"dragover",this.mt);this.o.a(a,"drop",this.nt)}C(Hs,R);e=Hs.prototype;e.Kf=!1;e.i=function(){Hs.c.i.call(this);this.o.m()};e.it=function(a){var b=a.Q.dataTransfer;(this.Kf=!(!b||!(b.types&&(F(b.types,"Files")||F(b.types,"public.file-url"))||b.files&&0<b.files.length)))&&a.preventDefault()};
e.jt=function(a){this.Kf&&(a.preventDefault(),a.Q.dataTransfer.dropEffect="none")};e.mt=function(a){this.Kf&&(a.preventDefault(),a.stopPropagation(),a=a.Q.dataTransfer,a.effectAllowed="all",a.dropEffect="copy")};e.nt=function(a){this.Kf&&(a.preventDefault(),a.stopPropagation(),a=new Tc(a.Q),a.type="drop",this.dispatchEvent(a))};function Is(){T.call(this);this.Eh=this.Dh=null}C(Is,Ds);e=Is.prototype;e.l=function(a){Is.c.l.call(this,a);this.Eh=this.s().e("input",{type:"file"})};e.d=function(){Is.c.d.call(this);var a=pb?"touchstart":"click";this.g().a(this.b(),a,this.Ja);this.g().a(this.Eh,"change",this.ms)};e.Fh=function(a){for(var b=[],c=0;c<a.length;c++)b.push(new Es(a[c].name,a[c].size,a[c]));return b};e.Ja=function(){this.Eh.click()};e.zr=function(a){this.dispatchEvent({type:Js,files:this.Fh(a.Q.dataTransfer.files)})};
e.Lr=function(a){this.dispatchEvent({type:"complete",data:zd(a.target.responseText)})};e.Yr=function(a){a=a.Q;this.dispatchEvent({type:"progress",cb:0<a.total?a.loaded/a.total:0})};e.ms=function(a){this.dispatchEvent({type:"select",files:this.Fh(a.target.files)})};e.send=function(a,b,c){for(var d=new FormData,f=0;f<b.length;f++)d.append("file"+f,b[f].Zk);if(c)for(f in c)d.append(f,c[f]);b=new XMLHttpRequest;b.open("POST",a,!0);this.g().a(b,"load",this.Lr);this.g().a(b.upload,"progress",this.Yr);b.send(d)};
function Ks(a){var b=document.body;a.Dh&&a.Dh.m();a.Dh=new Hs(b,!0);a.g().a(a.Dh,"drop",a.zr)}e.mp=function(a){this.Eh.multiple=a?"true":""};var Js="drop";function Ls(){}Ls.prototype.f=function(){if(!u(Modernizr.filereader)||!u(Modernizr.draganddrop))throw Error("monin.ui.FileUploaderFactory: Modernizr.filereader / Modernizr.draganddrop properties are not defined.");return Modernizr.filereader&&Modernizr.draganddrop&&!G?new Is:new Fs};function Ms(){Nk.call(this);this.Uc=(new Ls).f();this.g().a(this.Uc,"select",this.Np).a(this.Uc,"drop",this.Np).a(this.Uc,"progress",function(a){Ns(this,a.cb)}).a(this.Uc,"complete",this.As);this.Uc instanceof Is&&Ks(this.Uc);this.Bk=!1}C(Ms,Nk);Ms.prototype.e=function(){Ms.c.e.call(this);var a=ff(ns);this.N().appendChild(a)};Ms.prototype.d=function(){Ms.c.d.call(this);K(this.b(),"file-tile");this.Uc.S(this.j("upload-btn"));this.Uc.mp(!1)};
function Ns(a,b){a.j("progress-bar").style.width=100*b+"%";var c=Math.round(100*b)+"%";a.j("progress-bar-status").innerHTML=c}Ms.prototype.Np=function(a){this.Bk||(Eb(this.j("progress"),"hidden"),K(this.j("upload-form"),"hidden"),this.Bk=!0,Ns(this,0),this.Uc.send(oh()+"/files",a.files),Os(this,a.files))};
function Os(a,b){for(var c=a.j("thumbs"),d=0,f;f=b[d];d++)if(f=f.Zk,f.type.match("image.*")){var g=new FileReader;g.onload=function(a){return function(b){var d=document.createElement("span");d.innerHTML=['\x3cimg class\x3d"thumb" src\x3d"',b.target.result,'" title\x3d"',escape(a.name),'"/\x3e'].join("");c.appendChild(d)}}(f);g.readAsDataURL(f)}}Ms.prototype.As=function(a){a=a.data[0];Ns(this,1);this.Bk=!1;this.dispatchEvent({type:"changed_tag",tagName:"",value:a.url})};function Ps(a){this.rc=a;this.T=""}Ps.prototype.getUrl=function(){return this.rc};Ps.prototype.ia=function(){this.T||(this.T=this.rc.substr(this.rc.lastIndexOf("/")+1));return this.T};Ps.prototype.Sb=function(a,b){Lj("/files/"+this.ia(),"DELETE",void 0,a,b)};Ps.prototype.equals=function(a){return!!a&&a.rc===this.rc};function Qs(){this.id="fileParser"}Qs.prototype.parse=function(a){var b=[];(a=a.sa.match(new RegExp("http(s)?://("+Rs.join("|")+")"+(oh()+"/files/")+"\\w+","ig")))&&(b=Ra(a,function(a){return new Ps(a)}));return b};var Rs=["dev.hash5.com:8080",document.location.host];function Ss(a,b){Sn.call(this,a,b);this.Zh="icon-attachment";this.zb="Dateien";this.Wm=[]}C(Ss,Sn);Ss.prototype.ka=function(){this.g().a(this.Z,pk,this.Xb);Ts(this)};Ss.prototype.Zj=function(){return new Ms};Ss.prototype.Xb=function(){Ts(this)};function Ts(a){var b=lm(a.Z.Cc(),Qs);if(!fb(a.Wm,b,function(a,b){return a.equals(b)})){a.Wm=b;a.jl();for(var c=0;c<b.length;c++){var d=new ps(b[c]);a.xe(d)}}};function Us(){O.call(this)}C(Us,gj);Us.prototype.ea=function(){vk(Ss)};Us.prototype.Jn=function(a){a=a.target;for(var b=a.be,c=lm(a.Cc(),Qs),d=0;d<c.length;d++)var f=c[d].getUrl(),b=b.replace(f,'\x3ca href\x3d"'+f+'" target\x3d"_blank" class\x3d"file-link"\x3e\x3c/a\x3e');a.be=b};ej("files",Us);
//@ sourceURL=/asset/common/js-min/LANG/files.js