ij.prototype.ui=p(17,function(a){a&&!this.Bb&&(jj(this),this.mb=null,this.ja.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.setValues(d,a))},this));this.Bb=a});Tb.prototype.append=p(4,function(a,b){ec(N(a),a,arguments,1)});function tr(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ur=/#/g,vr=/[\#\?@]/g,wr=/[\#\?]/g,xr=/[\#\?:]/g,yr=/[#\/\?@]/g;function zr(a,b){return y(a)?encodeURI(a).replace(b,tr):null}
function Ar(a,b){var c;if(a instanceof Ar)this.Bb=u(b)?b:a.Bb,Br(this,a.We),c=a.Ki,Cr(this),this.Ki=c,c=a.xf,Cr(this),this.xf=c,Dr(this,a.di),this.setPath(a.getPath()),Er(this,a.kd.M()),c=a.oh,Cr(this),this.oh=c;else if(a&&(c=Qd(String(a)))){this.Bb=!!b;Br(this,c[1]||"",!0);var d=c[2]||"";Cr(this);this.Ki=d?decodeURIComponent(d):"";d=c[3]||"";Cr(this);this.xf=d?decodeURIComponent(d):"";Dr(this,c[4]);this.setPath(c[5]||"",!0);Er(this,c[6]||"",!0);c=c[7]||"";Cr(this);this.oh=c?decodeURIComponent(c):
""}else this.Bb=!!b,this.kd=new ij(null,0,this.Bb)}e=Ar.prototype;e.We="";e.Ki="";e.xf="";e.di=null;e.to="";e.oh="";e.os=!1;e.Bb=!1;
e.toString=function(){var a=[],b=this.We;b&&a.push(zr(b,yr),":");if(b=this.xf){a.push("//");var c=this.Ki;c&&a.push(zr(c,yr),"@");a.push(encodeURIComponent(String(b)));b=this.di;null!=b&&a.push(":",String(b))}if(b=this.getPath())this.xf&&"/"!=b.charAt(0)&&a.push("/"),a.push(zr(b,"/"==b.charAt(0)?wr:xr));(b=this.kd.toString())&&a.push("?",b);(b=this.oh)&&a.push("#",zr(b,ur));return a.join("")};e.M=function(){return new Ar(this)};
function Br(a,b,c){Cr(a);a.We=c?b?decodeURIComponent(b):"":b;a.We&&(a.We=a.We.replace(/:$/,""))}function Dr(a,b){Cr(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.di=b}else a.di=null}e.getPath=function(){return this.to};e.setPath=function(a,b){Cr(this);this.to=b?a?decodeURIComponent(a):"":a;return this};function Er(a,b,c){Cr(a);b instanceof ij?(a.kd=b,a.kd.ui(a.Bb)):(c||(b=zr(b,vr)),a.kd=new ij(b,0,a.Bb))}
function Cr(a){if(a.os)throw Error("Tried to modify a read-only Uri");}e.ui=function(a){this.Bb=a;this.kd&&this.kd.ui(a);return this};function Fr(a){a.stopPropagation()}
function Gr(){return'\x3cdiv\x3e\x3cdiv class\x3d"upload-form"\x3e\x3cspan class\x3d"small"\x3eDatei hochladen:\x3c/span\x3e\x3cbr /\x3e\x3cbr /\x3e\x3cbutton class\x3d"btn primary enabled upload-btn"\x3eDatei auswÃ¤hlen\x3c/button\x3e\x3cspan class\x3d"small"\x3eoder Drag\x26Drop\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"thumbs"\x3e\x3c/div\x3e\x3cdiv class\x3d"progress hidden"\x3e\x3cdiv class\x3d"progress-bar"\x3e\x3c/div\x3e\x3cdiv class\x3d"progress-bar-status"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'}
function Hr(a){return'\x3cdiv\x3e\x3ca href\x3d"'+af(a.url)+'" target\x3d"_blank"\x3eDownload\x3c/a\x3e\x3c/div\x3e'};function Ir(a){Ak.call(this);this.Wm=a}C(Ir,Ak);Ir.prototype.e=function(){Ir.c.e.call(this);var a={url:this.Wm.getUrl()},a=Xe(Hr,a);this.N().appendChild(a)};Ir.prototype.d=function(){Ir.c.d.call(this);K(this.b(),"file-tile")};Ir.prototype.fm=function(){var a=this.Wm.getUrl(),b=fk(this.Qg.ba).indexOf(a);this.dispatchEvent({type:"changed_tag",tagName:"",value:a,ki:!0,Xa:[b,b+a.length]})};var Jr=!1,Kr="";function Lr(a){a=a.match(/[\d]+/g);if(!a)return"";a.length=3;return a.join(".")}
if(navigator.plugins&&navigator.plugins.length){var Mr=navigator.plugins["Shockwave Flash"];Mr&&(Jr=!0,Mr.description&&(Kr=Lr(Mr.description)));navigator.plugins["Shockwave Flash 2.0"]&&(Jr=!0,Kr="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var Nr=navigator.mimeTypes["application/x-shockwave-flash"];(Jr=Nr&&Nr.enabledPlugin)&&(Kr=Lr(Nr.enabledPlugin.description))}else try{var Or=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),Jr=!0,Kr=Lr(Or.GetVariable("$version"))}catch(Pr){try{Or=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),Jr=!0,Kr="6.0.21"}catch(Qr){try{Or=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),Jr=!0,Kr=Lr(Or.GetVariable("$version"))}catch(Rr){}}}var Sr=Kr;function Tr(a,b){T.call(this,b);this.rq=a;this.n=new S(this);this.Fd=new Bd}C(Tr,T);e=Tr.prototype;e.vp="window";e.Wp="#000000";e.$l="sameDomain";function Ur(a,b,c){a.El=y(b)?b:Math.round(b)+"px";a.Ab=y(c)?c:Math.round(c)+"px";a.b()&&ye(Vr(a),a.El,a.Ab)}
e.d=function(){Tr.c.d.call(this);var a=this.b(),b;b=G?'\x3cobject classid\x3d"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id\x3d"%s" name\x3d"%s" class\x3d"%s"\x3e\x3cparam name\x3d"movie" value\x3d"%s"/\x3e\x3cparam name\x3d"quality" value\x3d"high"/\x3e\x3cparam name\x3d"FlashVars" value\x3d"%s"/\x3e\x3cparam name\x3d"bgcolor" value\x3d"%s"/\x3e\x3cparam name\x3d"AllowScriptAccess" value\x3d"%s"/\x3e\x3cparam name\x3d"allowFullScreen" value\x3d"true"/\x3e\x3cparam name\x3d"SeamlessTabbing" value\x3d"false"/\x3e%s\x3c/object\x3e':'\x3cembed quality\x3d"high" id\x3d"%s" name\x3d"%s" class\x3d"%s" src\x3d"%s" FlashVars\x3d"%s" bgcolor\x3d"%s" AllowScriptAccess\x3d"%s" allowFullScreen\x3d"true" SeamlessTabbing\x3d"false" type\x3d"application/x-shockwave-flash" pluginspage\x3d"http://www.macromedia.com/go/getflashplayer" %s\x3e\x3c/embed\x3e';
for(var c=G?'\x3cparam name\x3d"wmode" value\x3d"%s"/\x3e':"wmode\x3d%s",c=ua(c,this.vp),d=this.Fd.ob(),f=this.Fd.Sa(),g=[],h=0;h<d.length;h++)g.push(encodeURIComponent(String(d[h]))+"\x3d"+encodeURIComponent(String(f[h])));b=ua(b,this.ga(),this.ga(),"goog-ui-media-flash-object",Aa(this.rq),Aa(g.join("\x26")),this.Wp,this.$l,c);a.innerHTML=b;this.El&&this.Ab&&Ur(this,this.El,this.Ab);this.n.a(this.b(),Kb(Ic),Fr)};
e.e=function(){if(null!=this.Co&&!(0<=Ka(Sr,this.Co)))throw Error("Method not supported");var a=this.t().createElement("div");a.className="goog-ui-media-flash";this.f=a};function Vr(a){return a.b()?a.b().firstChild:null}e.h=function(){Tr.c.h.call(this);this.Fd=null;this.n.l();this.n=null};e.Ie=function(){return this.D&&this.b()?Vr(this).readyState&&4==Vr(this).readyState||Vr(this).PercentLoaded&&100==Vr(this).PercentLoaded()?!0:!1:!1};function Wr(){T.call(this)}C(Wr,T);function Xr(a,b,c){this.name=a;this.size=b;this.Ek=c};function Yr(){T.call(this);this.vg=null;this.nl=this.ga()+".swf";this.Gn=!1;Zr.set(this.nl,this)}C(Yr,Wr);var Zr=new Bd;e=Yr.prototype;e.m=function(a){Yr.c.m.call(this,a);a=new Tr("asset/third-party/uploader.swf");a.Co="10.0.45";a.$l="always";a.Fd.set("allowNetworking","all");a.vp="transparent";a.Fd.set("yId",this.nl);a.Fd.set("YUIBridgeCallback","YUIBridgeCallback");a.Fd.set("YUISwfId",this.nl);a.L(this.b());this.vg=a};e.d=function(){Yr.c.d.call(this);var a=this.b();Ur(this.vg,a.offsetWidth,a.offsetHeight)};
e.lh=function(a){for(var b=[],c=0;c<a.length;c++)b.push(new Xr(a[c].fileReference.name,a[c].fileReference.size,a[c]));return b};e.send=function(a,b,c){try{var d=new Ar(a);if(c)for(var f in c){a=d;var g=f,h=c[f];Cr(a);a.kd.set(g,h)}for(c=0;c<b.length;c++)Vr(this.vg).upload(b[c].Ek.fileId,d.toString(),[],"file"+c)}catch(k){}};e.No=function(a){this.Gn=a;this.ek&&Vr(this.vg).setAllowMultipleFiles(a)};
ca("YUI.applyTo",function(a,b,c){a=Zr.get(a);c=c[1];switch(c.type){case "swfReady":Vr(a.vg).setAllowMultipleFiles(a.Gn);break;case "uploadprogress":var d=c.bytesLoaded;c=c.bytesTotal;a.dispatchEvent({type:"progress",Za:0<c?d/c:0});break;case "uploadcompletedata":try{d=qd(c.data),a.dispatchEvent({type:"complete",data:d})}catch(f){}break;case "fileselect":a.dispatchEvent({type:"select",files:a.lh(c.fileList)})}});function $r(a,b){R.call(this);this.n=new S(this);var c=a;b&&(c=N(a));this.n.a(c,"dragenter",this.Es);c!=a&&this.n.a(c,"dragover",this.Fs);this.n.a(a,"dragover",this.Is);this.n.a(a,"drop",this.Js)}C($r,R);e=$r.prototype;e.wf=!1;e.h=function(){$r.c.h.call(this);this.n.l()};e.Es=function(a){var b=a.P.dataTransfer;(this.wf=!(!b||!(b.types&&(F(b.types,"Files")||F(b.types,"public.file-url"))||b.files&&0<b.files.length)))&&a.preventDefault()};
e.Fs=function(a){this.wf&&(a.preventDefault(),a.P.dataTransfer.dropEffect="none")};e.Is=function(a){this.wf&&(a.preventDefault(),a.stopPropagation(),a=a.P.dataTransfer,a.effectAllowed="all",a.dropEffect="copy")};e.Js=function(a){this.wf&&(a.preventDefault(),a.stopPropagation(),a=new Kc(a.P),a.type="drop",this.dispatchEvent(a))};function as(){T.call(this);this.kh=this.jh=null}C(as,Wr);e=as.prototype;e.m=function(a){as.c.m.call(this,a);this.kh=this.t().e("input",{type:"file"})};e.d=function(){as.c.d.call(this);var a=pb?"touchstart":"click";this.i().a(this.b(),a,this.Ta);this.i().a(this.kh,"change",this.Kr)};e.lh=function(a){for(var b=[],c=0;c<a.length;c++)b.push(new Xr(a[c].name,a[c].size,a[c]));return b};e.Ta=function(){this.kh.click()};e.ar=function(a){this.dispatchEvent({type:bs,files:this.lh(a.P.dataTransfer.files)})};
e.kr=function(a){this.dispatchEvent({type:"complete",data:qd(a.target.responseText)})};e.xr=function(a){a=a.P;this.dispatchEvent({type:"progress",Za:0<a.total?a.loaded/a.total:0})};e.Kr=function(a){this.dispatchEvent({type:"select",files:this.lh(a.target.files)})};e.send=function(a,b,c){for(var d=new FormData,f=0;f<b.length;f++)d.append("file"+f,b[f].Ek);if(c)for(f in c)d.append(f,c[f]);b=new XMLHttpRequest;b.open("POST",a,!0);this.i().a(b,"load",this.kr);this.i().a(b.upload,"progress",this.xr);b.send(d)};
function cs(a){var b=document.body;a.jh&&a.jh.l();a.jh=new $r(b,!0);a.i().a(a.jh,"drop",a.ar)}e.No=function(a){this.kh.multiple=a?"true":""};var bs="drop";function ds(){}ds.prototype.g=function(){if(!u(Modernizr.filereader)||!u(Modernizr.draganddrop))throw Error("monin.ui.FileUploaderFactory: Modernizr.filereader / Modernizr.draganddrop properties are not defined.");return Modernizr.filereader&&Modernizr.draganddrop&&!G?new as:new Yr};function es(){Ak.call(this);this.Pc=(new ds).g();this.i().a(this.Pc,"select",this.op).a(this.Pc,"drop",this.op).a(this.Pc,"progress",function(a){fs(this,a.Za)}).a(this.Pc,"complete",this.Yr);this.Pc instanceof as&&cs(this.Pc);this.hk=!1}C(es,Ak);es.prototype.e=function(){es.c.e.call(this);var a=Xe(Gr);this.N().appendChild(a)};es.prototype.d=function(){es.c.d.call(this);K(this.b(),"file-tile");this.Pc.R(this.j("upload-btn"));this.Pc.No(!1)};
function fs(a,b){a.j("progress-bar").style.width=100*b+"%";var c=Math.round(100*b)+"%";a.j("progress-bar-status").innerHTML=c}es.prototype.op=function(a){this.hk||(Db(this.j("progress"),"hidden"),K(this.j("upload-form"),"hidden"),this.hk=!0,fs(this,0),this.Pc.send("/files",a.files),gs(this,a.files))};
function gs(a,b){for(var c=a.j("thumbs"),d=0,f;f=b[d];d++)if(f=f.Ek,f.type.match("image.*")){var g=new FileReader;g.onload=function(a){return function(b){var d=document.createElement("span");d.innerHTML=['\x3cimg class\x3d"thumb" src\x3d"',b.target.result,'" title\x3d"',escape(a.name),'"/\x3e'].join("");c.appendChild(d)}}(f);g.readAsDataURL(f)}}es.prototype.Yr=function(a){a=a.data[0];fs(this,1);this.hk=!1;this.dispatchEvent({type:"changed_tag",tagName:"",value:a.url})};function hs(a){this.kc=a;this.S=""}hs.prototype.getUrl=function(){return this.kc};hs.prototype.ga=function(){this.S||(this.S=this.kc.substr(this.kc.lastIndexOf("/")+1));return this.S};hs.prototype.rc=function(a,b){Cj("/files/"+this.ga(),"DELETE",void 0,a,b)};hs.prototype.equals=function(a){return!!a&&a.kc===this.kc};function is(){this.id="fileParser"}is.prototype.parse=function(a){var b=[];(a=a.fb.match(new RegExp("http(s)?://("+js.join("|")+")/files/\\w+","ig")))&&(b=Sa(a,function(a){return new hs(a)}));return b};var js=["dev.hash5.com:8080",document.location.host];function ks(a,b){Mm.call(this,a,b);this.Dh="icon-attachment";this.Hb="Dateien";this.zm=[]}C(ks,Mm);ks.prototype.Ea=function(){this.i().a(this.ba,gk,this.Rb);ls(this)};ks.prototype.Ej=function(){return new es};ks.prototype.Rb=function(){ls(this)};function ls(a){var b=a.ba.xc().If(is);if(!fb(a.zm,b,function(a,b){return a.equals(b)})){a.zm=b;a.Ok();for(var c=0;c<b.length;c++){var d=new Ir(b[c]);a.je(d)}}};function ms(){O.call(this)}C(ms,$i);ms.prototype.ia=function(){ik(ks)};ms.prototype.mn=function(a){a=a.target;for(var b=a.Xf,c=a.xc().If(is),d=0;d<c.length;d++)var f=c[d].getUrl(),b=b.replace(f,'\x3ca href\x3d"'+f+'" target\x3d"_blank" class\x3d"file-link"\x3e\x3c/a\x3e');a.al(b)};Yi("files",ms);
//@ sourceURL=/asset/common/js-min/LANG/files.js