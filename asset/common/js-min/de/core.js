function fl(a){return'\x3cli\x3e\x3cimg src\x3d"'+ig(a.tj)+'" title\x3d"'+ig(a.title)+'" /\x3e\x3c/li\x3e'}function gl(a,b){var c=eg(fl,{title:b.Ub,tj:b.vj});a.I("helper-tile-btns").appendChild(c);a.i().b(c,"click",function(){this.kg(b)})}
function hl(a){return a=""+('\x3cdiv class\x3d"entry-editor"\x3e\x3ch2\x3eEintrag bearbeiten\x3c/h2\x3e\x3cdiv class\x3d"entry-info"\x3e\x3cspan class\x3d"entry-date"\x3e'+ig(a.o)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-editor-body"\x3e\x3c/div\x3e\x3cdiv class\x3d"recommondations"\x3e\x3c/div\x3e\x3cul class\x3d"helper-tile-btns"\x3e\x3c/ul\x3e\x3cdiv class\x3d"helper-tiles"\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-actions"\x3e\x3cbutton class\x3d"btn primary save-btn"\x3eSpeichern\x3c/button\x3e\x3cbutton class\x3d"btn cancle-btn"\x3eAbbrechen\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e')}
function il(a){var b=qd(a);if("undefined"==typeof b)throw Error("Keys are undefined");var c=new Mh(null,0,void 0);a=pd(a);for(var d=0;d<b.length;d++){var f=b[d],g=a[d];if(y(g)){var h=c;h.remove(f);0<g.length&&(h.yb=null,h.ka.set(Oh(h,f),Va(g)),h.W+=g.length)}else c.add(f,g)}return c}
ni.prototype.save=s(33,function(a,b,c){var d=new Nd;d.b("complete",function(d){d=ae(d.target);a.update(d);ha(b)&&b.call(c,a)},!1,this);var f=il(a.dc()).toString();a.aa()?d.send("/entries/"+a.aa(),"PUT",f):d.send("/entries","POST",f)});de.prototype.dc=s(32,function(){return{}});ci.prototype.dc=s(31,function(){var a=[];G(this.Ba,function(b){a.push(b.dc())});return a});function jl(a){U.call(this);this.mf=a;this.Tb=new zi("");this.V(this.Tb);this.ac=a.he();this.jd=[]}D(jl,U);p=jl.prototype;
p.f=function(){var a={o:kl(this.mf.Ci)},a=eg(hl,a);this.m(a)};p.m=function(a){jl.a.m.call(this,a);this.Tb.ma(this.I("entry-editor-body"));this.Tb.P(this.mf.Lc())};p.g=function(){jl.a.g.call(this);var a=this.i(),b=this.I("save-btn");a.b(b,"click",this.cq);b=this.I("cancle-btn");a.b(b,"click",this.close);a.b(this.Tb,"change",this.ud);G(this.jd,function(a){a.Ya();a.oj&&gl(this,a)},this);this.Tb.c().focus()};p.kg=function(a,b){b=b||a.ip();b.mr(a);this.V(b);b.ma(this.I("helper-tiles"))};p.close=function(){this.j()};
p.e=function(){G(this.jd,function(a){a.j()},this);jl.a.e.call(this)};p.ud=function(){this.ac.nr(this.Tb.t());this.dispatchEvent(Ai)};p.cq=function(){var a=this.Tb.t();0<a.length&&(this.mf.yk(a),this.mf.save(),this.close())};p.he=e("ac");function ll(a){return!!a.Ma&&0!=a.Ma.length}ii.prototype.je=s(30,e("ok"));ni.prototype.$d=s(26,function(a){(new Nd).send("/entries/"+a.aa(),"DELETE")});M.prototype.ceil=s(25,function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this});
Lb.prototype.ceil=s(24,function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this});oe.prototype.ceil=s(23,function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this});pe.prototype.ceil=s(22,function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this});
jd.prototype.setInterval=s(21,function(a){this.wd=a;this.w&&this.enabled?(this.stop(),this.start()):this.w&&this.stop()});U.prototype.Ah=s(20,function(a){for(var b=[];ll(this);)b.push(this.removeChild(W(this,0),a));return b});ri.prototype.Hh=s(19,function(a){this.Pm=a;this.c()&&this.me()});ni.prototype.search=s(18,function(a,b,c,d){return this.getEntries("/entries?query\x3d"+encodeURIComponent(a),b,c,d)});Aj.prototype.removeItem=s(17,function(a){(a=this.removeChild(a,!0))&&a.j()});
Ej.prototype.removeItem=s(16,function(a){(a=Gj(this).removeChild(a,!0))&&a.j()});Ij.prototype.removeItem=s(15,function(a){a&&Ta(this.Pa,a)&&a==this.na&&(this.na=null,this.dispatchEvent("select"))});Lj.prototype.removeItem=s(14,function(a){Lj.a.removeItem.call(this,a);this.O&&this.O.removeItem(a)});fe.prototype.km=s(8,function(a){$d(a.target)?(this.dispatchEvent(ie),document.location.reload()):this.dispatchEvent(je)});jf.prototype.reset=s(6,function(){this.wa&&this.wa.reset()});
of.prototype.reset=s(5,function(){V(this,function(a){"function"==typeof a.reset&&a.reset()},this)});Vf.prototype.reset=s(4,function(){this.P("")});Wg.prototype.reset=s(3,function(a){this.Nl=a;for(a=0;a<this.Wa.length;a++){var b=this.qd.id;b&&this.re.Nb(b);this.qd.Nb(this.Wa[a])}this.Wa.length=0;this.Vc.clear();this.Lh=C();this.ql=this.Lk=this.Un=this.Ph=this.Qh=0;b=this.Kd.rb();for(a=0;a<b.length;a++){var c=this.Kd.get(b[a]);c.count=0;c.time=0;c.fg=0;this.Ck.Nb(c)}this.Kd.clear()});
Dh.prototype.reset=s(2,function(){this.set(C())});zi.prototype.reset=s(1,function(){this.c().value=""});Rj.prototype.reset=s(0,function(){this.Tf(0)});function ml(a,b){a.Gb&&a.Gb.j();var c=new jl(b);c.ma(a.Kf);G(a.jd,function(a){a=new a(b,c);c.jd.push(a);c.v&&(a.Ya(),a.oj&&gl(c,a))},a);a.Gb=c}function nl(){var a,b=ni.h();a||(a=new ii);a.Zg=!0;var c=new Nd;c.b("complete",function(b){b=oi(ae(b.target));hi(a,b);mi(a)},!1,b);c.send("/entries");return a}
function ol(a,b){for(var c=a.Ba,d=A(c)?c.split(""):c,f=c.length-1;0<=f;--f)f in d&&b.call(void 0,d[f],f,c)}function pl(a){a=a.Vb.locale;return x(a)?a:"en"}var ql=/&([^;\s<&]+);?/g,rl={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"};function sl(a){for(var b in a)return!1;return!0}
function tl(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}
function ul(a){var b={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'},c=document.createElement("div");return a.replace(ql,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})}function vl(a,b){var c=wl.h().pk,d={title:b||a,type:"request",query:a};xl(c,c.Ra.Ia(),d);c.ne()}function yl(a,b){var c=wl.h();zl(c.jh,a,b)}
function Al(a){return ni.h().search(a,void 0,void 0,void 0)}function Bl(a){a=new a;var b=Ch.h();a.Ea(b)}function Cl(a,b){null!=a&&this.append.apply(this,arguments)}p=Cl.prototype;p.va="";p.set=function(a){this.va=""+a};p.append=function(a,b,c){this.va+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.va+=arguments[d];return this};p.clear=function(){this.va=""};p.toString=e("va");function Dl(a,b){var c="";b&&(c=b.id);X(a,"activedescendant",c)}
function El(a){if(fa(a))return Va(a);a=ud(a);var b=[];vd(a,function(a){b.push(a)});return b}function Fl(a){this.Bh=a}Fl.prototype.dc=function(a){var b=[];Gl(this,a,b);return b.join("")};
function Gl(a,b,c){switch(typeof b){case "string":Hl(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(y(b)){var d=b.length;c.push("[");for(var f="",g=0;g<d;g++)c.push(f),f=b[g],Gl(a,a.Bh?a.Bh.call(b,String(g),f):f,c),f=",";c.push("]");break}c.push("{");d="";for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(f=b[g],"function"!=typeof f&&(c.push(d),Hl(g,c),
c.push(":"),Gl(a,a.Bh?a.Bh.call(b,g,f):f,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}function Hl(a,b){b.push('"',a.replace(nd,function(a){if(a in rl)return rl[a];var b=a.charCodeAt(0),f="\\u";16>b?f+="000":256>b?f+="00":4096>b&&(f+="0");return rl[a]=f+b.toString(16)}),'"')}function Il(a){a.preventDefault()}function Jl(a,b){a=a.parentNode;for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}
function Kl(a,b,c){return cc(document,arguments)}function Ll(a){var b=!H(Db(a),"visible");Hb(a,"visible",b)}function Ml(a){return/^[\s\xa0]*$/.test(null==a?"":String(a))}function Nl(a,b){for(var c=a.split("%s"),d="",f=Array.prototype.slice.call(arguments,1);f.length&&1<c.length;)d+=c.shift()+f.shift();return d+c.join("%s")};function Ol(a,b){P.call(this,"navigate");this.yr=a;this.hs=b}D(Ol,P);function Pl(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};function Ql(a,b,c,d){R.call(this);if(a&&!b)throw Error("Can't use invisible history without providing a blank page.");var f;c?f=c:(f="history_state"+Rl,document.write(Nl(Sl,f,f)),f=Vb(document,f));this.zf=f;this.H=c?N(c)?N(c).parentWindow||N(c).defaultView:window:window;this.Vg=b;I&&!b&&(this.Vg="https"==window.location.protocol?"https:///":'javascript:""');this.w=new jd(Tl);Cc(this,this.w);this.Nd=!a;this.s=new S(this);if(a||Ul)d?a=d:(a="history_iframe"+Rl,b=this.Vg?'src\x3d"'+za(this.Vg)+'"':"",
document.write(Nl(Vl,a,b)),a=Vb(document,a)),this.se=a,this.Xn=!0;Ul&&(this.s.b(this.H,"load",this.Qq),this.Bn=this.Li=!1);this.Nd?Wl(this,this.zb(),!0):Xl(this,this.zf.value);Rl++}D(Ql,R);Ql.prototype.ha=!1;Ql.prototype.Be=!1;Ql.prototype.ze=null;
var Yl=function(a,b){var c=b||Pl;return function(){var b=this||t,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),f=c(ka(a),arguments);return b.hasOwnProperty(f)?b[f]:b[f]=a.apply(this,arguments)}}(function(){return I?8<=document.documentMode:"onhashchange"in t}),Ul=I&&!xb(8),Zl=Ul;p=Ql.prototype;p.Ae=null;p.e=function(){Ql.a.e.call(this);this.s.j();this.za(!1)};
p.za=function(a){if(a!=this.ha)if(Ul&&!this.Li)this.Bn=a;else if(a)if(lb?this.s.b(this.H.document,$l,this.Xq):J&&this.s.b(this.H,"pageshow",this.rh),Yl()&&this.Nd)this.s.b(this.H,"hashchange",this.Rq),this.ha=!0,this.dispatchEvent(new Ol(this.zb(),!1));else{if(!I||this.Li)this.s.b(this.w,kd,B(this.hd,this,!0)),this.ha=!0,Ul||(this.ze=this.zb(),this.dispatchEvent(new Ol(this.zb(),!1))),this.w.start()}else this.ha=!1,this.s.ub(),this.w.stop()};
p.Qq=function(){this.Li=!0;this.zf.value&&Xl(this,this.zf.value,!0);this.za(this.Bn)};p.rh=function(a){a.Oa.persisted&&(this.za(!1),this.za(!0))};p.Rq=function(){var a=am(this.H);a!=this.ze&&this.Md(a,!0)};p.zb=function(){return null!=this.Ae?this.Ae:this.Nd?am(this.H):bm(this)||""};p.Ih=function(a,b){cm(this,a,!1,b)};p.mn=function(a,b){cm(this,a,!0,b)};function am(a){a=a.location.href;var b=a.indexOf("#");return 0>b?"":a.substring(b+1)}
function cm(a,b,c,d){a.zb()!=b&&(a.Nd?(Wl(a,b,c),Yl()||I&&Xl(a,b,c,d),a.ha&&a.hd(!1)):(Xl(a,b,c),a.Ae=a.ze=a.zf.value=b,a.dispatchEvent(new Ol(b,!1))))}function Wl(a,b,c){a=a.H.location;var d=a.href.split("#")[0],f=Ga(a.href,"#");if(Zl||f||b)d+="#"+b;d!=a.href&&(c?a.replace(d):a.href=d)}
function Xl(a,b,c,d){if(a.Xn||b!=bm(a))if(a.Xn=!1,b=encodeURIComponent(String(b)),I){var f=a.se.contentDocument||a.se.contentWindow.document;f.open("text/html",c?"replace":void 0);f.write(Nl(dm,za(d||a.H.document.title),b));f.close()}else if(b=a.Vg+"#"+b,a=a.se.contentWindow)c?a.location.replace(b):a.location.href=b}
function bm(a){if(I)return a=a.se.contentDocument||a.se.contentWindow.document,a.body?ya(a.body.innerHTML):null;var b=a.se.contentWindow;if(b){var c;try{c=ya(am(b))}catch(d){return a.Be||(!0!=a.Be&&a.w.setInterval(em),a.Be=!0),null}a.Be&&(!1!=a.Be&&a.w.setInterval(Tl),a.Be=!1);return c||null}return null}p.hd=function(a){if(this.Nd){var b=am(this.H);b!=this.ze&&this.Md(b,a)}if(!this.Nd||Ul)if(b=bm(this)||"",null==this.Ae||b==this.Ae)this.Ae=null,b!=this.ze&&this.Md(b,a)};
p.Md=function(a,b){this.ze=this.zf.value=a;this.Nd?(Ul&&Xl(this,a),Wl(this,a)):Xl(this,a);this.dispatchEvent(new Ol(this.zb(),b))};p.Xq=function(){this.w.stop();this.w.start()};var $l=["mousedown","keydown","mousemove"],dm="\x3ctitle\x3e%s\x3c/title\x3e\x3cbody\x3e%s\x3c/body\x3e",Vl='\x3ciframe id\x3d"%s" style\x3d"display:none" %s\x3e\x3c/iframe\x3e',Sl='\x3cinput type\x3d"text" name\x3d"%s" id\x3d"%s" style\x3d"display:none"\x3e',Rl=0,Tl=150,em=1E4;function fm(a,b){R.call(this);this.H=a||window;this.Rh=b||null;Q(this.H,"popstate",this.Je,!1,this);Q(this.H,"hashchange",this.Je,!1,this)}D(fm,R);p=fm.prototype;p.ha=!1;p.eg=!0;p.Lf="/";p.za=function(a){a!=this.ha&&(this.ha=a)&&this.dispatchEvent(new Ol(this.zb(),!1))};p.zb=function(){if(this.eg){var a=this.H.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)}return this.Rh?this.Rh.ps(this.Lf,this.H.location):this.H.location.pathname.substr(this.Lf.length)};
p.Ih=function(a,b){a!=this.zb()&&(this.H.history.pushState(null,b||this.H.document.title||"",gm(this,a)),this.dispatchEvent(new Ol(a,!1)))};p.mn=function(a,b){this.H.history.replaceState(null,b||this.H.document.title||"",gm(this,a));this.dispatchEvent(new Ol(a,!1))};p.e=function(){$c(this.H,"popstate",this.Je,!1,this);this.eg&&$c(this.H,"hashchange",this.Je,!1,this)};p.or=function(a){this.eg!=a&&(a?Q(this.H,"hashchange",this.Je,!1,this):$c(this.H,"hashchange",this.Je,!1,this),this.eg=a)};
function gm(a,b){return a.eg?"#"+b:a.Rh?a.Rh.Rr(b,a.Lf,a.H.location):a.Lf+b+a.H.location.search}p.Je=function(){this.ha&&this.dispatchEvent(new Ol(this.zb(),!0))};function hm(a,b,c){this.pattern=a;this.gd=b;this.oe=c;this.ol=!0}function im(){R.call(this);this.sa=new S(this);this.sa.b(document,"click",this.lp);this.Aj=!1;this.pn=[];this.dg=""}D(im,R);w(im);im.prototype.Ea=function(a){var b=window,b=b.history&&b.history.pushState?new fm:new Ql;b.Lf=a.path_prefix;b.za(!0);this.tm=b;b.or||(a=b.zb(),this.navigate(""),this.navigate(a));this.sa.b(b,"navigate",this.Jp,!1,this)};
im.prototype.lp=function(a){if(0==a.button){var b=a.target.href?a.target:Jl(a.target,function(a){return a.href?!0:!1});b&&b.href&&("redirect"!=b.rel&&"_blank"!=b.target)&&(a.preventDefault(),a=Ld(Md(5,b.href))||"",this.navigate(a))}};im.prototype.Jp=function(a){if(!this.Aj){var b=a.yr;b!=this.dg&&(a=Qa(this.pn,function(a){var d=a.pattern.exec(b);d?(a.gd.apply(a.oe,d),a=!0):a=!1;return a},this))&&(a.ol?(this.dispatchEvent(jm),km(this,b)):km(this,this.dg,!0))}};
function lm(a,b,c,d,f){A(b)&&(b=RegExp("^"+Ha(b).replace(/\\:\w+/g,"(\\w+)").replace(/\\\*/g,"(.*)").replace(/\\\[/g,"(").replace(/\\\]/g,")?").replace(/\\\{/g,"(?:").replace(/\\\}/g,")?")+"$"));b=new hm(b,c,d);x(f)&&(b.ol=f);a.pn.push(b)}im.prototype.navigate=function(a){"/"==a.substr(0,1)&&(a=a.substr(1));this.tm.Ih(a)};function km(a,b,c){a.dg=b;c&&("/"==b.substr(0,1)&&(b=b.substr(1)),a.Aj=!0,a.tm.mn(b),a.Aj=!1)}var jm="navigate";function mm(){U.call(this)}D(mm,U);function nm(a,b,c){R.call(this);this.target=a;this.handle=b||a;this.Lm=c||new pe(NaN,NaN,NaN,NaN);this.A=N(a);this.s=new S(this);Cc(this,this.s);Q(this.handle,["touchstart","mousedown"],this.Qe,!1,this)}D(nm,R);var om=I||J&&L("1.9.3");p=nm.prototype;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.Mn=0;p.Nn=0;p.Xd=0;p.Yd=0;p.ha=!0;p.nd=!1;p.sj=0;p.Lq=0;p.vq=!1;p.Wh=!1;p.i=e("s");p.tk=function(a){this.sj=Math.pow(a,2)};p.yn=ba("Fh");p.za=ba("ha");
p.e=function(){nm.a.e.call(this);$c(this.handle,["touchstart","mousedown"],this.Qe,!1,this);this.s.ub();om&&this.A.releaseCapture();this.handle=this.target=null};function pm(a){x(a.Qb)||(a.Qb=Ae(a.target));return a.Qb}
p.Qe=function(a){var b="mousedown"==a.type;if(!this.ha||this.nd||b&&!Ic(a))this.dispatchEvent("earlycancel");else{qm(a);if(0==this.sj)if(this.dispatchEvent(new rm("start",this,a.clientX,a.clientY,a)))this.nd=!0,a.preventDefault();else return;else a.preventDefault();var b=this.A,c=b.documentElement,d=!om;this.s.b(b,["touchmove","mousemove"],this.Wp,d);this.s.b(b,["touchend","mouseup"],this.pd,d);om?(c.setCapture(!1),this.s.b(c,"losecapture",this.pd)):this.s.b(b?b.parentWindow||b.defaultView:window,
"blur",this.pd);I&&this.vq&&this.s.b(b,"dragstart",Il);this.Fh&&this.s.b(this.Fh,"scroll",this.en,d);this.clientX=this.Mn=a.clientX;this.clientY=this.Nn=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Wh?(a=this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=te(a,"position")||(c=N(a).documentElement),c?(J?(d=Ce(c),b+=d.left):xb(8)&&(d=Ce(c),b-=d.left),a=Ae(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.Xd=a;this.Yd=this.target.offsetTop;this.bk=wc(Tb(this.A));
this.Lq=C()}};p.pd=function(a,b){this.s.ub();om&&this.A.releaseCapture();if(this.nd){qm(a);this.nd=!1;var c=sm(this,this.Xd),d=tm(this,this.Yd);this.dispatchEvent(new rm("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function qm(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.Ya(a.Oa.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.Ya(a.Oa.changedTouches[0],a.currentTarget)}
p.Wp=function(a){if(this.ha){qm(a);var b=(this.Wh&&pm(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.nd){var d=this.Mn-this.clientX,f=this.Nn-this.clientY;if(d*d+f*f>this.sj)if(this.dispatchEvent(new rm("start",this,a.clientX,a.clientY,a)))this.nd=!0;else{this.Ic||this.pd(a);return}}c=um(this,b,c);b=c.x;c=c.y;this.nd&&this.dispatchEvent(new rm("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(vm(this,a,b,c),a.preventDefault())}};function um(a,b,c){var d=wc(Tb(a.A));b+=d.x-a.bk.x;c+=d.y-a.bk.y;a.bk=d;a.Xd+=b;a.Yd+=c;b=sm(a,a.Xd);a=tm(a,a.Yd);return new M(b,a)}p.en=function(a){var b=um(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;vm(this,a,b.x,b.y)};function vm(a,b,c,d){a.Wh&&pm(a)?a.target.style.right=c+"px":a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new rm("drag",a,b.clientX,b.clientY,b,c,d))}
function sm(a,b){var c=a.Lm,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function tm(a,b){var c=a.Lm,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function rm(a,b,c,d,f,g,h,k){P.call(this,a);this.clientX=c;this.clientY=d;this.ll=f;this.left=x(g)?g:b.Xd;this.top=x(h)?h:b.Yd;this.Wo=b;this.Vo=!!k}D(rm,P);function wm(){R.call(this);this.Ua=[];this.ee=[];this.Ni={};this.s=new S(this);this.zq=this.Am=!1;this.Ok=!0}D(wm,R);p=wm.prototype;p.um=0;p.tk=ba("um");
p.Ya=function(){if(!this.Am){for(var a=0,b=this.Ua.length;a<b;a++)for(var c=jc(this.Ua[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,k=ka(h);this.Ni[k]=g;this.Tl&&(this.s.b(g,"mouseover",this.zp),this.s.b(g,"mouseout",this.yp));this.Sl&&(this.s.b(h,"mouseover",this.xp),this.s.b(h,"mouseout",this.wp));this.ee.push(g);this.s.b(h,["mousedown","touchstart"],this.Yp)}this.Am=!0}};
p.e=function(){this.s.j();for(var a=0,b=this.Ua.length;a<b;a++){var c=this.Ua[a];c.To=void 0;c.ce=void 0}this.Ua.length=0;this.ee.length=0;this.Ni=null;xm(this);wm.a.e.call(this)};function ym(a,b){for(var c=0,d=a.Ua.length;c<d;c++){var f=a.Ua[c];f.be=He(f)}c=0;for(d=a.ee.length;c<d;c++)f=a.ee[c],f!=b&&(f.be=He(f))}
p.Yp=function(a){var b=ka(a.currentTarget);this.u=this.Ni[b];this.ca=this.xi(this.u);this.Xo&&bf(this.ca,this.Xo||[]);this.ca.style.margin="0";this.ca.style.position="absolute";this.ca.style.visibility="hidden";N(this.u).body.appendChild(this.ca);b=ze(this.u);Ee(this.ca,b);this.Z=new nm(this.ca);this.Z.tk(this.um);Q(this.Z,"start",this.Ng,!1,this);Q(this.Z,"end",this.Mg,!1,this);Q(this.Z,"earlycancel",this.vi,!1,this);this.Z.Qe(a)};
p.Ng=function(a){if(this.dispatchEvent(new zm("beforedragstart",this,a.ll,this.u,null,null))){this.th=this.u.parentNode;this.Hl=this.$j=void 0!=this.u.nextElementSibling?this.u.nextElementSibling:lc(this.u.nextSibling,!0);this.Fi=this.th;this.Ei?bf(this.u,this.Ei||[]):this.u.style.visibility="hidden";var b=Fe(this.ca);this.ca.kp=b.width/2;this.ca.jp=b.height/2;this.ca.style.visibility="";this.Ok&&(this.u.style.display="none");ym(this,this.u);this.u.style.display="";Q(this.Z,"drag",this.Ap,!1,this);
this.dispatchEvent(new zm("dragstart",this,a.ll,this.u,this.ca,this.Z))}else a.preventDefault(),this.vi()};
p.Ap=function(a){var b=ze(this.ca),b=new M(b.x+this.ca.kp,b.y+this.ca.jp),c;a:{c=null;if("none"!=this.u.style.display){c=this.u.parentNode;var d=He(c);if(Am(b,d))break a}for(var d=0,f=this.Ua.length;d<f;d++){var g=this.Ua[d];if(g!=c&&Am(b,g.be)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var k,l,d=!1,f=void 0;switch(c.To){case 0:h=b.y;k=Bm;l=Cm;break;case 4:d=!0;case 2:h=b.x;k=Dm;l=Cm;break;case 5:d=!0;case 3:h=b.x,k=Em,l=Fm}for(var g=null,
n,q=jc(c),v=0,Xa=q.length;v<Xa;v++){var oa=q[v];if(oa!=this.u){var Da=k(oa.be);if(d){var Pa=Gm(oa,b);x(f)||(f=Pa);l(h,Da)&&(void 0==n||Pa<f||Pa==f&&(l(Da,n)||Da==n))&&(g=oa,n=Da);Pa<f&&(f=Pa)}else l(h,Da)&&(void 0==n||l(Da,n))&&(g=oa,n=Da)}}h=null!==g&&Gm(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new zm("beforedragmove",this,a,this.u,this.ca,this.Z,b,c,h)))return!1;if(c)this.Ok?this.u.parentNode==c&&(void 0!=this.u.nextElementSibling?this.u.nextElementSibling:lc(this.u.nextSibling,!0))==h||
c.insertBefore(this.u,h):h&&(this.Hl=h),this.u.style.display="",c.ce&&af(c,c.ce);else for(this.zq||(this.u.style.display="none"),k=0,l=this.Ua.length;k<l;k++)n=this.Ua[k],n.ce&&cf(n,n.ce);c!=this.Fi&&(this.Fi=c,ym(this,this.u));this.dispatchEvent(new zm("dragmove",this,a,this.u,this.ca,this.Z,b,c,h));return!1};p.vi=function(){xm(this);this.Z=this.ca=this.$j=this.th=this.Fi=this.u=null;for(var a=0,b=this.Ua.length;a<b;a++)this.Ua[a].be=null;a=0;for(b=this.ee.length;a<b;a++)this.ee[a].be=null};
p.Mg=function(a){if(!this.dispatchEvent(new zm("beforedragend",this,a,this.u,this.ca,this.Z)))return!1;this.Ok||this.th.insertBefore(this.u,this.Hl);xm(this);this.dispatchEvent(new zm("dragend",this,a,this.u,this.ca,this.Z));this.vi();return!0};function xm(a){Dc(a.Z);a.ca&&ic(a.ca);a.u&&"none"==a.u.style.display&&(a.th.insertBefore(a.u,a.$j),a.u.style.display="");a.Ei&&a.u?df(a.u,a.Ei||[]):a.u&&(a.u.style.visibility="visible");for(var b=0,c=a.Ua.length;b<c;b++){var d=a.Ua[b];d.ce&&cf(d,d.ce)}}
p.zp=function(a){bf(a.currentTarget,this.Tl||[])};p.yp=function(a){df(a.currentTarget,this.Tl||[])};p.xp=function(a){bf(a.currentTarget,this.Sl||[])};p.wp=function(a){df(a.currentTarget,this.Sl||[])};function Am(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Gm(a,b){var c=a.be;return Math.abs(b.y-(c.top+(c.height-1)/2))}function Bm(a){return a.top+a.height-1}function Dm(a){return a.left+a.width-1}function Em(a){return a.left||0}function Cm(a,b){return a<b}
function Fm(a,b){return a>b}p.xi=function(a){var b=a.cloneNode(!0);switch(a.tagName.toLowerCase()){case "tr":return Kl("table",null,Kl("tbody",null,b));case "td":case "th":return Kl("table",null,Kl("tbody",null,Kl("tr",null,b)));default:return b}};function zm(a,b,c,d,f,g,h,k,l){P.call(this,a);this.Wr=b;this.event=c;this.Tr=d;this.Yr=f;this.Wo=g;this.Zr=h;this.es=k;this.fs=l}D(zm,P);var Hm,Im;function kl(a){var b=a.getTime(),c;c=C();var d=Math.floor((c-b)/6E4);c=!1;0>d&&(c=!0,d*=-1);60>d?c=Jm(d,c,0):(d=Math.floor(d/60),24>d?c=Jm(d,c,1):(d=new Date(C()),d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0),d=Math.ceil((d.getTime()-b)/864E5),c&&(d*=-1),c=14>d?Jm(d,c,2):""));c&&(c=" ("+c+")");1440>Math.floor((C()-b)/6E4)?(Im||(Im=new Vj(7)),a=Xj(Im,a)+c):(Hm||(Hm=new Vj(0)),a=Xj(Hm,a)+c);return a}
function Jm(a,b,c){var d=Zj(""+a);return b||0!=c?b&&0==c?1==a?"in "+(d+" Minute"):"in "+(d+" Minuten"):b||1!=c?b&&1==c?1==a?"in "+(d+" Stunde"):"in "+(d+" Stunden"):b||2!=c?b&&2==c?1==a?"in "+(d+" Tag"):"in "+(d+" Tagen"):"":1==a?"vor "+(d+" Tag"):"vor "+(d+" Tage"):1==a?"vor "+(d+" Stunde"):"vor "+(d+" Stunden"):1==a?"vor "+(d+" Minute"):"vor "+(d+" Minuten")};function ji(){R.call(this);this.Pi={}}D(ji,R);w(ji);ji.prototype.get=function(a){return this.Pi[a]||null};ji.prototype.set=function(a,b){this.Pi[a]=b;b.Sb(this)};ji.prototype.remove=function(a){return Pb(this.Pi,a)};function Km(a,b){this.hc=a||"";this.mf=b||null;this.Vf=[];this.tg=[];this.Iq=[];this.Aq=[];this.si={};this.rk={}}Km.prototype.nr=function(a){this.hc=a;this.rk={};this.si={};a=twttr.txt.extractHashtagsWithIndices(this.hc);this.Vf=[];this.tg=[];for(var b=0;b<a.length;b++){var c=a[b],d=this.hc.slice(c.gs[1]),d=/^:(?:(?:"([^"]*)")|([^\s"]+))/g.exec(d),f=null;null!==d&&(f=d[1]?d[1]:d[2],void 0===f&&(f=""));d=f;null===d?-1==this.Vf.indexOf(c.rm)&&this.Vf.push(c.rm):this.tg.push({key:c.rm,value:d})}};
Km.prototype.em=function(a){var b=this.si[a];x(b)||(b=(new a).parse(this),this.si[a]=b);return b};function Lm(a,b){R.call(this);this.$b=a;this.Gf=this.$b.Lc();this.ns=this.$b.Lc();this.ac=b;this.Bm=!1;this.Sb(ji.h())}D(Lm,R);Lm.prototype.he=e("ac");Lm.prototype.toString=function(){if(!this.Bm){this.dispatchEvent(Mm);for(var a=this.Gf,b=this.ac.Vf,c=0;c<b.length;c++)var d="#"+b[c],a=a.replace(d,'\x3ca class\x3d"hash-link simple" href\x3d"/search/'+encodeURIComponent(b[c])+'"\x3e'+d+"\x3c/a\x3e");this.Gf=a;this.Bm=!0}return this.Gf};var Mm="entry_text_parse";function Nm(a){R.call(this);var b;if(x(a)){var c=ji.h();if(b=c.get(a))return b;c.set(a,this)}this.ja=a||"";this.hc="";this.wn=this.Hk=this.ac=this.Ci=null}D(Nm,de);function pi(a){var b=new Nm(a._id);b.update(a);b.wn=a;return b}p=Nm.prototype;p.aa=e("ja");p.yk=function(a){this.hc=a;this.Hk=null;this.dispatchEvent(ki)};p.Lc=e("hc");
p.he=function(){if(!this.ac){var a=this.ac=new Km(this.hc,this),b=this.wn||{};a.rk=b;x(b.simple_tags)&&(a.Vf=b.simple_tags);x(b.complex_tags)&&(a.tg=b.complex_tags);x(b.mentions)&&(a.Iq=b.mentions);x(b.keywords)&&(a.Aq=b.keywords)}return this.ac};function Om(a){return a.Hk||(a.Hk=new Lm(a,a.he()))}p.save=function(a,b){var c=ni.h();this.aa()?c.save(this,a,b):c.save(this,function(){ji.h().set(this.aa(),this);this.dispatchEvent(li);ha(a)&&a.call(b,this)},this)};
p.$d=function(){var a=ni.h();this.ja&&(a.$d(this),this.ja="");this.dispatchEvent("destroy")};p.update=function(a){var b={};x(a._id)&&(b.ja=a._id);x(a.text)&&(b.hc=a.text);x(a.created_date)&&(b.Ci=A(a.created_date)?Gi(a.created_date):a.created_date);Nm.a.update.call(this,b)};p.dc=function(){return{text:this.hc}};var li="entry_created",ki="text_changed";function Pm(a){var b='\x3cli class\x3d"entry"\x3e\x3cdiv class\x3d"entry-actions"\x3e\x3ca class\x3d"action-edit" href\x3d"'+ig(a.Yo)+'"\x3e\x3c/a\x3e\x3ca class\x3d"action-delete" href\x3d"'+ig(a.So)+'"\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-body"\x3e',c;c=(c=a.body)&&c.vg===dg?"zSoyz":String(c);return b+c+'\x3c/div\x3e\x3cdiv class\x3d"entry-info"\x3e\x3cspan class\x3d"entry-date"\x3e'+ig(a.o)+"\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e"};function Qm(a){U.call(this);this.bb=a}D(Qm,U);Qm.prototype.f=function(){var a=this.bb,b=kl(a.Ci),a={Yo:"/edit/"+a.aa(),So:"/delete/"+a.aa(),body:Om(a).toString(),o:b},a=eg(Pm,a);this.m(a)};Qm.prototype.g=function(){Qm.a.g.call(this);var a=this.bb;this.i().b(a,ki,this.ud);Om(a).dispatchEvent({type:"entry_display",Ar:this})};Qm.prototype.ud=function(){var a=Om(this.bb).toString();this.I("entry-body").innerHTML=a};function Rm(a){U.call(this);this.lf=a;this.lf.forEach(function(a){Sm(this,a)},this);this.Rl=new wm;this.Rl.tk(10)}D(Rm,U);p=Rm.prototype;p.f=function(){var a=this.p().f("ul","entry-list");this.m(a)};p.g=function(){Rm.a.g.call(this);this.Hh();this.i().b(this.lf,di,this.Bp).b(this.lf,gi,this.Fp).b(Hh,"resize",this.Hh)};p.Hh=function(){var a=this.c(),b=ac(window),c=ze(a).y;qe(a,"height",b.height-c+"px")};p.Bp=function(a){Sm(this,a.item,a.index)};
p.Fp=function(a){(a=this.removeChild(W(this,a.index),!0))&&a.j()};function Sm(a,b,c){b=new Qm(b);ga(c)?a.jc(b,c,!0):a.V(b,!0)}p.e=function(){this.Rl.j()};function Tm(a){U.call(this);this.bd=new Vf;Wf(this.bd,"Eintrag hinzufuegen ...");this.Rn=a||""}D(Tm,U);p=Tm.prototype;p.f=function(){var a=this.p(),a=a.f("div","quick-create-entry",[a.f("div","actions")]);this.m(a)};p.m=function(a){Tm.a.m.call(this,a);this.V(this.bd,!0)};p.g=function(){Tm.a.g.call(this);this.i().b(this.bd,"submit",this.eq).b(this.bd,"focus",this.td)};p.td=function(){!this.bd.t()&&this.Rn&&this.bd.P(this.Rn+" ")};
p.eq=function(){var a=this.bd.t();if(a){var b=new Nm;b.yk(a);b.save();this.bd.reset()}};function Um(a){return'\x3cdiv class\x3d"entry-list-container"\x3e\x3cdiv class\x3d"entry-list-actions"\x3e\x3cdiv class\x3d"action action-close" title\x3d"Schließen" data-action\x3d"close"\x3e\x3c/div\x3e\x3cdiv class\x3d"action action-toggle" data-action\x3d"toggle"\x3e\x3c/div\x3e\x3cul class\x3d"entry-list-menu"\x3e\x3cli class\x3d"action-save" data-action\x3d"save"\x3eSpeichern\x3c/li\x3e\x3cli class\x3d"action-delete" data-action\x3d"delete"\x3eAlle löschen\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3ch3\x3e'+
ig(a.title)+"\x3c/h3\x3e\x3c/div\x3e"};function Vm(a,b){U.call(this);this.Qi=new Rm(a);this.cr=new Tm;this.Ub=b||a.je()}D(Vm,U);p=Vm.prototype;p.f=function(){var a=eg(Um,{title:this.Ub});this.m(a)};p.m=function(a){Vm.a.m.call(this,a);this.V(this.cr,!0);this.V(this.Qi,!0)};p.g=function(){Vm.a.g.call(this);this.i().b(this.I("entry-list-actions"),"click",this.mp)};p.Jk=function(){var a=this.I("entry-list-menu");Ll(a);H(Db(a),"visible")?this.i().b(document.body,"click",this.Jk,!0):this.i().G(document.body,"click",this.Jk,!0)};p.je=function(){return this.Qi.lf.je()};
p.mp=function(a){switch(a.target.getAttribute("data-action")){case "toggle":this.Jk();break;case "close":this.close();break;case "save":vl(this.je(),this.Ub);break;case "delete":ol(this.Qi.lf,function(a){a.$d()}),this.close()}};p.close=function(){this.getParent().removeChild(this);this.j()};function Wm(a){this.nh=a;this.lr=new Fl}Wm.prototype.set=function(a,b){x(b)?this.nh.set(a,this.lr.dc(b)):this.nh.remove(a)};Wm.prototype.get=function(a){var b;try{b=this.nh.get(a)}catch(c){return}if(null!==b)try{return md(b)}catch(d){throw"Storage: Invalid value was encountered";}};Wm.prototype.remove=function(a){this.nh.remove(a)};function Xm(){};function Ym(a){Wm.call(this,a)}D(Ym,Wm);function Zm(a){this.data=a}function $m(a){return!x(a)||a instanceof Zm?a:new Zm(a)}Ym.prototype.set=function(a,b){Ym.a.set.call(this,a,$m(b))};Ym.prototype.ej=function(a){a=Ym.a.get.call(this,a);if(!x(a)||a instanceof Object)return a;throw"Storage: Invalid value was encountered";};Ym.prototype.get=function(a){if(a=this.ej(a)){if(a=a.data,!x(a))throw"Storage: Invalid value was encountered";}else a=void 0;return a};function an(a){Wm.call(this,a)}D(an,Ym);an.prototype.set=function(a,b,c){if(b=$m(b)){if(c){if(c<C()){an.prototype.remove.call(this,a);return}b.expiration=c}b.creation=C()}an.a.set.call(this,a,b)};an.prototype.ej=function(a,b){var c=an.a.ej.call(this,a);if(c){var d;if(d=!b){d=c.creation;var f=c.expiration;d=!!f&&f<C()||!!d&&d>C()}if(d)an.prototype.remove.call(this,a);else return c}};function bn(){}D(bn,Xm);bn.prototype.M=function(){var a=0;vd(this.Eb(!0),function(){a++});return a};bn.prototype.clear=function(){var a=El(this.Eb(!0)),b=this;G(a,function(a){b.remove(a)})};function cn(a){this.Cb=a}D(cn,bn);p=cn.prototype;p.zj=function(){if(!this.Cb)return!1;try{return this.Cb.setItem("__sak","1"),this.Cb.removeItem("__sak"),!0}catch(a){return!1}};p.set=function(a,b){try{this.Cb.setItem(a,b)}catch(c){if(0==this.Cb.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};p.get=function(a){a=this.Cb.getItem(a);if(!A(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};p.remove=function(a){this.Cb.removeItem(a)};
p.M=function(){return this.Cb.length};p.Eb=function(a){var b=0,c=this.Cb,d=new td;d.next=function(){if(b>=c.length)throw sd;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!A(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};p.clear=function(){this.Cb.clear()};p.key=function(a){return this.Cb.key(a)};function dn(){var a=null;try{a=window.localStorage||null}catch(b){}this.Cb=a}D(dn,cn);function en(a,b){if(I&&!xb(9)){fn||(fn=new wd);this.gb=fn.get(a);this.gb||(b?this.gb=document.getElementById(b):(this.gb=document.createElement("userdata"),this.gb.addBehavior("#default#userData"),document.body.appendChild(this.gb)),fn.set(a,this.gb));this.Re=a;try{this.gb.load(this.Re)}catch(c){this.gb=null}}}D(en,bn);var gn={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},fn=null;p=en.prototype;p.gb=null;p.Re=null;
function hn(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return gn[a]})}p.zj=function(){return!!this.gb};p.set=function(a,b){this.gb.setAttribute(hn(a),b);jn(this)};p.get=function(a){a=this.gb.getAttribute(hn(a));if(!A(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};p.remove=function(a){this.gb.removeAttribute(hn(a));jn(this)};p.M=function(){return kn(this).attributes.length};
p.Eb=function(a){var b=0,c=kn(this).attributes,d=new td;d.next=function(){if(b>=c.length)throw sd;var d=c[b++];if(a)return decodeURIComponent(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!A(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};p.clear=function(){for(var a=kn(this),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);jn(this)};function jn(a){try{a.gb.save(a.Re)}catch(b){throw"Storage mechanism: Quota exceeded";}}
function kn(a){return a.gb.XMLDocument.documentElement};function ln(a,b){this.De=a;this.Dd=b+"::"}D(ln,bn);p=ln.prototype;p.De=null;p.Dd="";p.set=function(a,b){this.De.set(this.Dd+a,b)};p.get=function(a){return this.De.get(this.Dd+a)};p.remove=function(a){this.De.remove(this.Dd+a)};p.Eb=function(a){var b=this.De.Eb(!0),c=this,d=new td;d.next=function(){for(var d=b.next();d.substr(0,c.Dd.length)!=c.Dd;)d=b.next();return a?d.substr(c.Dd.length):c.De.get(d)};return d};function mn(){var a=new dn;(a=a.zj()?new ln(a,"appdata"):null)||(a=new en("appdata"),a=a.zj()?a:null);Wm.call(this,a)}D(mn,an);w(mn);function nn(){U.call(this);var a=mn.h().get(this.Re);if(a)for(var b=0;b<a.length;b++){var c=a[b],d=ni.h().getEntries(c.searchPattern,void 0,void 0,void 0);zl(this,d,c.title)}else a=nl(),b=Al("#start\x3dtoday"),zl(this,a,"Neueste Einträge"),zl(this,b,"Tagesplanung")}D(nn,mm);nn.prototype.f=function(){var a=this.p().f("div","view list-view");this.m(a)};function zl(a,b,c){b=new Vm(b,c);a.V(b,!0);on(a);pn(a)}nn.prototype.wi=function(){this.Ah(!0)};
nn.prototype.removeChild=function(a,b){var c=nn.a.removeChild.call(this,a,b);on(this);pn(this);return c};function pn(a){var b=We(a);a.c().style.width=ve(300*b,!0)}nn.prototype.Re="hash5-listview-opend";function on(a){var b=[];V(a,function(a){b.push({searchPattern:a.je(),title:a.Ub})});mn.h().set(a.Re,b)};function qn(){U.call(this);this.Me=new Vf;Wf(this.Me,"Suchen...");this.Zf=null;this.tn=""}D(qn,U);w(qn);p=qn.prototype;p.m=function(a){qn.a.m.call(this,a);this.Me.ma(this.I("search-input"));this.Zf=this.I("search-suggests")};p.g=function(){qn.a.g.call(this);this.i().b(this.Me,"change",this.hq).b(this.Me,"submit",this.Kp)};p.hq=function(){var a=this.Me.t(),b=new ni;3<a.length&&a!=this.tn&&(b.search(a,void 0,this.gq,this),this.Pr=!1);0==a.length&&this.Tg();this.tn=a};
p.Kp=function(){var a=this.Me.t(),b=new ni;3<a.length&&(b.search(a,void 0,function(b){var d=wl.h();zl(d.jh,b,a)},this),this.Tg())};p.gq=function(a){hc(this.Zf);if(0<a.count()){Fb(this.Zf,"hidden");var b=this.p();a.forEach(function(a){a=b.f("li",void 0,a.Lc());gc(this.Zf,a)},this);this.i().Tc(document.body,"click",this.Tg)}};p.Tg=function(){Fb(this.c(),"visible");Eb(this.Zf,"hidden");this.i().G(document.body,"click",this.Tg)};p.toggle=function(){Ll(this.c())};ef("search-field",function(){return qn.h()});function rn(){return'\x3cdiv class\x3d"settings"\x3e\x3ch2\x3eEinstellungen\x3c/h2\x3e\x3cdiv class\x3d"form-wrapper"\x3e\x3c/div\x3e\x3cbutton class\x3d"btn enabled primary btn-save"\x3eSpeichern\x3c/button\x3e\x3cbutton class\x3d"btn enabled primary btn-cancle"\x3eAbbrechen\x3c/button\x3e\x3c/div\x3e'};function sn(){U.call(this);this.q=new of}D(sn,U);sn.prototype.f=function(){var a=hg(rn);this.m(a);this.V(this.q);this.q.ma(this.I("form-wrapper"))};sn.prototype.g=function(){sn.a.g.call(this);var a=tn.h();a.ba(!0);this.i().b(a,"close",this.close);var a=this.I("btn-save"),b=this.I("btn-cancle");this.i().b(a,"click",this.dq).b(b,"click",this.close);a=pf(this.q,"Sprache","select",{fieldName:"language",options:[{text:"Deutsch",$b:"de"},{text:"English",$b:"en"}]});b=pl(fe.h());a.wa.P(b)};
sn.prototype.dq=function(){var a=this.q.getData(),b=fe.h(),a=a.language;pl(b)!=a&&(b.Vb.locale=a,ke(b,function(){document.location.reload()}));this.close()};sn.prototype.close=function(){tn.h().ba(!1);this.j()};function un(a){R.call(this);this.d=a;a=I?"focusout":"blur";this.Cq=Q(this.d,I?"focusin":"focus",this,!I);this.Dq=Q(this.d,a,this,!I)}D(un,R);un.prototype.handleEvent=function(a){var b=new Gc(a.Oa);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};un.prototype.e=function(){un.a.e.call(this);ad(this.Cq);ad(this.Dq);delete this.d};function vn(a,b,c){U.call(this,c);this.Sa=b||wn;this.qe=a}D(vn,U);var xn={};p=vn.prototype;p.qk=!1;p.of=!1;p.zr=null;p.no="";p.dh=!0;p.zg=-1;p.e=function(){vn.a.e.call(this);this.Ra&&(this.Ra.removeNode(this),this.Ra=null);this.d=null};
p.Xg=function(){var a=this.c();if(a){var b=yn(this);b&&!b.id&&(b.id=this.aa()+".label");Ef(a,"treeitem");X(a,"selected",!1);X(a,"expanded",!1);X(a,"level",this.rd());b&&X(a,"labelledby",b.id);(a=this.Kg())&&Ef(a,"presentation");(a=this.$i())&&Ef(a,"presentation");if(a=zn(this))if(Ef(a,"group"),a.hasChildNodes())for(a=We(this),b=1;b<=a;b++){var c=W(this,b-1).c();X(c,"setsize",a);X(c,"posinset",b)}}};p.f=function(){var a=new Cl;An(this,a);var b=this.p();this.d=fc(b.A,a.toString())};
p.g=function(){vn.a.g.call(this);xn[this.aa()]=this;this.Xg()};p.ia=function(){vn.a.ia.call(this);delete xn[this.aa()]};p.jc=function(a,b){var c=W(this,b-1),d=W(this,b);vn.a.jc.call(this,a,b);a.Ed=c;a.Mb=d;c?c.Mb=a:this.$l=a;d?d.Ed=a:this.Fm=a;var f=this.Ia();f&&Bn(a,f);Cn(a,this.rd()+1);if(this.c()&&(this.We(),this.qb())){f=zn(this);a.c()||a.f();var g=a.c(),h=d&&d.c();f.insertBefore(g,h);this.v&&a.g();d||(c?c.We():(T(f,!0),this.Zc(this.qb())))}};
p.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.jc(a,b?Xe(this,b):We(this));return a};
p.removeChild=function(a){var b=this.Ia(),c=b?b.Ib():null;if(c==a||a.contains(c))b.hasFocus()?(this.select(),ld(this.Vq,10,this)):this.select();vn.a.removeChild.call(this,a);this.Fm==a&&(this.Fm=a.Ed);this.$l==a&&(this.$l=a.Mb);a.Ed&&(a.Ed.Mb=a.Mb);a.Mb&&(a.Mb.Ed=a.Ed);c=!a.Mb;a.Ra=null;a.zg=-1;if(b&&(b.removeNode(this),this.v)){b=zn(this);if(a.v){var d=a.c();b.removeChild(d);a.ia()}c&&(c=W(this,We(this)-1))&&c.We();ll(this)||(b.style.display="none",this.We(),this.Kg().className=this.Ig())}return a};
p.remove=vn.prototype.removeChild;p.Vq=function(){this.select()};p.rd=function(){var a=this.zg;0>a&&(a=(a=this.getParent())?a.rd()+1:0,Cn(this,a));return a};function Cn(a,b){if(b!=a.zg){a.zg=b;var c=Dn(a);if(c){var d=Math.max(0,(a.rd()-1)*a.Sa.xj)+"px";a.we()?c.style.paddingRight=d:c.style.paddingLeft=d}V(a,function(a){Cn(a,b+1)})}}p.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};p.Yi=function(){var a=[];V(this,function(b){a.push(b)});return a};p.$g=e("qk");
p.select=function(){var a=this.Ia();a&&a.fc(this)};function En(a,b){if(a.qk!=b){a.qk=b;Fn(a);var c=a.c();c&&(X(c,"selected",b),b&&(c=a.Ia().c(),X(c,"activedescendant",a.aa())))}}p.qb=e("of");
p.Zc=function(a){var b=a!=this.of;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){var c;this.of=a;c=this.Ia();var d=this.c();if(ll(this)){if(!a&&(c&&this.contains(c.Ib()))&&this.select(),d){if(c=zn(this))if(T(c,a),a&&this.v&&!c.hasChildNodes()){var f=new Cl;V(this,function(a){An(a,f)});c.innerHTML=f.toString();V(this,function(a){a.g()})}this.We()}}else(c=zn(this))&&T(c,!1);d&&(this.Kg().className=this.Ig(),X(d,"expanded",a));b&&this.dispatchEvent(a?"expand":"collapse")}};p.toggle=function(){this.Zc(!this.qb())};
p.collapse=function(){this.Zc(!1)};p.jk=function(){var a=this.getParent();a&&(a.Zc(!0),a.jk())};function An(a,b){var c=a.Ia(),c=!c.Dn||c==a.getParent()&&!c.Fn?a.Sa.Do:a.Sa.Co,d=a.qb()&&ll(a);b.append('\x3cdiv class\x3d"',a.Sa.Mo,'" id\x3d"',a.aa(),'"\x3e',Gn(a),'\x3cdiv class\x3d"',c,'" style\x3d"',"background-position:"+Hn(a)+";",d?"":"display:none;",'"\x3e');d&&V(a,function(a){An(a,b)});b.append("\x3c/div\x3e\x3c/div\x3e")}
function Gn(a){var b=new Cl;b.append('\x3cdiv class\x3d"',a.ie(),'" style\x3d"padding-',a.we()?"right:":"left:",Math.max(0,(a.rd()-1)*a.Sa.xj),'px"\x3e',a.bm(),'\x3cspan style\x3d"display:inline-block" class\x3d"'+a.Ig()+'"\x3e\x3c/span\x3e',In(a),"\x3c/div\x3e");return b.toString()}p.ie=function(){return this.Sa.Fl+(this.$g()?" "+this.Sa.El:"")};
function In(a){var b=a.zr,c=new Cl;c.append('\x3cspan class\x3d"',a.Sa.No,'"',b?' title\x3d"'+za(b)+'"':"","\x3e",a.qe,"\x3c/span\x3e","\x3cspan\x3e",a.no,"\x3c/span\x3e");return c.toString()}p.bm=function(){return'\x3cspan type\x3d"expand" style\x3d"display:inline-block" class\x3d"'+Jn(this)+'"\x3e\x3c/span\x3e'};
function Jn(a){var b=a.Ia(),c=!b.Dn||b==a.getParent()&&!b.Fn,d=a.Sa,f=new Cl;f.append(d.Vd," ",d.Eo," ");if(ll(a)){var g=0;b.qr&&a.dh&&(g=a.qb()?2:1);c||(g=a.Mb?g+8:g+4);switch(g){case 1:f.append(d.Io);break;case 2:f.append(d.Ho);break;case 4:f.append(d.zl);break;case 5:f.append(d.Go);break;case 6:f.append(d.Fo);break;case 8:f.append(d.Al);break;case 9:f.append(d.Ko);break;case 10:f.append(d.Jo);break;default:f.append(d.yl)}}else c?f.append(d.yl):a.Mb?f.append(d.Al):f.append(d.zl);return f.toString()}
function Hn(a){return(a.Mb?(a.rd()-1)*a.Sa.xj:"-100")+"px 0"}p.c=function(){var a=vn.a.c.call(this);a||(this.d=a=this.p().c(this.aa()));return a};function Dn(a){return(a=a.c())?a.firstChild:null}p.$i=function(){var a=Dn(this);return a?a.firstChild:null};p.Kg=function(){var a=Dn(this);return a?a.childNodes[1]:null};function yn(a){return(a=Dn(a))&&a.lastChild?a.lastChild.previousSibling:null}function zn(a){return(a=a.c())?a.lastChild:null}p.yk=function(a){Kn(this,za(a))};
p.Lc=function(){return Ga(this.qe,"\x26")?"document"in t?ul(this.qe):tl(this.qe):this.qe};function Kn(a,b){a.qe=b;var c=yn(a);c&&(c.innerHTML=b);(c=a.Ia())&&Ln(c.Ue,a)}function Fn(a){var b=Dn(a);b&&(b.className=a.ie())}p.We=function(){var a=this.$i();a&&(a.className=Jn(this));if(a=zn(this))a.style.backgroundPosition=Hn(this)};p.Xm=Il;p.Yj=function(a){!a.altKey&&(37<=a.keyCode&&40>=a.keyCode)&&a.preventDefault()};function Mn(a){return a.qb()&&ll(a)?Mn(W(a,We(a)-1)):a}
function Bn(a,b){a.Ra!=b&&(a.Ra=b,Ln(b.Ue,a),V(a,function(a){Bn(a,b)}))};function Nn(a,b,c){vn.call(this,a,b,c)}D(Nn,vn);Nn.prototype.Ra=null;Nn.prototype.Ia=function(){if(this.Ra)return this.Ra;var a=this.getParent();return a&&(a=a.Ia())?(Bn(this,a),a):null};Nn.prototype.Ig=function(){var a=this.qb();if(a&&this.Ui)return this.Ui;if(!a&&this.uj)return this.uj;var b=this.Sa;if(ll(this)){if(a&&b.Bl)return b.Vd+" "+b.Bl;if(!a&&b.wl)return b.Vd+" "+b.wl}else if(b.Dl)return b.Vd+" "+b.Dl;return""};function On(a){this.R=void 0;this.S={};if(a){var b=qd(a);a=pd(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}p=On.prototype;p.set=function(a,b){Pn(this,a,b,!1)};p.add=function(a,b){Pn(this,a,b,!0)};function Pn(a,b,c,d){for(var f=0;f<b.length;f++){var g=b.charAt(f);a.S[g]||(a.S[g]=new On);a=a.S[g]}if(d&&void 0!==a.R)throw Error('The collection already contains the key "'+b+'"');a.R=c}p.get=function(a){for(var b=this,c=0;c<a.length;c++){var d=a.charAt(c);if(!b.S[d])return;b=b.S[d]}return b.R};
p.Ja=function(){var a=[];Qn(this,a);return a};function Qn(a,b){void 0!==a.R&&b.push(a.R);for(var c in a.S)Qn(a.S[c],b)}p.rb=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var f=a.charAt(d);if(!c.S[f])return[];c=c.S[f]}Rn(c,a,b)}else Rn(this,"",b);return b};function Rn(a,b,c){void 0!==a.R&&c.push(b);for(var d in a.S)Rn(a.S[d],b+d,c)}p.Hc=function(a){return void 0!==this.get(a)};p.lc=function(a){if(this.R===a)return!0;for(var b in this.S)if(this.S[b].lc(a))return!0;return!1};
p.clear=function(){this.S={};this.R=void 0};p.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var f=a.charAt(d);if(!b.S[f])throw Error('The collection does not have the key "'+a+'"');c.push([b,f]);b=b.S[f]}a=b.R;for(delete b.R;0<c.length;)if(f=c.pop(),b=f[0],f=f[1],sl(b.S[f].S))delete b.S[f];else break;return a};p.T=function(){return new On(this)};p.M=function(){return od(this.Ja())};
p.Za=function(){return void 0===this.R&&("function"==typeof this.S.Za?this.S.Za():fa(this.S)||A(this.S)?0==this.S.length:sl(this.S))};function Sn(){this.Ad=new On}p=Sn.prototype;p.va="";p.Nj=null;p.mh=null;p.Ef=0;p.Ce=0;function Ln(a,b){var c=b.Lc();if(c&&!Ml(c)){var c=c.toLowerCase(),d=a.Ad.get(c);d?d.push(b):a.Ad.set(c,[b])}}function Tn(a,b){var c=!1,d=a.Ad.rb(b);d&&d.length&&(a.Ce=0,a.Ef=0,c=a.Ad.get(d[0]),c=Un(a,c))&&(a.Nj=d);return c}function Un(a,b){var c;b&&(a.Ce<b.length&&(c=b[a.Ce],a.mh=b),c&&(c.jk(),c.select()));return!!c}p.clear=function(){this.va=""};function Vn(a,b,c){vn.call(this,a,b,c);this.of=!0;En(this,!0);this.na=this;this.Ue=new Sn;if(I)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){}}D(Vn,vn);p=Vn.prototype;p.ea=null;p.Vi=null;p.Xi=!1;p.dp=null;p.Dn=!0;p.qr=!0;p.Id=!0;p.Fn=!0;p.Ia=function(){return this};p.rd=m(0);p.jk=aa();p.td=function(){this.Xi=!0;af(this.c(),"focused");this.na&&this.na.select()};p.op=function(){this.Xi=!1;cf(this.c(),"focused")};p.hasFocus=e("Xi");p.qb=function(){return!this.Id||Vn.a.qb.call(this)};
p.Zc=function(a){this.Id?Vn.a.Zc.call(this,a):this.of=a};p.bm=m("");p.Kg=function(){var a=Dn(this);return a?a.firstChild:null};p.$i=m(null);p.We=aa();p.ie=function(){return Vn.a.ie.call(this)+(this.Id?"":" "+this.Sa.Lo)};p.Ig=function(){var a=this.qb();if(a&&this.Ui)return this.Ui;if(!a&&this.uj)return this.uj;var b=this.Sa;return a&&b.Cl?b.Vd+" "+b.Cl:!a&&b.xl?b.Vd+" "+b.xl:""};
p.fc=function(a){if(this.na!=a){var b=!1;this.na&&(b=this.na==this.dp,En(this.na,!1));if(this.na=a)En(a,!0),b&&a.select();this.dispatchEvent("change")}};p.Ib=e("na");p.Xg=function(){Vn.a.Xg.call(this);var a=this.c();Ef(a,"tree");X(a,"labelledby",yn(this).id)};
p.g=function(){Vn.a.g.call(this);var a=this.c();a.className=this.Sa.Oo;a.setAttribute("hideFocus","true");a=this.c();a.tabIndex=0;var b=this.ea=new xf(a),c=this.Vi=new un(a);this.i().b(c,"focusout",this.op).b(c,"focusin",this.td).b(b,"key",this.ib).b(a,"mousedown",this.lj).b(a,"click",this.lj).b(a,"dblclick",this.lj);this.Xg()};p.ia=function(){Vn.a.ia.call(this);this.ea.j();this.ea=null;this.Vi.j();this.Vi=null};
p.lj=function(a){var b;a:{b=null;for(var c=a.target;null!=c;){if(b=xn[c.id])break a;if(c==this.c())break;c=c.parentNode}b=null}if(b)switch(a.type){case "mousedown":"expand"==a.target.getAttribute("type")&&ll(b)?b.dh&&b.toggle():(b.select(),Fn(b));break;case "click":b.Xm(a);break;case "dblclick":"expand"==a.target.getAttribute("type")&&ll(b)||b.dh&&b.toggle()}};
p.ib=function(a){var b=!1,b=this.Ue,c=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){var c=40==a.keyCode?1:-1,d=b.Nj;if(d){var f=null,g=!1;if(b.mh){var h=b.Ce+c;0<=h&&h<b.mh.length?(b.Ce=h,f=b.mh):g=!0}f||(h=b.Ef+c,0<=h&&h<d.length&&(b.Ef=h),d.length>b.Ef&&(f=b.Ad.get(d[b.Ef])),f&&(f.length&&g)&&(b.Ce=-1==c?f.length-1:0));Un(b,f)&&(b.Nj=d)}c=!0}break;case 8:d=b.va.length-1;c=!0;0<d?(b.va=b.va.substring(0,d),Tn(b,b.va)):0==d?b.va="":c=!1;break;case 27:b.va="",c=!0}if(!(b=c)){if(b=this.na){b=this.na;
c=!0;switch(a.keyCode){case 39:if(a.altKey)break;ll(b)&&(b.qb()?W(b,0).select():b.Zc(!0));break;case 37:if(a.altKey)break;ll(b)&&b.qb()&&b.dh?b.Zc(!1):(d=b.getParent(),f=b.Ia(),d&&(f.Id||d!=f)&&d.select());break;case 40:a:if(ll(b)&&b.qb())d=W(b,0);else{for(d=b;d!=b.Ia();){f=d.Mb;if(null!=f){d=f;break a}d=d.getParent()}d=null}d&&d.select();break;case 38:d=b.Ed;null!=d?d=Mn(d):(d=b.getParent(),f=b.Ia(),d=f.Id||d!=f?d:null);d&&d.select();break;default:c=!1}c&&(a.preventDefault(),(f=b.Ia())&&f.Ue.clear());
b=c}b||(b=this.Ue,c=!1,a.ctrlKey||a.altKey||(d=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==d.length&&" "<=d&&"~">=d||""<=d&&"�">=d)&&(" "!=d||b.va)&&(b.va+=d,c=Tn(b,b.va))),b=c)}b&&a.preventDefault();return b};p.removeNode=function(a){var b=this.Ue,c=a.Lc();if(c&&!Ml(c)){var c=c.toLowerCase(),d=b.Ad.get(c);d&&(Ta(d,a),d.length&&b.Ad.remove(c))}};
var wn={xj:19,Oo:"goog-tree-root goog-tree-item",Lo:"goog-tree-hide-root",Mo:"goog-tree-item",Co:"goog-tree-children",Do:"goog-tree-children-nolines",Fl:"goog-tree-row",No:"goog-tree-item-label",Vd:"goog-tree-icon",Eo:"goog-tree-expand-icon",Io:"goog-tree-expand-icon-plus",Ho:"goog-tree-expand-icon-minus",Ko:"goog-tree-expand-icon-tplus",Jo:"goog-tree-expand-icon-tminus",Go:"goog-tree-expand-icon-lplus",Fo:"goog-tree-expand-icon-lminus",Al:"goog-tree-expand-icon-t",zl:"goog-tree-expand-icon-l",yl:"goog-tree-expand-icon-blank",
Bl:"goog-tree-expanded-folder-icon",wl:"goog-tree-collapsed-folder-icon",Dl:"goog-tree-file-icon",Cl:"goog-tree-expanded-folder-icon",xl:"goog-tree-collapsed-folder-icon",El:"selected"};function Wn(){R.call(this);this.Pa=[];this.Gk=[];this.Pf=[]}D(Wn,R);Wn.prototype.ah=!1;Wn.prototype.bh=!1;Wn.prototype.yj=!1;var Xn={ig:"dragover",hg:"dragout",co:"drag",af:"drop",di:"dragstart",ci:"dragend"};p=Wn.prototype;p.yn=ba("Fh");p.Ya=function(){if(!this.yj){for(var a,b=0;a=this.Pa[b];b++)Yn(this,a);this.yj=!0}};function Yn(a,b){a.ah&&(Q(b.element,"mousedown",b.Tm,!1,b),a.Kh&&af(b.element,a.Kh));a.bh&&a.Mh&&af(b.element,a.Mh)}
function Zn(a,b){a.ah&&($c(b.element,"mousedown",b.Tm,!1,b),a.Kh&&cf(b.element,a.Kh));a.bh&&a.Mh&&cf(b.element,a.Mh);b.j()}
p.Qe=function(a,b){if(!this.xb)if(this.xb=b,!1==this.dispatchEvent(new $n(Xn.di,this,this.xb)))this.xb=null;else{var c=b.ef,d=this.xi(c);this.Mi&&af(d,this.Mi);this.de=d;d=N(c);d.body.appendChild(this.de);var f=this.de,g=ze(c),c=Me(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.Z=new nm(f);this.Z.yn(this.Fh);Q(this.Z,"drag",this.Vm,!1,this);Q(this.Z,"end",this.pd,!1,this);Q(d.body,"selectstart",this.Pn);this.Se=[];for(d=
0;c=this.Gk[d];d++)for(var h,f=0;h=c.Pa[f];f++)for(var g=c,k=[h.element],l=this.Se,n=0;n<k.length;n++){var q=k[n],v=ze(q),Xa=Fe(q),v=new oe(v.y,v.x+Xa.width,v.y+Xa.height,v.x);l.push(new ao(v,g,h,q));bo(this,v)}this.Cc||(this.Cc=new oe(0,0,0,0));for(d=0;c=this.Pf[d];d++)c.Bi=[],c.qn=c.d.scrollLeft,c.rn=c.d.scrollTop,f=ze(c.d),g=Fe(c.d),c.ua=new oe(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.Se[d];d++)for(f=0;c=this.Pf[f];f++)mc(c.d,g.d)&&(c.Bi.push(g),g.Of=c);this.dd=null;for(d=0;c=this.Pf[d];d++)Q(c.d,
"scroll",this.sl,!1,this);this.Z.Qe(a);a.preventDefault()}};
p.pd=function(a){var b=a.Vo?null:this.dd;if(b&&b.F){var c=a.clientX;a=a.clientY;var d=wc(Tb(this.de)),f=c+d.x,d=a+d.y,g;this.Yf&&(g=this.Yf(b.yc,b.ua,f,d));this.dispatchEvent(new $n(Xn.co,this,this.xb,b.F,b.yc,b.d,c,a,f,d));b.F.dispatchEvent(new $n(Xn.af,this,this.xb,b.F,b.yc,b.d,c,a,f,d,g))}this.dispatchEvent(new $n(Xn.ci,this,this.xb));$c(this.Z,"drag",this.Vm,!1,this);$c(this.Z,"end",this.pd,!1,this);$c(N(this.xb.ef).body,"selectstart",this.Pn);for(b=0;c=this.Pf[b];b++)$c(c.d,"scroll",this.sl,
!1,this),c.Bi=[];this.Z.j();ic(this.de);delete this.xb;delete this.de;delete this.Z;delete this.Se;delete this.dd};
p.Vm=function(a){var b,c=wc(Tb(this.de));b=new M(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.dd,g;if(f){this.Yf&&f.F&&(g=this.Yf(f.yc,f.ua,c,d));if(f.ua.contains(b)&&g==this.el)return;f.F&&(this.dispatchEvent(new $n(Xn.hg,this,this.xb,f.F,f.yc,f.d)),f.F.dispatchEvent(new $n(Xn.hg,this,this.xb,f.F,f.yc,f.d,void 0,void 0,void 0,void 0,this.el)));this.el=g;this.dd=null}if(this.Cc.contains(b)){a:{for(var h=0;f=this.Se[h];h++)if(f.ua.contains(b))if(f.Of){if(f.Of.ua.contains(b)){b=f;break a}}else{b=
f;break a}b=null}if((f=this.dd=b)&&f.F)this.Yf&&(g=this.Yf(f.yc,f.ua,c,d)),c=new $n(Xn.ig,this,this.xb,f.F,f.yc,f.d),c.vr=g,this.dispatchEvent(c),f.F.dispatchEvent(new $n(Xn.ig,this,this.xb,f.F,f.yc,f.d,a.clientX,a.clientY,void 0,void 0,g));else if(!f){this.ob||(this.ob=new ao(this.Cc.T()));a=this.ob.ua;a.top=this.Cc.top;a.right=this.Cc.right;a.bottom=this.Cc.bottom;a.left=this.Cc.left;for(g=0;f=this.Se[g];g++)b=f.ua,f.Of&&(f=f.Of.ua,b=new oe(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,
f.bottom),Math.max(b.left,f.left))),f=null,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=null,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),null===f||null===h||(Math.abs(f-c)>Math.abs(h-d)?h=null:f=null),null!==f?f<=c?a.left=f:a.right=f:null!==h&&(h<=d?a.top=h:a.bottom=h);this.dd=10<=(a.right-a.left)*(a.bottom-a.top)?this.ob:null}}};p.Pn=m(!1);
p.sl=function(a){for(var b=0,c;c=this.Pf[b];b++)if(a.target==c.d){var d=c.rn-c.d.scrollTop,f=c.qn-c.d.scrollLeft;c.rn=c.d.scrollTop;c.qn=c.d.scrollLeft;this.ob&&this.dd==this.ob&&(0<d?this.ob.ua.top+=d:this.ob.ua.bottom+=d,0<f?this.ob.ua.left+=f:this.ob.ua.right+=f);for(var g=0,h;h=c.Bi[g];g++)h=h.ua,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,bo(this,h)}this.Z.en(a)};
p.xi=function(a){var b=a.cloneNode(!0);switch(a.tagName.toLowerCase()){case "tr":return Kl("table",null,Kl("tbody",null,b));case "td":case "th":return Kl("table",null,Kl("tbody",null,Kl("tr",null,b)));default:return b}};function bo(a,b){if(1==a.Se.length)a.Cc=new oe(b.top,b.right,b.bottom,b.left);else{var c=a.Cc;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
p.e=function(){Wn.a.e.call(this);for(var a,b=0;a=this.Pa[b];b++)Zn(this,a);this.Pa.length=0};function $n(a,b,c,d,f,g,h,k,l,n,q){P.call(this,a);this.Xr=b;this.Oi=c;this.$r=d;this.Ag=f;this.as=g;this.clientX=h;this.clientY=k;this.ss=l;this.ts=n;this.vr=q}D($n,P);$n.prototype.e=aa();function co(a,b){R.call(this);this.element=Vb(document,a);this.data=b;this.N=null;this.s=new S(this);Cc(this,this.s);if(!this.element)throw Error("Invalid argument");}D(co,R);p=co.prototype;p.ef=null;p.getData=e("data");
p.Tm=function(a){if(Ic(a)){var b=a.target;b&&(this.s.b(b,"mousemove",this.Um,!1).b(b,"mouseout",this.Um,!1),this.s.b(N(b),"mouseup",this.Nq,!0),this.ef=b,this.Bk=new M(a.clientX,a.clientY),a.preventDefault())}};p.Sf=ba("N");p.Um=function(a){var b=this.ef,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Bk.x)+Math.abs(a.clientY-this.Bk.y)||b)this.s.ub(),this.N.Qe(a,this)};p.Nq=function(){this.s.ub();delete this.Bk;this.ef=null};
function ao(a,b,c,d){this.ua=a;this.F=b;this.yc=c;this.d=d}ao.prototype.Of=null;function eo(){Wn.call(this)}D(eo,Wn);eo.prototype.kb=function(a,b){var c=new co(a,b);c.Sf(this);this.Pa.push(c);this.yj&&Yn(this,c)};eo.prototype.removeItem=function(a){a=Vb(document,a);for(var b,c=0;b=this.Pa[c];c++)if(b.element==a){this.Pa.splice(c,1);Zn(this,b);break}};function fo(a,b){vn.call(this,go(a),void 0,void 0);this.hf=b}D(fo,Nn);function go(a){return'\x3cspan class\x3d"drag-item"\x3e'+a+'\x3c/span\x3e\x3cdiv class\x3d"edit-btns"\x3e\x3cspan class\x3d"rename"\x3e\x3c/span\x3e\x3cspan class\x3d"delete"\x3e\x3c/span\x3e\x3c/div\x3e'}fo.prototype.g=function(){fo.a.g.call(this);this.hf.kb(this)};fo.prototype.ke=function(){return this.bb.type};
fo.prototype.Xm=function(a){var b=this.bb;a=a.target;if(H(Db(a),"rename")){if(a=prompt("Neuer Name: ",b.title))b.title=a,this.dispatchEvent("change"),Kn(this,go(a))}else H(Db(a),"delete")?(this.getParent().removeChild(this),this.dispatchEvent("change")):H(Db(a),"goog-tree-expand-icon")||ho(this)};function ho(a){if(a.ke()==io){var b=a.bb,c=Al(b.query);yl(c,b.title)}a.ke()==jo&&(wl.h().wi(),V(a,function(a){ho(a)}))}
fo.prototype.ie=function(){var a=this.Sa,b=" ";this.$g()&&(b+=a.El);b=this.ke()==jo?b+" search-folder":b+" search-link";return a.Fl+b};var jo="folder",io="request";function ko(){R.call(this);this.k=new S(this);Cc(this,this.k);var a=this.nb=new eo,b=this.nb;a.Gk.push(b);b.bh=!0;a.ah=!0;a=this.nc=new eo;b=this.nb;a.Gk.push(b);b.bh=!0;a.ah=!0;this.Ya()}D(ko,R);p=ko.prototype;
p.Ya=function(){this.nb.Mi="search-item-drag";this.nb.Kh="source";this.nb.Mh="target";this.nb.Ya();this.nc.Mi="search-item-drag";this.nc.Ya();this.k.b(this.nb,Xn.ig,this.im);this.k.b(this.nb,Xn.hg,this.hm);this.k.b(this.nb,Xn.af,this.jm);this.k.b(this.nb,Xn.di,this.Ng);this.k.b(this.nb,Xn.ci,this.Mg);this.k.b(this.nc,Xn.ig,this.im);this.k.b(this.nc,Xn.hg,this.hm);this.k.b(this.nc,Xn.af,this.jm);this.k.b(this.nc,Xn.di,this.Ng);this.k.b(this.nc,Xn.ci,this.Mg)};
p.kb=function(a){var b=a.I("drag-item");a.ke()==jo?this.nb.kb(b,a):this.nc.kb(b,a)};p.im=function(a){Eb(a.Ag.element,"drag-over")};p.hm=function(a){Fb(a.Ag.element,"drag-over")};p.jm=function(a){var b=a.Oi.data,c=a.Ag.data;Fb(a.Ag.element,"drag-over");b!==c&&(b.getParent().remove(b),c.add(b),this.dispatchEvent(Xn.af))};p.Ng=function(a){Eb(a.Oi.element,"dragged")};p.Mg=function(a){Fb(a.Oi.element,"dragged")};function lo(){U.call(this);this.Ra=new Vn("root");Cc(this,this.Ra);this.hf=new ko;Cc(this,this.hf)}D(lo,U);p=lo.prototype;p.f=function(){var a=this.p(),a=a.f("div",void 0,[a.f("div","btn add-folder-btn","+")]);this.m(a)};
p.g=function(){lo.a.g.call(this);var a=this.I("add-folder-btn");this.i().b(a,"click",this.mo);for(var a=fe.h().Vb.searchtree||[],b=0;b<a.length;b++)xl(this,this.Ra.Ia(),a[b]);a=this.Ra;!1!=a.Id&&(a.Id=!1,a.v&&(b=Dn(a))&&(b.className=a.ie()),a.Ib()==a&&W(a,0)&&a.fc(W(a,0)));this.Ra.ma(this.c());this.i().b(this.hf,Xn.af,this.ne)};function xl(a,b,c){var d=new fo(c.title,a.hf);d.bb=c;b.add(d);a.i().b(d,"change",a.ne);if(c.children)for(b=0;b<c.children.length;b++)xl(a,d,c.children[b])}
p.mo=function(a){a={title:A(a)?a:"new folder",type:"folder"};xl(this,this.Ra.Ia(),a);this.ne()};p.ne=function(){var a=this.dc(),b=fe.h();b.Vb.searchtree=a;ke(b,void 0,void 0)};p.dc=function(){for(var a=[],b=this.Ra.Yi(),c=0;c<b.length;c++)a.push(mo(this,b[c]));return a};function mo(a,b){for(var c=b.bb,d=b.Yi(),f=[],g=0;g<d.length;g++)f.push(mo(a,d[g]));return{title:c.title,type:c.type,query:c.query,children:f}};function wl(){ce.call(this);this.Er=[];this.jh=new nn;this.pk=this.Kf=null}D(wl,ce);w(wl);wl.prototype.Ea=function(){Fb(document.getElementById("page"),"hidden");this.Kf=Yb("main-panel");var a=this.jh;a.ma(this.Kf);this.Er.push(a);this.pk=new lo;this.pk.ma(document.getElementById("searchtree"))};wl.prototype.wi=function(){this.jh.wi()};function no(a,b){U.call(this);this.Ub=a;this.Di=b||"";this.Dk=null;this.Ka=!1}D(no,U);p=no.prototype;p.f=function(){var a=this.p();this.Dk=a.f("ul");a=a.f("div","action-item",[a.f("div",{"class":"toggle-icon "+this.Di,title:this.Ub}),this.Dk]);this.m(a)};p.$=e("Dk");p.g=function(){no.a.g.call(this);this.i().b(this.c(),"click",this.Mc)};function oo(a,b){a.V(b,!0)}
p.Mc=function(a){a=a.target;ll(this)?(this.Ka=!this.Ka&&H(Db(a),"toggle-icon"),Hb(this.c(),"visible",this.Ka),this.Ka?this.i().Tc(document.body,"click",this.gm,!0):this.i().G(document.body,"click",this.gm,!0)):this.dispatchEvent("action")};p.gm=function(){Fb(this.c(),"visible")};function po(){ce.call(this);this.Vr=[];var a=this.Oc=new no("Undo","icon-undo");qo.h().V(a,!0)}D(po,ce);w(po);po.prototype.Ea=function(){var a=ji.h();this.i().b(a,"destroy",this.tp);ro(this)};po.prototype.tp=function(a){a=a.target;var b=a.Lc().substr(0,15),b=new so(b,"icon-undo1");b.bb=a;oo(this.Oc,b);this.i().b(b,"action",this.kq);10<We(this.Oc)&&this.Oc.removeChild(W(this.Oc,0),void 0);ro(this)};function ro(a){var b=We(a.Oc);Hb(a.Oc.c(),"hidden",!b)}
po.prototype.kq=function(a){a=a.target;a.bb.save();this.Oc.removeChild(a,!0);a.j();ro(this)};function to(){this.Br=[];this.Ll="fx"}w(to);function uo(){var a=to.h(),b=Wb(a.Ll,void 0);G(b,function(a){var b=gf(a);null!==b&&(b.L(a),this.Br.push(b));Fb(a,this.Ll)},a)};function tn(){U.call(this)}D(tn,U);w(tn);tn.prototype.f=function(){var a=this.p().f("div","overlay");this.m(a)};tn.prototype.g=function(){this.i().b(this.c(),"click",this.Mc)};tn.prototype.Mc=function(){this.dispatchEvent("close");this.ba(!1)};tn.prototype.ba=function(a){this.v||this.ma(document.body);Hb(this.c(),"visible",a);Hb(document.body,"body-overlay",a)};function vo(){U.call(this);this.Ka=!1}D(vo,U);w(vo);vo.prototype.m=function(a){vo.a.m.call(this,a)};vo.prototype.g=function(){vo.a.g.call(this)};vo.prototype.toggle=function(){this.Ka=!this.Ka;var a=tn.h();a.ba(this.Ka);this.Ka?this.i().Tc(a,"close",this.toggle):this.i().G(a,"close",this.toggle);Hb(this.c(),"visible",this.Ka)};ef("page-sidebar",function(){return vo.h()});function so(a,b,c){U.call(this);this.Ub=a;this.Di=b||"";ha(c)&&this.i().b(this,"action",c)}D(so,U);so.prototype.f=function(){var a=this.p().f("li",this.Di,this.Ub);this.m(a)};so.prototype.g=function(){so.a.g.call(this);this.i().b(this.c(),"click",this.Mc)};so.prototype.Mc=function(){this.dispatchEvent("action")};function qo(){U.call(this)}D(qo,U);w(qo);qo.prototype.$=function(){return this.I("header-right-bar")};qo.prototype.g=function(){qo.a.g.call(this);var a=this.I("sidebar-toggle-btn");this.i().b(a,"click",this.jq);wo(this)};
function wo(a){var b=new no("Search","icon-search mobile-only");a.i().b(b,"action",function(){qn.h().toggle()});a.V(b,!0);b=new no("Settings","icon-gears");oo(b,new so("Settings","icon-gears",function(){(new sn).ma(document.body)}));oo(b,new so("Logout","icon-user",function(){var a=fe.h(),b=new Nd;b.b("complete",a.km,!1,a);b.send("/logout")}));a.V(b,!0)}qo.prototype.jq=function(){vo.h().toggle()};ef("page-header",function(){return qo.h()});function cl(a,b){this.bb=a;this.Gb=b;this.Ub=this.vj="";this.oj=!0;this.k=null;this.Ik=[]}D(cl,O);p=cl.prototype;p.i=function(){return this.k||(this.k=new S(this))};p.e=function(){this.k&&this.k.j();cl.a.e.call(this)};p.Ya=aa();p.kg=function(a){this.Gb.kg(this,a);this.Ik.push(a)};p.er=function(){G(this.Ik,function(a){this.Gb.removeChild(a,!0);a.j()},this);this.Ik=[]};function xo(){R.call(this);this.k=null}D(xo,R);w(xo);xo.prototype.i=function(){return this.k||(this.k=new S(this))};xo.prototype.autocomplete=function(a,b,c,d){var f=new Nd;f.b("complete",function(a){a=ae(a.target);var b=[];if(a.tags)for(var f=0;f<a.tags.length;f++){var l=a.tags[f];b.push("#"+l.name);if(l.values)for(var n=0;n<l.values.length;n++)b.push("#"+l.name+"\x3d"+l.values[n])}c.call(d,b)},!1,this);a=il({text:a,tag:b}).toString();f.send("/autocomplete","POST",a)};
function yo(a,b,c,d){var f=new Nd;f.b("complete",function(a){a=ae(a.target);var b=[];if(a.recs)for(var f=0;f<a.recs.length;f++){var l=a.recs[f];b.push("#"+l.name);if(l.values)for(var n=0;n<l.values.length;n++)b.push("#"+l.name+"\x3d"+l.values[n])}c.call(d,b)},!1,a);a=il({text:b}).toString();f.send("/recommend","POST",a)};function zo(a,b){if(Ao(a))a.selectionStart=b;else if(I){var c=Bo(a),d=c[0];d.inRange(c[1])&&(b=Co(a,b),d.collapse(!0),d.move("character",b),d.select())}}
function Do(a){var b;a:{var c=0,d=0;if(Ao(a))c=a.selectionStart,d=-1;else if(I){var f=Bo(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if("textarea"==a.type){f.duplicate();c=a=b.text;for(d=!1;!d;)0==b.compareEndPoints("StartToEnd",b)?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function Eo(a,b){if(Ao(a))a.selectionEnd=b;else if(I){var c=Bo(a),d=c[1];c[0].inRange(d)&&(b=Co(a,b),c=Co(a,Do(a)),d.collapse(!0),d.moveEnd("character",b-c),d.select())}}function Bo(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function Co(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}
function Ao(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function Fo(a,b,c,d){O.call(this);d=d||150;this.He=null!=c?c:!0;this.Qf=a||",;";this.Ro=this.Qf.substring(0,1);a=this.He?"[\\s"+this.Qf+"]+":"[\\s]+";this.Wn=RegExp("^"+a+"|"+a+"$","g");this.ir=RegExp("\\s*["+this.Qf+"]$");this.Mm=b||"";this.ar=this.He;this.w=0<d?new jd(d):null;this.sa=new S(this);this.hi=new S(this);this.ea=new xf;this.Im=-1}D(Fo,O);var Go=(Kg||Lg)&&!L("533.17.9");p=Fo.prototype;p.Gr=!0;p.ep=!0;p.Yn=!1;p.kr=!0;p.jr=!0;p.ii=null;p.K=null;p.Jj="";p.cd=!1;p.lk=!1;p.Cr=!0;p.t=function(){return this.K.value};
p.P=function(a){this.K.value=a};p.ni=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];ia(c)&&1==c.nodeType&&X(c,"haspopup",!0);this.sa.b(c,"focus",this.sd);this.sa.b(c,"blur",this.uc);if(!this.K&&(this.hi.b(c,"keydown",this.Sq),ia(c)&&1==c.nodeType)){var d;a:{var f=N(c);try{d=f&&f.activeElement;break a}catch(g){}d=null}d==c&&Ho(this,c)}}};
p.An=function(a,b){if(x(b)?b:this.He){var c=Io(this,this.t(),Do(this.K)),d=Jo(this,this.t()),f=a;this.ir.test(f)||(f=f.replace(/[\s\xa0]+$/,"")+this.Ro);this.Gr&&(0==c||/^[\s\xa0]*$/.test(d[c-1])||(f=" "+f),c==d.length-1&&(f+=" "));if(f!=d[c]){d[c]=f;f=this.K;(J||I&&L("9"))&&f.blur();f.value=d.join("");for(var g=0,h=0;h<=c;h++)g+=d[h].length;f.focus();c=g;zo(this.K,c);Eo(this.K,c)}}else this.P(a);this.lk=!0};
p.e=function(){Fo.a.e.call(this);null!=this.ii&&window.clearTimeout(this.ii);this.sa.j();delete this.sa;this.hi.j();this.ea.j();Dc(this.w)};
p.ib=function(a){switch(a.keyCode){case 40:if(this.U.Lb())return this.Sj(),a.preventDefault(),!0;if(!this.He)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.U.Lb())return this.Tj(),a.preventDefault(),!0;break;case 9:if(this.U.Lb()&&!a.shiftKey){if(this.update(),Ko(this.U)&&this.ar)return a.preventDefault(),!0}else this.U.oc();break;case 13:if(this.U.Lb()){if(this.update(),Ko(this.U))return a.preventDefault(),a.stopPropagation(),!0}else this.U.oc();break;case 27:if(this.U.Lb())return this.U.oc(),
a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.cd)return this.cd||(this.sa.b(this.K,"keyup",this.an),this.sa.b(this.K,"keypress",this.Yj),this.cd=!0),!0;break;default:this.w&&!this.Cr&&(this.w.stop(),this.w.start())}return Lo(this,a)};function Lo(a,b){var c=a.He&&b.charCode&&-1!=a.Qf.indexOf(String.fromCharCode(b.charCode));a.kr&&c&&a.update();return a.jr&&c&&Ko(a.U)?(b.preventDefault(),!0):!1}p.Lp=m(!1);p.sd=function(a){Ho(this,a.target||null)};
function Ho(a,b){a.hi.ub();a.U&&Mo(a.U);b!=a.K&&(a.K=b,a.w&&(a.w.start(),a.sa.b(a.w,kd,a.sh)),a.Jj=a.t(),a.ea.cf(a.K),a.sa.b(a.ea,"key",a.bn),a.sa.b(a.K,"mousedown",a.cn),I&&a.sa.b(a.K,"keypress",a.$m))}p.uc=function(){Go?this.ii=window.setTimeout(B(this.jn,this),0):this.jn()};
p.jn=function(){this.K&&(this.sa.G(this.ea,"key",this.bn),this.ea.detach(),this.sa.G(this.K,"keyup",this.Lp),this.sa.G(this.K,"mousedown",this.cn),I&&this.sa.G(this.K,"keypress",this.$m),this.cd&&No(this),this.K=null,this.w&&(this.w.stop(),this.sa.G(this.w,kd,this.sh)),this.U&&Oo(this.U))};p.sh=function(){this.update()};p.Sq=function(a){this.sd(a)};p.bn=function(a){this.Im=a.keyCode;this.U&&this.ib(a)};p.Yj=function(){this.cd&&229!=this.Im&&No(this)};
p.an=function(a){this.cd&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&No(this)};p.cn=function(a){this.U&&this.Yb(a)};p.Yb=aa();function No(a){a.cd&&(a.cd=!1,a.sa.G(a.K,"keypress",a.Yj),a.sa.G(a.K,"keyup",a.an))}p.$m=function(a){Lo(this,a)};p.update=function(a){if(this.K&&(a||this.t()!=this.Jj)){if(a||!this.lk)a=this.ck(),this.U&&(this.U.F=this.K,this.U.Ih(a,this.t()));this.Jj=this.t()}this.lk=!1};
p.ck=function(){var a=Do(this.K),b=this.t(),a=Jo(this,b)[Io(this,b,a)];return this.Wn?String(a).replace(this.Wn,""):a};p.Tj=function(){return this.Yn?Po(this.U):Qo(this.U)};p.Sj=function(){return this.Yn?Qo(this.U):Po(this.U)};function Io(a,b,c){a=Jo(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b}
function Jo(a,b){if(!a.He)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)a.Mm&&-1!=a.Mm.indexOf(c[g])?(a.ep&&!h&&(d.push(f.join("")),f.length=0),f.push(c[g]),h=!h):h||-1==a.Qf.indexOf(c[g])?f.push(c[g]):(f.push(c[g]),d.push(f.join("")),f.length=0);d.push(f.join(""));return d};function Ro(a,b,c,d){Fo.call(this,a,b,c,d)}D(Ro,Fo);Ro.prototype.ck=function(){for(var a=Do(this.K),b=this.t(),c="",d=a-1;0<d;d--){var f=b.charAt(d);if(" "===f||"\n"===f)break;else if("#"===f){c=b.substr(d,a-d);break}}return c};Ro.prototype.An=function(a){var b=this.ck(),c=Do(this.K),d=this.t(),c=d.lastIndexOf(b,c);this.P(d.substr(0,c)+a+d.substr(c+b.length));a=c+a.length;zo(this.K,a);Eo(this.K,a)};function So(a,b,c){R.call(this);this.Df=a;this.Yc=c;this.n=b;Q(b,[To,Uo,Vo,Wo],this.handleEvent,!1,this);this.Db=null;this.ga=[];this.Qc=-1;this.Xa=0;this.ld=this.F=null;this.xm={}}D(So,R);So.prototype.uo=!0;So.prototype.fl=!1;So.prototype.bo=!1;So.prototype.Vn=!1;var To="hilite",Uo="select",Wo="dismiss",Vo="canceldismiss";p=So.prototype;p.zb=e("Db");
p.handleEvent=function(a){if(a.target==this.n)switch(a.type){case To:this.wc(a.Le);break;case Uo:a=a.Le;var b=this.ga[Xo(this,a)],c=!!b&&this.Df.Bj&&this.Df.Bj(b);a&&(b&&!c&&this.Qc!=a)&&this.wc(a);c||Ko(this);break;case Vo:Mo(this);break;case Wo:Oo(this)}};p.Ih=function(a,b){this.Db!=a&&(this.Db=a,Yo(this.Db,B(this.Gq,this),b),Mo(this))};p.Lb=function(){return this.n.X()};
function Po(a){for(var b=a.Xa+a.ga.length-1,c=a.Qc,d=0;d<a.ga.length;d++){if(c>=a.Xa&&c<b)c++;else if(-1==c)c=a.Xa;else if(a.fl&&c==b){a.wc(-1);break}else if(a.bo&&c==b)c=a.Xa;else break;if(a.wc(c))return!0}return!1}function Qo(a){for(var b=a.Xa+a.ga.length-1,c=a.Qc,d=0;d<a.ga.length;d++){if(c>a.Xa)c--;else if(a.fl&&c==a.Xa){a.wc(-1);break}else if(!a.bo||-1!=c&&c!=a.Xa)break;else c=b;if(a.wc(c))return!0}return!1}
p.wc=function(a){var b=Xo(this,a),c=this.ga[b];return c&&this.Df.Bj&&this.Df.Bj(c)?!1:(this.Qc=a,this.n.wc(a),-1!=b)};function Ko(a){var b=Xo(a,a.Qc);if(-1!=b)return b=a.ga[b],a.Yc.An(b.toString(),void 0),a.Vn?(a.Db=null,Oo(a)):a.oc(),a.dispatchEvent({type:"update",Le:b}),a.Vn&&a.Yc.update(!0),!0;a.oc();a.dispatchEvent({type:"update",Le:null});return!1}
p.oc=function(){this.Qc=-1;this.Db=null;this.Xa+=this.ga.length;this.ga=[];window.clearTimeout(this.ld);this.ld=null;this.n.oc();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(Wo)};function Oo(a){a.ld||(a.ld=window.setTimeout(B(a.oc,a),100))}p.wm=function(){return this.ld?(window.clearTimeout(this.ld),this.ld=null,!0):!1};function Mo(a){a.wm()||window.setTimeout(B(a.wm,a),10)}p.e=function(){So.a.e.call(this);delete this.xm;this.n.j();this.Yc.j();this.Df=null};
p.Gq=function(a,b,c){this.Db==a&&this.hk(b,c)};p.hk=function(a,b){var c="object"==ea(b)&&b,d=(c?c.ds():b)?Xo(this,this.Qc):-1;this.Xa+=this.ga.length;this.ga=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.Xa+g,data:a[g]});g=null;this.F&&(g=this.xm[ka(this.F)]||this.F);this.n.ro=g;this.n.hk(f,this.Db,this.F);g=this.uo;c&&void 0!==c.fp()&&(g=c.fp());this.Qc=-1;(g||0<=d)&&(0!=f.length&&this.Db)&&(0<=d?this.wc(this.Xa+d):Po(this));this.dispatchEvent("suggestionsupdate")};
function Xo(a,b){var c=b-a.Xa;return 0>c||c>=a.ga.length?-1:c}p.ni=function(a){var b=this.Yc;b.ni.apply(b,arguments)};p.update=function(a){this.Yc.update(a)};function Zo(){R.call(this);this.J=$o;this.Xl=this.startTime=null}D(Zo,R);var $o=0;Zo.prototype.Bd=function(){this.pc("begin")};Zo.prototype.Ie=function(){this.pc("end")};Zo.prototype.pc=function(a){this.dispatchEvent(a)};var ap={},bp=null;function cp(a){a=ka(a);delete ap[a];sl(ap)&&bp&&bp.stop()}function dp(){bp||(bp=new sf(function(){ep()},20));var a=bp;a.Kb()||a.start()}function ep(){var a=C();Mb(ap,function(b){fp(b,a)});sl(ap)||dp()};function gp(a,b,c,d){Zo.call(this);if(!y(a)||!y(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Wf=a;this.$o=b;this.duration=c;this.cl=d;this.coords=[];this.Wh=!1}D(gp,Zo);p=gp.prototype;p.am=0;p.Bb=0;p.Hj=null;
p.play=function(a){if(a||this.J==$o)this.Bb=0,this.coords=this.Wf;else if(1==this.J)return!1;cp(this);this.startTime=a=C();-1==this.J&&(this.startTime-=this.duration*this.Bb);this.Xl=this.startTime+this.duration;this.Hj=this.startTime;this.Bb||this.Bd();this.pc("play");-1==this.J&&this.pc("resume");this.J=1;var b=ka(this);b in ap||(ap[b]=this);dp();fp(this,a);return!0};p.stop=function(a){cp(this);this.J=$o;a&&(this.Bb=1);hp(this,this.Bb);this.pc("stop");this.Ie()};
p.e=function(){this.J==$o||this.stop(!1);this.pc("destroy");gp.a.e.call(this)};p.$d=function(){this.j()};function fp(a,b){a.Bb=(b-a.startTime)/(a.Xl-a.startTime);1<=a.Bb&&(a.Bb=1);a.am=1E3/(b-a.Hj);a.Hj=b;hp(a,a.Bb);1==a.Bb?(a.J=$o,cp(a),a.pc("finish"),a.Ie()):1==a.J&&a.Wj()}function hp(a,b){ha(a.cl)&&(b=a.cl(b));a.coords=Array(a.Wf.length);for(var c=0;c<a.Wf.length;c++)a.coords[c]=(a.$o[c]-a.Wf[c])*b+a.Wf[c]}p.Wj=function(){this.pc("animate")};p.pc=function(a){this.dispatchEvent(new ip(a,this))};
function ip(a,b){P.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.Bb=b.Bb;this.bs=b.am;this.state=b.J;this.Nr=b}D(ip,P);function jp(a,b,c,d,f){gp.call(this,b,c,d,f);this.element=a}D(jp,gp);p=jp.prototype;p.Vh=u;p.we=function(){x(this.Qb)||(this.Qb=Ae(this.element));return this.Qb};p.Wj=function(){this.Vh();jp.a.Wj.call(this)};p.Ie=function(){this.Vh();jp.a.Ie.call(this)};p.Bd=function(){this.Vh();jp.a.Bd.call(this)};function kp(a,b,c,d,f){ga(b)&&(b=[b]);ga(c)&&(c=[c]);jp.call(this,a,b,c,d,f);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}D(kp,jp);
kp.prototype.Vh=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity\x3d"+100*a+")")};kp.prototype.show=function(){this.element.style.display=""};function lp(a,b,c){kp.call(this,a,1,0,b,c)}D(lp,kp);lp.prototype.Bd=function(){this.show();lp.a.Bd.call(this)};lp.prototype.Ie=function(){this.element.style.display="none";lp.a.Ie.call(this)};function mp(a,b,c){kp.call(this,a,0,1,b,c)}D(mp,kp);
mp.prototype.Bd=function(){this.show();mp.a.Bd.call(this)};function np(a,b,c,d){R.call(this);this.N=a||document.body;this.C=Tb(this.N);this.gr=!a;this.d=null;this.Db="";this.ga=[];this.Fd=[];this.Ln=this.Ug=-1;this.qa=!1;this.className="ac-renderer";this.kk="ac-row";this.Km="active";this.dl="ac-active";this.tq="ac-highlighted";this.ff=b||null;this.Dr=null!=d?d:!0;this.Hq=!0;this.rj=!1;this.hr=!!c;this.Oh=!1;this.oh=0}D(np,R);p=np.prototype;p.c=e("d");p.hk=function(a,b,c){this.Db=b;this.ga=a;this.Ug=-1;this.Ln=C();this.F=c;this.Fd=[];op(this)};
p.oc=function(){this.F&&Dl(this.F,null);this.qa&&(this.qa=!1,this.F&&X(this.F,"haspopup",!1),0<this.oh?(Dc(this.Ud),this.Ud=new lp(this.d,this.oh),this.Ud.play()):T(this.d,!1))};p.show=function(){this.qa||(this.qa=!0,this.F&&(Ef(this.F,"combobox"),X(this.F,"autocomplete","list"),X(this.F,"haspopup",!0)),0<this.oh?(Dc(this.Ud),this.Ud=new mp(this.d,this.oh),this.Ud.play()):T(this.d,!0))};p.X=e("qa");
function pp(a,b){var c=0<=b&&b<a.ga.length?a.ga[b]:void 0,d=0<=b&&b<a.Fd.length?a.Fd[b]:void 0;a.dispatchEvent({type:"rowhilite",qs:d,Le:c?c.data:null})&&(0<=a.Ug&&df(a.Fd[a.Ug],[a.dl,a.Km]),a.Ug=b,d&&(bf(d,[a.dl,a.Km]),a.F&&Dl(a.F,d),Be(d,a.d)))}p.wc=function(a){if(-1==a)pp(this,-1);else for(var b=0;b<this.ga.length;b++)if(this.ga[b].id==a){pp(this,b);break}};
function qp(a){if(!a.d){var b=a.C.f("div",{style:"display:none"});a.d=b;bf(b,wa(a.className).split(" "));Ef(b,"listbox");b.id=Re(Qe.h());a.C.appendChild(a.N,b);Q(b,"click",a.Mc,!1,a);Q(b,"mousedown",a.om,!1,a);Q(b,"mouseover",a.pm,!1,a)}}
function op(a){qp(a);a.Oh&&(a.d.style.visibility="hidden");a.Hr&&(a.d.style.minWidth=a.Hr.clientWidth+"px");a.Fd.length=0;a.C.Ah(a.d);if(a.ff&&a.ff.ma)a.ff.ma(a);else{var b=null;G(a.ga,function(a){var d=this.Db,f=this.C.f("div",{className:this.kk,id:Re(Qe.h())});Ef(f,"option");this.ff&&this.ff.os||(f.innerHTML=za(a.data.toString()));d&&this.Dr&&rp(this,f,d);af(f,this.kk);this.Fd.push(f);a=f;this.Oh?this.d.insertBefore(a,b):this.C.appendChild(this.d,a);b=a},a)}0==a.ga.length?a.oc():(a.show(),a.Ob(),
Je(a.d,!0))}p.Ob=function(){if(this.F&&this.gr){var a;a=this.hr?3:1;this.Oh&&(a^=1);Ti(this.ro||this.F,a,this.d,a^1,null,null,65);this.Oh&&(this.d.style.visibility="visible")}};p.e=function(){this.d&&($c(this.d,"click",this.Mc,!1,this),$c(this.d,"mousedown",this.om,!1,this),$c(this.d,"mouseover",this.pm,!1,this),this.C.removeNode(this.d),this.d=null,this.qa=!1);Dc(this.Ud);this.N=null;np.a.e.call(this)};
function rp(a,b,c){if(3==b.nodeType){var d=null;y(c)&&(1<c.length&&!a.rj)&&(d=$a(c,1));c=sp(a,c);if(0!=c.length){var f=b.nodeValue,g=a.Hq?RegExp("\\b(?:"+c+")","gi"):RegExp(c,"gi");c=[];for(var h=0,k=g.exec(f),l=0;k;)l++,c.push(f.substring(h,k.index)),c.push(f.substring(k.index,g.lastIndex)),h=g.lastIndex,k=g.exec(f);c.push(f.substring(h));if(1<c.length){d=a.rj?l:1;for(f=0;f<d;f++)g=2*f,b.nodeValue=c[g],h=a.C.createElement("b"),h.className=a.tq,a.C.appendChild(h,a.C.createTextNode(c[g+1])),h=b.parentNode.insertBefore(h,
b.nextSibling),b.parentNode.insertBefore(a.C.createTextNode(""),h.nextSibling),b=h.nextSibling;a=$a(c,2*d);b.nodeValue=a.join("")}else d&&rp(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,rp(a,b,c),b=d}function sp(a,b){var c="";if(!b)return c;y(b)&&(b=La(b,function(a){return!Ml(a)}));a.rj?y(b)?c=Ma(b,Ha).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ha(c),c=c.replace(/ /g,"|")):y(b)?c=0<b.length?Ha(b[0]):"":/^\W/.test(b)||(c=Ha(b));return c}
function tp(a,b){for(;b&&b!=a.d&&!$e(b,a.kk);)b=b.parentNode;return b?Ka(a.Fd,b):-1}p.Mc=function(a){var b=tp(this,a.target);0<=b&&this.dispatchEvent({type:Uo,Le:this.ga[b].id});a.stopPropagation()};p.om=function(a){a.stopPropagation();a.preventDefault()};p.pm=function(a){a=tp(this,a.target);0<=a&&!(300>C()-this.Ln)&&this.dispatchEvent({type:To,Le:this.ga[a].id})};function up(){}function Yo(a,b,c){3<a.length?xo.h().autocomplete(c||"",a,function(c){b.call(void 0,a,c)}):b.call(void 0,a,[])};function vp(a,b){cl.call(this,a,b);this.gk=this.so=null;this.oj=!1}D(vp,cl);vp.prototype.Ya=function(){var a=this.Gb,b=a.Tb.c(),c=new np,d=new Ro(void 0,void 0,!0,300),c=new So(new up,c,d);d.U=c;d.ni(b);this.so=c;this.gk=Yb("recommondations");this.i().b(a,Ai,this.ud).b(this.gk,"click",this.Zp);wp(this)};vp.prototype.ud=function(){wp(this)};
function wp(a){var b=a.Gb.Tb.t();yo(xo.h(),b,function(a){this.gk.innerHTML=a.reduce(function(a,b){return a+' \x3cspan class\x3d"suggest"\x3e'+b+"\x3c/span\x3e"},"")},a)}vp.prototype.Zp=function(a){var b=a.target;if(H(Db(b),"suggest")){a=this.Gb;var b=b.innerHTML,c=a.Tb.t();a.Tb.P(c+" "+b)}};function xp(){O.call(this)}D(xp,Ah);xp.prototype.Ea=function(){Bi.h().jd.push(vp)};function yp(){this.id="linkParser"}yp.prototype.parse=function(a){return twttr.txt.extractUrlsWithIndices(a.hc)||[]};function zp(a){U.call(this);this.xq=a}D(zp,U);w(zp);zp.prototype.f=function(){var a=this.p(),a=a.f("div","image-preview",a.f("img",{src:this.xq}));this.m(a)};zp.prototype.Tp=function(a){ue(this.c(),a.clientX+10,a.clientY+10);Eb(this.c(),"visible")};zp.prototype.Vp=function(){Fb(this.c(),"visible")};function Ap(){O.call(this)}D(Ap,Ah);Ap.prototype.Ea=function(){var a=ji.h();Q(a,Mm,this.Ep,!1,this);Q(a,"entry_display",this.Dp,!1,this)};Ap.prototype.Ep=function(a){a=a.target;for(var b=a.Gf,c=a.he().em(yp),d=0;d<c.length;d++){var f=c[d].url,g=20<f.length?f.substr(0,20)+"...":f;f.match(/^(http)/gi)||(f="http://"+f);b=b.replace(c[d].url,'\x3ca href\x3d"'+f+'" target\x3d"_blank" class\x3d"extern-link"\x3e'+g+"\x3c/a\x3e")}a.Gf=b};
Ap.prototype.Dp=function(a){a=a.Ar;for(var b=a.Jg("extern-link"),c=0;c<b.length;c++){var d=b[c],f=d.href;f.match(/(jpg|png|gif)$/gi)&&(f=new zp(f),a.V(f,!0),f.i().b(d,"mouseenter",f.Tp).b(d,"mouseleave",f.Vp))}};function Bp(){O.call(this)}D(Bp,Ah);Bp.prototype.Ea=function(a){a=a.Ai;uo();wl.h().Ea(a);Bi.h().Ea(a);po.h().Ea(a);var b=im.h();b.Ea(a);lm(b,"search/:searchStr",function(a,b){var f=Al("#"+b);yl(f,"#"+b)},this);lm(b,"edit/:entryId",function(a,b){var f=new Nm(b);ml(Bi.h(),f)},this);lm(b,"delete/:entryId",function(a,b){(new Nm(b)).$d()},this,!1);Bl(xp);Bl(Ap)};zh("core",Bp);
//@ sourceURL=/client/asset/common/js-min/LANG/core.js