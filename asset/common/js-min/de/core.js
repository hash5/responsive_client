function rl(a){return'\x3cli\x3e\x3cimg src\x3d"'+ng(a.Bj)+'" title\x3d"'+ng(a.title)+'" /\x3e\x3c/li\x3e'}function sl(a,b){var c=jg(rl,{title:b.Vb,Bj:b.Dj});a.I("helper-tile-btns").appendChild(c);a.i().b(c,"click",function(){this.qg(b)})}
function tl(a){return a=""+('\x3cdiv class\x3d"entry-editor"\x3e\x3ch2\x3eEdit entry\x3c/h2\x3e\x3cdiv class\x3d"entry-info"\x3e\x3cspan class\x3d"entry-date"\x3e'+ng(a.n)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-editor-body"\x3e\x3c/div\x3e\x3cdiv class\x3d"recommondations"\x3e\x3c/div\x3e\x3cul class\x3d"helper-tile-btns"\x3e\x3c/ul\x3e\x3cdiv class\x3d"helper-tiles"\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-actions"\x3e\x3cbutton class\x3d"btn primary save-btn"\x3eSave\x3c/button\x3e\x3cbutton class\x3d"btn cancle-btn"\x3eCancle\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e')}
function ul(a){var b=ud(a);if("undefined"==typeof b)throw Error("Keys are undefined");var c=new Uh(null,0,void 0);a=td(a);for(var d=0;d<b.length;d++){var f=b[d],g=a[d];if(y(g)){var h=c;h.remove(f);0<g.length&&(h.zb=null,h.ka.set(Wh(h,f),Wa(g)),h.W+=g.length)}else c.add(f,g)}return c}
vi.prototype.save=s(32,function(a,b,c){var d=new Rd;d.b("complete",function(d){d=ee(d.target);a.update(d);ia(b)&&b.call(c,a)},!1,this);var f=ul(a.ec()).toString();a.X()?d.send("/entries/"+a.X(),"PUT",f):d.send("/entries","POST",f)});he.prototype.ec=s(31,function(){return{}});ki.prototype.ec=s(30,function(){var a=[];G(this.Aa,function(b){a.push(b.ec())});return a});function vl(a){U.call(this);this.qf=a;this.Ub=new Hi("");this.V(this.Ub);this.cc=a.qe();this.pd=[]}D(vl,U);p=vl.prototype;
p.f=function(){var a={n:wl(this.qf.jm())},a=jg(tl,a);this.o(a)};p.o=function(a){vl.a.o.call(this,a);this.Ub.ga(this.I("entry-editor-body"));this.Ub.N(this.qf.Qc())};p.g=function(){vl.a.g.call(this);var a=this.i(),b=this.I("save-btn");a.b(b,"click",this.rq);b=this.I("cancle-btn");a.b(b,"click",this.close);a.b(this.Ub,"change",this.Bd);G(this.pd,function(a){a.Ka();a.wj&&sl(this,a)},this);this.Ub.c().focus()};p.qg=function(a,b){b=b||a.tp();b.Dr(a);this.V(b);b.ga(this.I("helper-tiles"))};p.close=function(){this.j()};
p.e=function(){G(this.pd,function(a){a.j()},this);vl.a.e.call(this)};p.Bd=function(){this.cc.Er(this.Ub.t());this.dispatchEvent(Ii)};p.rq=function(){var a=this.Ub.t();0<a.length&&(this.qf.Fk(a),this.qf.save(),this.close())};p.qe=e("cc");function xl(a){return!!a.Na&&0!=a.Na.length}qi.prototype.Pc=s(29,e("wk"));vi.prototype.ie=s(25,function(a){(new Rd).send("/entries/"+a.X(),"DELETE")});M.prototype.ceil=s(24,function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this});
Mb.prototype.ceil=s(23,function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this});te.prototype.ceil=s(22,function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this});ue.prototype.ceil=s(21,function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this});
nd.prototype.setInterval=s(20,function(a){this.Dd=a;this.w&&this.enabled?(this.stop(),this.start()):this.w&&this.stop()});U.prototype.Jh=s(19,function(a){for(var b=[];xl(this);)b.push(this.removeChild(W(this,0),a));return b});vi.prototype.search=s(18,function(a,b,c,d){return this.getEntries("/entries?query\x3d"+encodeURIComponent(a),b,c,d)});Ij.prototype.removeItem=s(17,function(a){(a=this.removeChild(a,!0))&&a.j()});Mj.prototype.removeItem=s(16,function(a){(a=Oj(this).removeChild(a,!0))&&a.j()});
Qj.prototype.removeItem=s(15,function(a){a&&Ua(this.Qa,a)&&a==this.ma&&(this.ma=null,this.dispatchEvent("select"))});Tj.prototype.removeItem=s(14,function(a){Tj.a.removeItem.call(this,a);this.O&&this.O.removeItem(a)});je.prototype.um=s(8,function(a){de(a.target)?(this.dispatchEvent(oe),document.location.reload()):this.dispatchEvent(pe)});pf.prototype.reset=s(6,function(){this.qa&&this.qa.reset()});uf.prototype.reset=s(5,function(){V(this,function(a){"function"==typeof a.reset&&a.reset()},this)});
ag.prototype.reset=s(4,function(){this.N("")});ah.prototype.reset=s(3,function(a){this.Vl=a;for(a=0;a<this.Xa.length;a++){var b=this.wd.id;b&&this.ye.Pb(b);this.wd.Pb(this.Xa[a])}this.Xa.length=0;this.ad.clear();this.Vh=C();this.xl=this.Sk=this.eo=this.$h=this.ai=0;b=this.Sd.qb();for(a=0;a<b.length;a++){var c=this.Sd.get(b[a]);c.count=0;c.time=0;c.lg=0;this.Jk.Pb(c)}this.Sd.clear()});Mh.prototype.reset=s(2,function(){this.set(C())});Hi.prototype.reset=s(1,function(){this.c().value=""});
Zj.prototype.reset=s(0,function(){this.Zf(0)});function yl(a,b){a.Ib&&a.Ib.j();var c=new vl(b);c.ga(a.Pf);G(a.pd,function(a){a=new a(b,c);c.pd.push(a);c.v&&(a.Ka(),a.wj&&sl(c,a))},a);a.Ib=c}function zl(){var a,b=vi.h();a||(a=new qi);a.hh=!0;var c=new Rd;c.b("complete",function(b){b=wi(ee(b.target));pi(a,b);ui(a)},!1,b);c.send("/entries");return a}function Al(a,b){for(var c=a.Aa,d=A(c)?c.split(""):c,f=c.length-1;0<=f;--f)f in d&&b.call(void 0,d[f],f,c)}
function Bl(a){a=a.Wb.locale;return x(a)?a:"en"}var Cl=/&([^;\s<&]+);?/g,Dl={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"};function El(a){for(var b in a)return!1;return!0}
function Fl(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}
function Gl(a){var b={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'},c=document.createElement("div");return a.replace(Cl,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})}function Hl(a){yl(Ji.h(),a)}function Il(a,b){var c=Jl.h().xk,d={title:b||a,type:"request",query:a};Kl(c,c.Ua.Ia(),d);c.ue()}
function Ll(a,b){var c=Jl.h();Ml(c.rh,a,b)}function Nl(a){a=new a;var b=Lh.h();a.Da(b)}function Ol(a,b){null!=a&&this.append.apply(this,arguments)}p=Ol.prototype;p.va="";p.set=function(a){this.va=""+a};p.append=function(a,b,c){this.va+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.va+=arguments[d];return this};p.clear=function(){this.va=""};p.toString=e("va");function Pl(a,b){var c="";b&&(c=b.id);X(a,"activedescendant",c)}
function Ql(a){if(ga(a))return Wa(a);a=yd(a);var b=[];zd(a,function(a){b.push(a)});return b}function Rl(a){this.Kh=a}Rl.prototype.ec=function(a){var b=[];Sl(this,a,b);return b.join("")};
function Sl(a,b,c){switch(typeof b){case "string":Tl(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(y(b)){var d=b.length;c.push("[");for(var f="",g=0;g<d;g++)c.push(f),f=b[g],Sl(a,a.Kh?a.Kh.call(b,String(g),f):f,c),f=",";c.push("]");break}c.push("{");d="";for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(f=b[g],"function"!=typeof f&&(c.push(d),Tl(g,c),
c.push(":"),Sl(a,a.Kh?a.Kh.call(b,g,f):f,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}function Tl(a,b){b.push('"',a.replace(rd,function(a){if(a in Dl)return Dl[a];var b=a.charCodeAt(0),f="\\u";16>b?f+="000":256>b?f+="00":4096>b&&(f+="0");return Dl[a]=f+b.toString(16)}),'"')}function Ul(a){a.preventDefault()}function Vl(a,b){a=a.parentNode;for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}
function Wl(a,b,c){return dc(document,arguments)}function Xl(a){var b=!H(Eb(a),"visible");Ib(a,"visible",b)}function Yl(a){return/^[\s\xa0]*$/.test(null==a?"":String(a))}function Zl(a,b){for(var c=a.split("%s"),d="",f=Array.prototype.slice.call(arguments,1);f.length&&1<c.length;)d+=c.shift()+f.shift();return d+c.join("%s")};function $l(a,b){P.call(this,"navigate");this.Qr=a;this.xs=b}D($l,P);function am(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};function bm(a,b,c,d){R.call(this);if(a&&!b)throw Error("Can't use invisible history without providing a blank page.");var f;c?f=c:(f="history_state"+cm,document.write(Zl(dm,f,f)),f=Wb(document,f));this.Df=f;this.H=c?N(c)?N(c).parentWindow||N(c).defaultView:window:window;this.bh=b;I&&!b&&(this.bh="https"==window.location.protocol?"https:///":'javascript:""');this.w=new nd(em);Dc(this,this.w);this.Vd=!a;this.s=new S(this);if(a||fm)d?a=d:(a="history_iframe"+cm,b=this.bh?'src\x3d"'+Aa(this.bh)+'"':"",
document.write(Zl(gm,a,b)),a=Wb(document,a)),this.ze=a,this.jo=!0;fm&&(this.s.b(this.H,"load",this.hr),this.Ln=this.Ui=!1);this.Vd?hm(this,this.Ab(),!0):im(this,this.Df.value);cm++}D(bm,R);bm.prototype.ia=!1;bm.prototype.Ie=!1;bm.prototype.Ge=null;
var jm=function(a,b){var c=b||am;return function(){var b=this||t,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),f=c(la(a),arguments);return b.hasOwnProperty(f)?b[f]:b[f]=a.apply(this,arguments)}}(function(){return I?8<=document.documentMode:"onhashchange"in t}),fm=I&&!yb(8),km=fm;p=bm.prototype;p.He=null;p.e=function(){bm.a.e.call(this);this.s.j();this.za(!1)};
p.za=function(a){if(a!=this.ia)if(fm&&!this.Ui)this.Ln=a;else if(a)if(mb?this.s.b(this.H.document,lm,this.or):J&&this.s.b(this.H,"pageshow",this.zh),jm()&&this.Vd)this.s.b(this.H,"hashchange",this.ir),this.ia=!0,this.dispatchEvent(new $l(this.Ab(),!1));else{if(!I||this.Ui)this.s.b(this.w,od,B(this.od,this,!0)),this.ia=!0,fm||(this.Ge=this.Ab(),this.dispatchEvent(new $l(this.Ab(),!1))),this.w.start()}else this.ia=!1,this.s.tb(),this.w.stop()};
p.hr=function(){this.Ui=!0;this.Df.value&&im(this,this.Df.value,!0);this.za(this.Ln)};p.zh=function(a){a.Pa.persisted&&(this.za(!1),this.za(!0))};p.ir=function(){var a=mm(this.H);a!=this.Ge&&this.Ud(a,!0)};p.Ab=function(){return null!=this.He?this.He:this.Vd?mm(this.H):nm(this)||""};p.Rh=function(a,b){om(this,a,!1,b)};p.wn=function(a,b){om(this,a,!0,b)};function mm(a){a=a.location.href;var b=a.indexOf("#");return 0>b?"":a.substring(b+1)}
function om(a,b,c,d){a.Ab()!=b&&(a.Vd?(hm(a,b,c),jm()||I&&im(a,b,c,d),a.ia&&a.od(!1)):(im(a,b,c),a.He=a.Ge=a.Df.value=b,a.dispatchEvent(new $l(b,!1))))}function hm(a,b,c){a=a.H.location;var d=a.href.split("#")[0],f=Ha(a.href,"#");if(km||f||b)d+="#"+b;d!=a.href&&(c?a.replace(d):a.href=d)}
function im(a,b,c,d){if(a.jo||b!=nm(a))if(a.jo=!1,b=encodeURIComponent(String(b)),I){var f=a.ze.contentDocument||a.ze.contentWindow.document;f.open("text/html",c?"replace":void 0);f.write(Zl(pm,Aa(d||a.H.document.title),b));f.close()}else if(b=a.bh+"#"+b,a=a.ze.contentWindow)c?a.location.replace(b):a.location.href=b}
function nm(a){if(I)return a=a.ze.contentDocument||a.ze.contentWindow.document,a.body?za(a.body.innerHTML):null;var b=a.ze.contentWindow;if(b){var c;try{c=za(mm(b))}catch(d){return a.Ie||(!0!=a.Ie&&a.w.setInterval(qm),a.Ie=!0),null}a.Ie&&(!1!=a.Ie&&a.w.setInterval(em),a.Ie=!1);return c||null}return null}p.od=function(a){if(this.Vd){var b=mm(this.H);b!=this.Ge&&this.Ud(b,a)}if(!this.Vd||fm)if(b=nm(this)||"",null==this.He||b==this.He)this.He=null,b!=this.Ge&&this.Ud(b,a)};
p.Ud=function(a,b){this.Ge=this.Df.value=a;this.Vd?(fm&&im(this,a),hm(this,a)):im(this,a);this.dispatchEvent(new $l(this.Ab(),b))};p.or=function(){this.w.stop();this.w.start()};var lm=["mousedown","keydown","mousemove"],pm="\x3ctitle\x3e%s\x3c/title\x3e\x3cbody\x3e%s\x3c/body\x3e",gm='\x3ciframe id\x3d"%s" style\x3d"display:none" %s\x3e\x3c/iframe\x3e',dm='\x3cinput type\x3d"text" name\x3d"%s" id\x3d"%s" style\x3d"display:none"\x3e',cm=0,em=150,qm=1E4;function rm(a,b){R.call(this);this.H=a||window;this.bi=b||null;Q(this.H,"popstate",this.Oe,!1,this);Q(this.H,"hashchange",this.Oe,!1,this)}D(rm,R);p=rm.prototype;p.ia=!1;p.kg=!0;p.Qf="/";p.za=function(a){a!=this.ia&&(this.ia=a)&&this.dispatchEvent(new $l(this.Ab(),!1))};p.Ab=function(){if(this.kg){var a=this.H.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)}return this.bi?this.bi.Ds(this.Qf,this.H.location):this.H.location.pathname.substr(this.Qf.length)};
p.Rh=function(a,b){a!=this.Ab()&&(this.H.history.pushState(null,b||this.H.document.title||"",sm(this,a)),this.dispatchEvent(new $l(a,!1)))};p.wn=function(a,b){this.H.history.replaceState(null,b||this.H.document.title||"",sm(this,a));this.dispatchEvent(new $l(a,!1))};p.e=function(){dd(this.H,"popstate",this.Oe,!1,this);this.kg&&dd(this.H,"hashchange",this.Oe,!1,this)};p.Fr=function(a){this.kg!=a&&(a?Q(this.H,"hashchange",this.Oe,!1,this):dd(this.H,"hashchange",this.Oe,!1,this),this.kg=a)};
function sm(a,b){return a.kg?"#"+b:a.bi?a.bi.is(b,a.Qf,a.H.location):a.Qf+b+a.H.location.search}p.Oe=function(){this.ia&&this.dispatchEvent(new $l(this.Ab(),!0))};function tm(a,b,c){this.pattern=a;this.nd=b;this.ve=c;this.vl=!0}function um(){R.call(this);this.sa=new S(this);this.sa.b(document,"click",this.wp);this.Jj=!1;this.zn=[];this.jg=""}D(um,R);w(um);p=um.prototype;p.Da=function(a){var b=window,b=b.history&&b.history.pushState?new rm:new bm;b.Qf=a.path_prefix;b.za(!0);this.Dm=b;b.Fr||(a=b.Ab(),this.navigate(""),this.navigate(a));this.sa.b(b,"navigate",this.Yp,!1,this)};
p.wp=function(a){if(0==a.button){var b=a.target.href?a.target:Vl(a.target,function(a){return a.href?!0:!1});b&&b.href&&("redirect"!=b.rel&&"_blank"!=b.target)&&(a.preventDefault(),a=Pd(Qd(5,b.href))||"",this.navigate(a))}};p.Yp=function(a){if(!this.Jj){var b=a.Qr;b!=this.jg&&(a=Qa(this.zn,function(a){var d=a.pattern.exec(b);d?(a.nd.apply(a.ve,d),a=!0):a=!1;return a},this))&&(a.vl?(this.dispatchEvent(vm),this.Th(b)):this.Th(this.jg,!0))}};
function wm(a,b,c,d,f){A(b)&&(b=RegExp("^"+Ia(b).replace(/\\:\w+/g,"(\\w+)").replace(/\\\*/g,"(.*)").replace(/\\\[/g,"(").replace(/\\\]/g,")?").replace(/\\\{/g,"(?:").replace(/\\\}/g,")?")+"$"));b=new tm(b,c,d);x(f)&&(b.vl=f);a.zn.push(b)}p.navigate=function(a){"/"==a.substr(0,1)&&(a=a.substr(1));this.Dm.Rh(a)};p.Th=function(a,b){this.jg=a;if(b){var c=a;"/"==c.substr(0,1)&&(c=c.substr(1));this.Jj=!0;this.Dm.wn(c);this.Jj=!1}};var vm="navigate";function xm(){U.call(this)}D(xm,U);function ym(a,b,c){R.call(this);this.target=a;this.handle=b||a;this.Vm=c||new ue(NaN,NaN,NaN,NaN);this.A=N(a);this.s=new S(this);Dc(this,this.s);Q(this.handle,["touchstart","mousedown"],this.Ve,!1,this)}D(ym,R);var zm=I||J&&L("1.9.3");p=ym.prototype;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.Wn=0;p.Xn=0;p.fe=0;p.ge=0;p.ia=!0;p.td=!1;p.Aj=0;p.ar=0;p.Kq=!1;p.fi=!1;p.i=e("s");p.Qh=function(a){this.Aj=Math.pow(a,2)};p.In=ca("Oh");p.za=ca("ia");
p.e=function(){ym.a.e.call(this);dd(this.handle,["touchstart","mousedown"],this.Ve,!1,this);this.s.tb();zm&&this.A.releaseCapture();this.handle=this.target=null};function Am(a){x(a.gb)||(a.gb=Ge(a.target));return a.gb}
p.Ve=function(a){var b="mousedown"==a.type;if(!this.ia||this.td||b&&!Mc(a))this.dispatchEvent("earlycancel");else{Bm(a);if(0==this.Aj)if(this.dispatchEvent(new Cm("start",this,a.clientX,a.clientY,a)))this.td=!0,a.preventDefault();else return;else a.preventDefault();var b=this.A,c=b.documentElement,d=!zm;this.s.b(b,["touchmove","mousemove"],this.kq,d);this.s.b(b,["touchend","mouseup"],this.vd,d);zm?(c.setCapture(!1),this.s.b(c,"losecapture",this.vd)):this.s.b(b?b.parentWindow||b.defaultView:window,
"blur",this.vd);I&&this.Kq&&this.s.b(b,"dragstart",Ul);this.Oh&&this.s.b(this.Oh,"scroll",this.on,d);this.clientX=this.Wn=a.clientX;this.clientY=this.Xn=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.fi?(a=this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=ye(a,"position")||(c=N(a).documentElement),c?(J?(d=Ie(c),b+=d.left):yb(8)&&(d=Ie(c),b-=d.left),a=Ge(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.fe=a;this.ge=this.target.offsetTop;this.jk=xc(Ub(this.A));
this.ar=C()}};p.vd=function(a,b){this.s.tb();zm&&this.A.releaseCapture();if(this.td){Bm(a);this.td=!1;var c=Dm(this,this.fe),d=Em(this,this.ge);this.dispatchEvent(new Cm("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function Bm(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.Ka(a.Pa.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.Ka(a.Pa.changedTouches[0],a.currentTarget)}
p.kq=function(a){if(this.ia){Bm(a);var b=(this.fi&&Am(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.td){var d=this.Wn-this.clientX,f=this.Xn-this.clientY;if(d*d+f*f>this.Aj)if(this.dispatchEvent(new Cm("start",this,a.clientX,a.clientY,a)))this.td=!0;else{this.Lc||this.vd(a);return}}c=Fm(this,b,c);b=c.x;c=c.y;this.td&&this.dispatchEvent(new Cm("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(Gm(this,a,b,c),a.preventDefault())}};function Fm(a,b,c){var d=xc(Ub(a.A));b+=d.x-a.jk.x;c+=d.y-a.jk.y;a.jk=d;a.fe+=b;a.ge+=c;b=Dm(a,a.fe);a=Em(a,a.ge);return new M(b,a)}p.on=function(a){var b=Fm(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;Gm(this,a,b.x,b.y)};function Gm(a,b,c,d){a.fi&&Am(a)?a.target.style.right=c+"px":a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new Cm("drag",a,b.clientX,b.clientY,b,c,d))}
function Dm(a,b){var c=a.Vm,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function Em(a,b){var c=a.Vm,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function Cm(a,b,c,d,f,g,h,k){P.call(this,a);this.clientX=c;this.clientY=d;this.sl=f;this.left=x(g)?g:b.fe;this.top=x(h)?h:b.ge;this.gp=b;this.fp=!!k}D(Cm,P);function Hm(){R.call(this);this.Ha=[];this.me=[];this.Wi={};this.s=new S(this);this.Nq=this.Km=!1;this.Vk=!0}D(Hm,R);p=Hm.prototype;p.Em=0;p.Qh=ca("Em");p.Ka=function(){if(!this.Km){for(var a=0,b=this.Ha.length;a<b;a++)for(var c=kc(this.Ha[a]),d=0,f=c.length;d<f;++d)Im(this,c[d]);this.Km=!0}};p.e=function(){this.s.j();for(var a=0,b=this.Ha.length;a<b;a++){var c=this.Ha[a];c.Ti=void 0;c.Mc=void 0}this.Ha.length=0;this.me.length=0;this.Wi=null;Jm(this);Hm.a.e.call(this)};
function Km(a,b){for(var c=0,d=a.Ha.length;c<d;c++){var f=a.Ha[c];f.ke=Me(f)}c=0;for(d=a.me.length;c<d;c++)f=a.me[c],f!=b&&(f.ke=Me(f))}function Im(a,b){var c=a.mm(b),d=la(c);a.Wi[d]=b;a.$l&&(a.s.b(b,"mouseover",a.Lp),a.s.b(b,"mouseout",a.Kp));a.Zl&&(a.s.b(c,"mouseover",a.Jp),a.s.b(c,"mouseout",a.Ip));a.me.push(b);a.s.b(c,["mousedown","touchstart"],a.mq)}
p.mq=function(a){var b=la(a.currentTarget);this.u=this.Wi[b];this.ca=this.Hi(this.u);this.hp&&hf(this.ca,this.hp||[]);this.ca.style.margin="0";this.ca.style.position="absolute";this.ca.style.visibility="hidden";N(this.u).body.appendChild(this.ca);b=Ee(this.u);Je(this.ca,b);this.aa=new ym(this.ca);this.aa.Qh(this.Em);Q(this.aa,"start",this.Ug,!1,this);Q(this.aa,"end",this.Tg,!1,this);Q(this.aa,"earlycancel",this.Fi,!1,this);this.aa.Ve(a)};
p.Ug=function(a){if(this.dispatchEvent(new Lm("beforedragstart",this,a.sl,this.u,null,null))){this.Bh=this.u.parentNode;this.Pl=this.hk=void 0!=this.u.nextElementSibling?this.u.nextElementSibling:mc(this.u.nextSibling,!0);this.Ni=this.Bh;this.Mi?hf(this.u,this.Mi||[]):this.u.style.visibility="hidden";var b=Ke(this.ca);this.ca.vp=b.width/2;this.ca.up=b.height/2;this.ca.style.visibility="";this.Vk&&(this.u.style.display="none");Km(this,this.u);this.u.style.display="";Q(this.aa,"drag",this.Mp,!1,this);
this.dispatchEvent(new Lm("dragstart",this,a.sl,this.u,this.ca,this.aa))}else a.preventDefault(),this.Fi()};
p.Mp=function(a){var b=Ee(this.ca),b=new M(b.x+this.ca.vp,b.y+this.ca.up),c;a:{c=null;if("none"!=this.u.style.display){c=this.u.parentNode;var d=Me(c);if(Mm(b,d))break a}for(var d=0,f=this.Ha.length;d<f;d++){var g=this.Ha[d];if(g!=c&&Mm(b,g.ke)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var k,m,d=!1,f=void 0;switch(c.Ti){case 0:h=b.y;k=Nm;m=Om;break;case 4:d=!0;case 2:h=b.x;k=Pm;m=Om;break;case 5:d=!0;case 3:h=b.x,k=Qm,m=Rm}for(var g=null,
n,q=kc(c),v=0,Za=q.length;v<Za;v++){var oa=q[v];if(oa!=this.u){var Fa=k(oa.ke);if(d){var Sa=Sm(oa,b);x(f)||(f=Sa);m(h,Fa)&&(void 0==n||Sa<f||Sa==f&&(m(Fa,n)||Fa==n))&&(g=oa,n=Fa);Sa<f&&(f=Sa)}else m(h,Fa)&&(void 0==n||m(Fa,n))&&(g=oa,n=Fa)}}h=null!==g&&Sm(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new Lm("beforedragmove",this,a,this.u,this.ca,this.aa,b,c,h)))return!1;if(c)this.Vk?this.u.parentNode==c&&(void 0!=this.u.nextElementSibling?this.u.nextElementSibling:mc(this.u.nextSibling,!0))==h||
c.insertBefore(this.u,h):h&&(this.Pl=h),this.u.style.display="",c.Mc&&gf(c,c.Mc);else for(this.Nq||(this.u.style.display="none"),k=0,m=this.Ha.length;k<m;k++)n=this.Ha[k],n.Mc&&jf(n,n.Mc);c!=this.Ni&&(this.Ni=c,Km(this,this.u));this.dispatchEvent(new Lm("dragmove",this,a,this.u,this.ca,this.aa,b,c,h));return!1};p.Fi=function(){Jm(this);this.aa=this.ca=this.hk=this.Bh=this.Ni=this.u=null;for(var a=0,b=this.Ha.length;a<b;a++)this.Ha[a].ke=null;a=0;for(b=this.me.length;a<b;a++)this.me[a].ke=null};
p.Tg=function(a){if(!this.dispatchEvent(new Lm("beforedragend",this,a,this.u,this.ca,this.aa)))return!1;this.Vk||this.Bh.insertBefore(this.u,this.Pl);Jm(this);this.dispatchEvent(new Lm("dragend",this,a,this.u,this.ca,this.aa));this.Fi();return!0};
function Jm(a){Ec(a.aa);a.ca&&jc(a.ca);a.u&&"none"==a.u.style.display&&(a.Bh.insertBefore(a.u,a.hk),a.u.style.display="");a.Mi&&a.u?kf(a.u,a.Mi||[]):a.u&&(a.u.style.visibility="visible");for(var b=0,c=a.Ha.length;b<c;b++){var d=a.Ha[b];d.Mc&&jf(d,d.Mc)}}p.mm=aa();p.Lp=function(a){hf(a.currentTarget,this.$l||[])};p.Kp=function(a){kf(a.currentTarget,this.$l||[])};p.Jp=function(a){hf(a.currentTarget,this.Zl||[])};p.Ip=function(a){kf(a.currentTarget,this.Zl||[])};
function Mm(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Sm(a,b){var c=a.ke;return Math.abs(b.y-(c.top+(c.height-1)/2))}function Nm(a){return a.top+a.height-1}function Pm(a){return a.left+a.width-1}function Qm(a){return a.left||0}function Om(a,b){return a<b}function Rm(a,b){return a>b}
p.Hi=function(a){var b=a.cloneNode(!0);switch(a.tagName.toLowerCase()){case "tr":return Wl("table",null,Wl("tbody",null,b));case "td":case "th":return Wl("table",null,Wl("tbody",null,Wl("tr",null,b)));default:return b}};function Lm(a,b,c,d,f,g,h,k,m){P.call(this,a);this.ms=b;this.event=c;this.$o=d;this.os=f;this.gp=g;this.ps=h;this.vs=k;this.ws=m}D(Lm,P);var Tm,Um;function wl(a){var b=a.getTime(),c;c=C();var d=Math.floor((c-b)/6E4);c=!1;0>d&&(c=!0,d*=-1);60>d?c=Vm(d,c,0):(d=Math.floor(d/60),24>d?c=Vm(d,c,1):(d=new Date(C()),d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0),d=Math.ceil((d.getTime()-b)/864E5),c&&(d*=-1),c=14>d?Vm(d,c,2):""));c&&(c=" ("+c+")");1440>Math.floor((C()-b)/6E4)?(Um||(Um=new dk(7)),a=fk(Um,a)+c):(Tm||(Tm=new dk(0)),a=fk(Tm,a)+c);return a}
function Vm(a,b,c){var d=hk(""+a);return b||0!=c?b&&0==c?1==a?"in "+(d+" Minute"):"in "+(d+" Minuten"):b||1!=c?b&&1==c?1==a?"in "+(d+" Stunde"):"in "+(d+" Stunden"):b||2!=c?b&&2==c?1==a?"in "+(d+" Tag"):"in "+(d+" Tagen"):"":1==a?"vor "+(d+" Tag"):"vor "+(d+" Tage"):1==a?"vor "+(d+" Stunde"):"vor "+(d+" Stunden"):1==a?"vor "+(d+" Minute"):"vor "+(d+" Minuten")};function ri(){R.call(this);this.Yi={}}D(ri,R);w(ri);ri.prototype.get=function(a){return this.Yi[a]||null};ri.prototype.set=function(a,b){this.Yi[a]=b;b.Tb(this)};ri.prototype.remove=function(a){return Qb(this.Yi,a)};function Wm(a,b){this.ic=a||"";this.qf=b||null;this.ag=[];this.zg=[];this.Yq=[];this.Pq=[];this.Ci={};this.zk={}}
Wm.prototype.Er=function(a){this.ic=a;this.zk={};this.Ci={};a=twttr.txt.extractHashtagsWithIndices(this.ic);this.ag=[];this.zg=[];for(var b=0;b<a.length;b++){var c=a[b],d=this.ic.slice(c.Ae[1]),d=/^:(?:(?:"([^"]*)")|([^\s"]+))/g.exec(d),f=null;null!==d&&(f=d[1]?d[1]:d[2],void 0===f&&(f=""));d=f;null===d?-1==this.ag.indexOf(c.Bm)&&this.ag.push(c.Bm):(f=c.Ae[1],this.zg.push({key:c.Bm,value:d,Ae:[f,f+d.length]}))}};
Wm.prototype.om=function(a){var b=this.Ci[a];x(b)||(b=(new a).parse(this),this.Ci[a]=b);return b};function Xm(a,b){R.call(this);this.bc=a;this.Kf=this.bc.Qc();this.Bs=this.bc.Qc();this.cc=b;this.Lm=!1;this.Tb(ri.h())}D(Xm,R);Xm.prototype.qe=e("cc");Xm.prototype.toString=function(){if(!this.Lm){this.dispatchEvent(Ym);for(var a=this.Kf,b=this.cc.ag,c=0;c<b.length;c++)var d="#"+b[c],a=a.replace(d,'\x3ca class\x3d"hash-link simple" href\x3d"/search/'+encodeURIComponent(b[c])+'"\x3e'+d+"\x3c/a\x3e");this.Kf=a;this.Lm=!0}return this.Kf};var Ym="entry_text_parse";function Zm(a){R.call(this);var b;if(x(a)){var c=ri.h();if(b=c.get(a))return b;c.set(a,this)}this.xa=a||"";this.ic="";this.Gn=this.Ok=this.cc=this.Cl=null}D(Zm,he);function xi(a){var b=new Zm(a._id);b.update(a);return b}p=Zm.prototype;p.X=e("xa");p.Fk=function(a){this.ic=a;this.Ok=null;this.dispatchEvent(si)};p.Qc=e("ic");p.jm=function(){return this.Cl||new Pi};
p.qe=function(){if(!this.cc){var a=this.cc=new Wm(this.ic,this),b=this.Gn||{};a.zk=b;x(b.simple_tags)&&(a.ag=b.simple_tags);x(b.complex_tags)&&(a.zg=b.complex_tags);x(b.mentions)&&(a.Yq=b.mentions);x(b.keywords)&&(a.Pq=b.keywords)}return this.cc};function $m(a){return a.Ok||(a.Ok=new Xm(a,a.qe()))}p.save=function(a,b){var c=vi.h();this.X()?c.save(this,a,b):c.save(this,function(){ri.h().set(this.X(),this);this.dispatchEvent(ti);ia(a)&&a.call(b,this)},this)};
p.ie=function(){var a=vi.h();this.xa&&(a.ie(this),this.xa="");this.dispatchEvent("destroy")};p.update=function(a){this.Gn=a;var b={};x(a._id)&&(b.xa=a._id);x(a.text)&&(b.ic=a.text);x(a.created_date)&&(b.Cl=A(a.created_date)?Oi(a.created_date):a.created_date);Zm.a.update.call(this,b)};p.ec=function(){return{text:this.ic}};var ti="entry_created",si="text_changed";function an(a){var b='\x3cli class\x3d"entry"\x3e\x3cdiv class\x3d"entry-actions"\x3e\x3ca class\x3d"action-edit" href\x3d"'+ng(a.ip)+'"\x3e\x3c/a\x3e\x3ca class\x3d"action-delete" href\x3d"'+ng(a.dp)+'"\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"entry-body"\x3e',c;c=(c=a.body)&&c.Bg===ig?"zSoyz":String(c);return b+c+'\x3c/div\x3e\x3cdiv class\x3d"entry-info"\x3e\x3cspan class\x3d"entry-date"\x3e'+ng(a.n)+"\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e"};function bn(a){U.call(this);this.Ra=a}D(bn,U);bn.prototype.f=function(){var a=this.Ra,b=wl(a.jm()),a={ip:"/edit/"+a.X(),dp:"/delete/"+a.X(),body:$m(a).toString(),n:b},a=jg(an,a);this.o(a)};bn.prototype.g=function(){bn.a.g.call(this);var a=this.Ra;this.i().b(a,si,this.Bd);$m(a).dispatchEvent({type:"entry_display",io:this});this.getParent()};bn.prototype.Bd=function(){var a=$m(this.Ra).toString();this.I("entry-body").innerHTML=a;$m(this.Ra).dispatchEvent({type:"entry_display",io:this})};function cn(a){U.call(this);this.ne=a;this.ne.forEach(function(a){dn(this,a)},this);this.xb=new Hm;this.xb.Qh(10)}D(cn,U);p=cn.prototype;p.f=function(){var a=this.p().f("ul","entry-list");this.o(a)};p.g=function(){cn.a.g.call(this);this.i().b(this.ne,li,this.Np).b(this.ne,oi,this.Tp).b(this.ne,mi,this.Rp).b(this.xb,"beforedragend",this.Qp);var a=this.xb,b=this.c();b.Ti=0;b.Mc=void 0;a.Ha.push(b);this.xb.Ka()};p.Qp=function(a){console.log(a);return!1};p.Np=function(a){dn(this,a.item,a.index)};
p.Tp=function(a){(a=this.removeChild(W(this,a.index),!0))&&a.j()};p.Rp=function(a){this.Xb(W(this,a.fr),a.dr)};function dn(a,b,c){b=new bn(b);ha(c)?a.Xb(b,c,!0):a.V(b,!0)}p.e=function(){this.xb.j()};function en(a){U.call(this);this.hd=new Hi("");this.hd.Yf("Add Entry...");this.V(this.hd,!0);this.ao=a||""}D(en,U);p=en.prototype;p.f=function(){var a=this.p(),a=a.f("div","quick-create-entry hidden",[a.f("div","actions")]);this.o(a)};p.g=function(){en.a.g.call(this);this.i().b(this.hd,"keydown",this.Ad).b(this.hd,"focus",this.zd)};p.zd=function(){!this.hd.t()&&this.ao&&this.hd.N(this.ao+" ")};p.Ad=function(a){if(13==a.keyCode&&!a.shiftKey&&(a=this.hd.t())){var b=new Zm;b.Fk(a);b.save();this.hd.reset()}};
p.$=function(a){Ib(this.c(),"hidden",!a)};function fn(a){return a=""+('\x3csection class\x3d"entry-list-container" data-id\x3d"'+ng(a.id)+'"\x3e\x3cdiv class\x3d"entry-list-actions"\x3e\x3cdiv class\x3d"action action-add" data-tooltip\x3d"add" data-action\x3d"add"\x3e\x3c/div\x3e\x3cdiv class\x3d"action action-close" data-tooltip\x3d"close" data-action\x3d"close"\x3e\x3c/div\x3e\x3cdiv class\x3d"action action-toggle" data-action\x3d"toggle"\x3e\x3c/div\x3e\x3cul class\x3d"entry-list-menu"\x3e\x3cli class\x3d"action-save" data-action\x3d"save"\x3eSave\x3c/li\x3e\x3cli class\x3d"action-delete" data-action\x3d"delete"\x3eDelete all\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3ch3\x3e\x3cspan class\x3d"drag-element"\x3e\x3c/span\x3e'+
ng(a.title)+"\x3c/h3\x3e\x3c/section\x3e")};function gn(a,b){U.call(this);this.tn=new en;this.Zi=new cn(a);this.Vb=b||a.Pc()}D(gn,U);p=gn.prototype;p.f=function(){var a={title:this.Vb,id:this.X()},a=jg(fn,a);this.o(a)};p.o=function(a){gn.a.o.call(this,a);this.V(this.tn,!0);this.V(this.Zi,!0)};p.g=function(){gn.a.g.call(this);this.i().b(this.I("entry-list-actions"),"click",this.xp).b(this.tn,"resize",this.Cp)};p.Cp=function(a){console.log(a)};
p.Qk=function(){var a=this.I("entry-list-menu");Xl(a);H(Eb(a),"visible")?this.i().b(document.body,"click",this.Qk,!0):this.i().G(document.body,"click",this.Qk,!0)};p.Pc=function(){return this.Zi.ne.Pc()};p.xp=function(a){switch(a.target.getAttribute("data-action")){case "add":a=new Zm;Hl(a);break;case "toggle":this.Qk();break;case "close":this.close();break;case "save":Il(this.Pc(),this.Vb);break;case "delete":Al(this.Zi.ne,function(a){a.ie()}),this.close()}};
p.close=function(){this.getParent().removeChild(this);this.j()};function hn(a){this.vh=a;this.Cr=new Rl}hn.prototype.set=function(a,b){x(b)?this.vh.set(a,this.Cr.ec(b)):this.vh.remove(a)};hn.prototype.get=function(a){var b;try{b=this.vh.get(a)}catch(c){return}if(null!==b)try{return qd(b)}catch(d){throw"Storage: Invalid value was encountered";}};hn.prototype.remove=function(a){this.vh.remove(a)};function jn(){};function kn(a){hn.call(this,a)}D(kn,hn);function ln(a){this.data=a}function mn(a){return!x(a)||a instanceof ln?a:new ln(a)}kn.prototype.set=function(a,b){kn.a.set.call(this,a,mn(b))};kn.prototype.mj=function(a){a=kn.a.get.call(this,a);if(!x(a)||a instanceof Object)return a;throw"Storage: Invalid value was encountered";};kn.prototype.get=function(a){if(a=this.mj(a)){if(a=a.data,!x(a))throw"Storage: Invalid value was encountered";}else a=void 0;return a};function nn(a){hn.call(this,a)}D(nn,kn);nn.prototype.set=function(a,b,c){if(b=mn(b)){if(c){if(c<C()){nn.prototype.remove.call(this,a);return}b.expiration=c}b.creation=C()}nn.a.set.call(this,a,b)};nn.prototype.mj=function(a,b){var c=nn.a.mj.call(this,a);if(c){var d;if(d=!b){d=c.creation;var f=c.expiration;d=!!f&&f<C()||!!d&&d>C()}if(d)nn.prototype.remove.call(this,a);else return c}};function on(){}D(on,jn);on.prototype.M=function(){var a=0;zd(this.Fb(!0),function(){a++});return a};on.prototype.clear=function(){var a=Ql(this.Fb(!0)),b=this;G(a,function(a){b.remove(a)})};function pn(a){this.Db=a}D(pn,on);p=pn.prototype;p.Ij=function(){if(!this.Db)return!1;try{return this.Db.setItem("__sak","1"),this.Db.removeItem("__sak"),!0}catch(a){return!1}};p.set=function(a,b){try{this.Db.setItem(a,b)}catch(c){if(0==this.Db.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};p.get=function(a){a=this.Db.getItem(a);if(!A(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};p.remove=function(a){this.Db.removeItem(a)};
p.M=function(){return this.Db.length};p.Fb=function(a){var b=0,c=this.Db,d=new xd;d.next=function(){if(b>=c.length)throw wd;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!A(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};p.clear=function(){this.Db.clear()};p.key=function(a){return this.Db.key(a)};function qn(){var a=null;try{a=window.localStorage||null}catch(b){}this.Db=a}D(qn,pn);function rn(a,b){if(I&&!yb(9)){sn||(sn=new Ad);this.cb=sn.get(a);this.cb||(b?this.cb=document.getElementById(b):(this.cb=document.createElement("userdata"),this.cb.addBehavior("#default#userData"),document.body.appendChild(this.cb)),sn.set(a,this.cb));this.We=a;try{this.cb.load(this.We)}catch(c){this.cb=null}}}D(rn,on);var tn={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},sn=null;p=rn.prototype;p.cb=null;p.We=null;
function un(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return tn[a]})}p.Ij=function(){return!!this.cb};p.set=function(a,b){this.cb.setAttribute(un(a),b);vn(this)};p.get=function(a){a=this.cb.getAttribute(un(a));if(!A(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};p.remove=function(a){this.cb.removeAttribute(un(a));vn(this)};p.M=function(){return wn(this).attributes.length};
p.Fb=function(a){var b=0,c=wn(this).attributes,d=new xd;d.next=function(){if(b>=c.length)throw wd;var d=c[b++];if(a)return decodeURIComponent(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!A(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};p.clear=function(){for(var a=wn(this),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);vn(this)};function vn(a){try{a.cb.save(a.We)}catch(b){throw"Storage mechanism: Quota exceeded";}}
function wn(a){return a.cb.XMLDocument.documentElement};function xn(a,b){this.Ke=a;this.Ld=b+"::"}D(xn,on);p=xn.prototype;p.Ke=null;p.Ld="";p.set=function(a,b){this.Ke.set(this.Ld+a,b)};p.get=function(a){return this.Ke.get(this.Ld+a)};p.remove=function(a){this.Ke.remove(this.Ld+a)};p.Fb=function(a){var b=this.Ke.Fb(!0),c=this,d=new xd;d.next=function(){for(var d=b.next();d.substr(0,c.Ld.length)!=c.Ld;)d=b.next();return a?d.substr(c.Ld.length):c.Ke.get(d)};return d};function yn(){var a=new qn;(a=a.Ij()?new xn(a,"appdata"):null)||(a=new rn("appdata"),a=a.Ij()?a:null);hn.call(this,a)}D(yn,nn);w(yn);yn.prototype.set=function(a,b,c){return yn.a.set.call(this,"blaUser"+a,b,c)};yn.prototype.get=function(a){return yn.a.get.call(this,"blaUser"+a)};function zn(){R.call(this);this.J=An;this.em=this.startTime=null}D(zn,R);var An=0;zn.prototype.Bc=function(){this.pc("begin")};zn.prototype.$c=function(){this.pc("end")};zn.prototype.pc=function(a){this.dispatchEvent(a)};var Bn={},Cn=null;function Dn(a){a=la(a);delete Bn[a];El(Bn)&&Cn&&Cn.stop()}function En(){Cn||(Cn=new yf(function(){Fn()},20));var a=Cn;a.Mb()||a.start()}function Fn(){var a=C();Nb(Bn,function(b){Gn(b,a)});El(Bn)||En()};function Hn(a,b,c,d){zn.call(this);if(!y(a)||!y(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.bg=a;this.dm=b;this.duration=c;this.jl=d;this.coords=[];this.fi=!1}D(Hn,zn);p=Hn.prototype;p.im=0;p.Cb=0;p.Qj=null;
p.play=function(a){if(a||this.J==An)this.Cb=0,this.coords=this.bg;else if(1==this.J)return!1;Dn(this);this.startTime=a=C();-1==this.J&&(this.startTime-=this.duration*this.Cb);this.em=this.startTime+this.duration;this.Qj=this.startTime;this.Cb||this.Bc();this.pc("play");-1==this.J&&this.pc("resume");this.J=1;var b=la(this);b in Bn||(Bn[b]=this);En();Gn(this,a);return!0};p.stop=function(a){Dn(this);this.J=An;a&&(this.Cb=1);In(this,this.Cb);this.pc("stop");this.$c()};
p.e=function(){this.J==An||this.stop(!1);this.pc("destroy");Hn.a.e.call(this)};p.ie=function(){this.j()};function Gn(a,b){a.Cb=(b-a.startTime)/(a.em-a.startTime);1<=a.Cb&&(a.Cb=1);a.im=1E3/(b-a.Qj);a.Qj=b;In(a,a.Cb);1==a.Cb?(a.J=An,Dn(a),a.pc("finish"),a.$c()):1==a.J&&a.Lf()}function In(a,b){ia(a.jl)&&(b=a.jl(b));a.coords=Array(a.bg.length);for(var c=0;c<a.bg.length;c++)a.coords[c]=(a.dm[c]-a.bg[c])*b+a.bg[c]}p.Lf=function(){this.pc("animate")};p.pc=function(a){this.dispatchEvent(new Jn(a,this))};
function Jn(a,b){P.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.Cb=b.Cb;this.ss=b.im;this.state=b.J;this.es=b}D(Jn,P);function Kn(a,b,c,d){Hn.call(this,a,b,c,d)}D(Kn,Hn);Kn.prototype.setEndPoint=ca("dm");function Ln(a,b,c,d,f){Hn.call(this,b,c,d,f);this.element=a}D(Ln,Kn);p=Ln.prototype;p.Gc=u;p.Fd=function(){x(this.gb)||(this.gb=Ge(this.element));return this.gb};p.Lf=function(){this.Gc();Ln.a.Lf.call(this)};p.$c=function(){this.Gc();Ln.a.$c.call(this)};p.Bc=function(){this.Gc();Ln.a.Bc.call(this)};function Mn(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Ln.apply(this,arguments)}D(Mn,Ln);Mn.prototype.Gc=function(){window.scrollTo(this.coords[0],this.coords[1])};function Nn(a,b){this.d=a;this.ce=b}Nn.prototype.play=function(){cd(this.d,[Ic,Hc],this.yq,!1,this);Fb(this.d,this.ce)};Nn.prototype.yq=function(){Gb(this.d,this.ce)};function On(a){return 3*a*a-2*a*a*a};function Pn(){U.call(this);this.xb=new Hm;this.xb.Qh(10);this.xb.mm=this.qp;var a=yn.h().get(this.We);if(a)for(var b=0;b<a.length;b++){var c=a[b],d=vi.h().getEntries(c.searchPattern,void 0,void 0,void 0);Ml(this,d,c.title,!1)}else a=zl(),Ml(this,a,"Neueste Einträge",!1)}D(Pn,xm);p=Pn.prototype;p.f=function(){var a=this.p().f("div","view list-view");this.o(a)};p.g=function(){Pn.a.g.call(this);var a=this.xb,b=this.c();b.Ti=2;b.Mc=void 0;a.Ha.push(b);this.xb.Ka();this.i().b(this.xb,"dragend",this.bq)};
p.bq=function(a){var b=a.$o.getAttribute("data-id");$e(this,b)&&a.preventDefault()};p.qp=function(a){return Zb("drag-element",a)};function Ml(a,b,c,d){var f;V(a,function(a){a.Pc()==b.Pc()&&(f=a)},a);f||(f=new gn(b,c),a.V(f,!0),a.v&&Im(a.xb,f.c()),Qn(a));!1!==d&&Rn(f)}function Rn(a){a=a.c();(new Mn(a,[document.body.scrollLeft,0],[a.offsetLeft,0],500,On)).play();(new Nn(a,"focus-anim")).play()}p.Gi=function(){this.Jh(!0)};p.removeChild=function(a,b){var c=Pn.a.removeChild.call(this,a,b);Qn(this);return c};
p.We="hash5-listview-opend";function Qn(a){var b=[];V(a,function(a){b.push({searchPattern:a.Pc(),title:a.Vb})});yn.h().set(a.We,b)};function Sn(){U.call(this);this.Re=new ag;this.Re.Yf("Suchen...");this.eg=null;this.Dn=""}D(Sn,U);w(Sn);p=Sn.prototype;p.o=function(a){Sn.a.o.call(this,a);this.Re.ga(this.I("search-input"));this.eg=this.I("search-suggests")};p.g=function(){Sn.a.g.call(this);this.i().b(this.Re,"change",this.vq).b(this.Re,"submit",this.Zp)};p.vq=function(){var a=this.Re.t(),b=new vi;3<a.length&&a!=this.Dn&&(b.search(a,void 0,this.uq,this),this.gs=!1);0==a.length&&this.$g();this.Dn=a};
p.Zp=function(){var a=this.Re.t(),b=new vi;3<a.length&&(b.search(a,void 0,function(b){var d=Jl.h();Ml(d.rh,b,a)},this),this.$g())};p.uq=function(a){ic(this.eg);if(0<a.count()){Gb(this.eg,"hidden");var b=this.p();a.forEach(function(a){a=b.f("li",void 0,a.Qc());hc(this.eg,a)},this);this.i().Yc(document.body,"click",this.$g)}};p.$g=function(){Gb(this.c(),"visible");Fb(this.eg,"hidden");this.i().G(document.body,"click",this.$g)};p.toggle=function(){Xl(this.c())};lf("search-field",function(){return Sn.h()});function Tn(){return'\x3cdiv class\x3d"settings"\x3e\x3ch2\x3eSettings\x3c/h2\x3e\x3cdiv class\x3d"form-wrapper"\x3e\x3c/div\x3e\x3cbutton class\x3d"btn enabled primary btn-save"\x3eSave\x3c/button\x3e\x3cbutton class\x3d"btn enabled primary btn-cancle"\x3eCancle\x3c/button\x3e\x3c/div\x3e'};function Un(){U.call(this);this.q=new uf}D(Un,U);Un.prototype.f=function(){var a=mg(Tn);this.o(a);this.V(this.q);this.q.ga(this.I("form-wrapper"))};Un.prototype.g=function(){Un.a.g.call(this);var a=Vn.h();a.$(!0);this.i().b(a,"close",this.close);var a=this.I("btn-save"),b=this.I("btn-cancle");this.i().b(a,"click",this.sq).b(b,"click",this.close);a=vf(this.q,"Language","select",{fieldName:"language",options:[{text:"Deutsch",bc:"de"},{text:"English",bc:"en"}]});b=Bl(je.h());a.qa.N(b)};
Un.prototype.sq=function(){var a=this.q.getData(),b=je.h(),a=a.language;Bl(b)!=a&&(b.Wb.locale=a,ne(b,function(){document.location.reload()}));this.close()};Un.prototype.close=function(){Vn.h().$(!1);this.j()};function Wn(a){R.call(this);this.d=a;a=I?"focusout":"blur";this.Rq=Q(this.d,I?"focusin":"focus",this,!I);this.Sq=Q(this.d,a,this,!I)}D(Wn,R);Wn.prototype.handleEvent=function(a){var b=new Kc(a.Pa);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};Wn.prototype.e=function(){Wn.a.e.call(this);ed(this.Rq);ed(this.Sq);delete this.d};function Xn(a,b,c){U.call(this,c);this.Va=b||Yn;this.xe=a}D(Xn,U);var Zn={};p=Xn.prototype;p.yk=!1;p.sf=!1;p.Rr=null;p.yo="";p.lh=!0;p.Fg=-1;p.e=function(){Xn.a.e.call(this);this.Ua&&(this.Ua.removeNode(this),this.Ua=null);this.d=null};
p.fh=function(){var a=this.c();if(a){var b=$n(this);b&&!b.id&&(b.id=this.X()+".label");Kf(a,"treeitem");X(a,"selected",!1);X(a,"expanded",!1);X(a,"level",this.xd());b&&X(a,"labelledby",b.id);(a=this.Rg())&&Kf(a,"presentation");(a=this.hj())&&Kf(a,"presentation");if(a=ao(this))if(Kf(a,"group"),a.hasChildNodes())for(a=bf(this),b=1;b<=a;b++){var c=W(this,b-1).c();X(c,"setsize",a);X(c,"posinset",b)}}};p.f=function(){var a=new Ol;bo(this,a);var b=this.p();this.d=gc(b.A,a.toString())};
p.g=function(){Xn.a.g.call(this);Zn[this.X()]=this;this.fh()};p.ja=function(){Xn.a.ja.call(this);delete Zn[this.X()]};p.Xb=function(a,b){var c=W(this,b-1),d=W(this,b);Xn.a.Xb.call(this,a,b);a.Md=c;a.Ob=d;c?c.Ob=a:this.hm=a;d?d.Md=a:this.Pm=a;var f=this.Ia();f&&co(a,f);eo(a,this.xd()+1);if(this.c()&&(this.af(),this.pb())){f=ao(this);a.c()||a.f();var g=a.c(),h=d&&d.c();f.insertBefore(g,h);this.v&&a.g();d||(c?c.af():(T(f,!0),this.ed(this.pb())))}};
p.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.Xb(a,b?cf(this,b):bf(this));return a};
p.removeChild=function(a){var b=this.Ia(),c=b?b.Kb():null;if(c==a||a.contains(c))b.hasFocus()?(this.select(),pd(this.mr,10,this)):this.select();Xn.a.removeChild.call(this,a);this.Pm==a&&(this.Pm=a.Md);this.hm==a&&(this.hm=a.Ob);a.Md&&(a.Md.Ob=a.Ob);a.Ob&&(a.Ob.Md=a.Md);c=!a.Ob;a.Ua=null;a.Fg=-1;if(b&&(b.removeNode(this),this.v)){b=ao(this);if(a.v){var d=a.c();b.removeChild(d);a.ja()}c&&(c=W(this,bf(this)-1))&&c.af();xl(this)||(b.style.display="none",this.af(),this.Rg().className=this.Pg())}return a};
p.remove=Xn.prototype.removeChild;p.mr=function(){this.select()};p.xd=function(){var a=this.Fg;0>a&&(a=(a=this.getParent())?a.xd()+1:0,eo(this,a));return a};function eo(a,b){if(b!=a.Fg){a.Fg=b;var c=fo(a);if(c){var d=Math.max(0,(a.xd()-1)*a.Va.Gj)+"px";a.Fd()?c.style.paddingRight=d:c.style.paddingLeft=d}V(a,function(a){eo(a,b+1)})}}p.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};p.fj=function(){var a=[];V(this,function(b){a.push(b)});return a};p.ih=e("yk");
p.select=function(){var a=this.Ia();a&&a.gc(this)};function go(a,b){if(a.yk!=b){a.yk=b;ho(a);var c=a.c();c&&(X(c,"selected",b),b&&(c=a.Ia().c(),X(c,"activedescendant",a.X())))}}p.pb=e("sf");
p.ed=function(a){var b=a!=this.sf;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){var c;this.sf=a;c=this.Ia();var d=this.c();if(xl(this)){if(!a&&(c&&this.contains(c.Kb()))&&this.select(),d){if(c=ao(this))if(T(c,a),a&&this.v&&!c.hasChildNodes()){var f=new Ol;V(this,function(a){bo(a,f)});c.innerHTML=f.toString();V(this,function(a){a.g()})}this.af()}}else(c=ao(this))&&T(c,!1);d&&(this.Rg().className=this.Pg(),X(d,"expanded",a));b&&this.dispatchEvent(a?"expand":"collapse")}};p.toggle=function(){this.ed(!this.pb())};
p.collapse=function(){this.ed(!1)};p.rk=function(){var a=this.getParent();a&&(a.ed(!0),a.rk())};function bo(a,b){var c=a.Ia(),c=!c.Nn||c==a.getParent()&&!c.Pn?a.Va.Oo:a.Va.No,d=a.pb()&&xl(a);b.append('\x3cdiv class\x3d"',a.Va.Xo,'" id\x3d"',a.X(),'"\x3e',io(a),'\x3cdiv class\x3d"',c,'" style\x3d"',"background-position:"+jo(a)+";",d?"":"display:none;",'"\x3e');d&&V(a,function(a){bo(a,b)});b.append("\x3c/div\x3e\x3c/div\x3e")}
function io(a){var b=new Ol;b.append('\x3cdiv class\x3d"',a.re(),'" style\x3d"padding-',a.Fd()?"right:":"left:",Math.max(0,(a.xd()-1)*a.Va.Gj),'px"\x3e',a.km(),'\x3cspan style\x3d"display:inline-block" class\x3d"'+a.Pg()+'"\x3e\x3c/span\x3e',ko(a),"\x3c/div\x3e");return b.toString()}p.re=function(){return this.Va.Nl+(this.ih()?" "+this.Va.Ml:"")};
function ko(a){var b=a.Rr,c=new Ol;c.append('\x3cspan class\x3d"',a.Va.Yo,'"',b?' title\x3d"'+Aa(b)+'"':"","\x3e",a.xe,"\x3c/span\x3e","\x3cspan\x3e",a.yo,"\x3c/span\x3e");return c.toString()}p.km=function(){return'\x3cspan type\x3d"expand" style\x3d"display:inline-block" class\x3d"'+lo(this)+'"\x3e\x3c/span\x3e'};
function lo(a){var b=a.Ia(),c=!b.Nn||b==a.getParent()&&!b.Pn,d=a.Va,f=new Ol;f.append(d.de," ",d.Po," ");if(xl(a)){var g=0;b.Hr&&a.lh&&(g=a.pb()?2:1);c||(g=a.Ob?g+8:g+4);switch(g){case 1:f.append(d.To);break;case 2:f.append(d.So);break;case 4:f.append(d.Hl);break;case 5:f.append(d.Ro);break;case 6:f.append(d.Qo);break;case 8:f.append(d.Il);break;case 9:f.append(d.Vo);break;case 10:f.append(d.Uo);break;default:f.append(d.Gl)}}else c?f.append(d.Gl):a.Ob?f.append(d.Il):f.append(d.Hl);return f.toString()}
function jo(a){return(a.Ob?(a.xd()-1)*a.Va.Gj:"-100")+"px 0"}p.c=function(){var a=Xn.a.c.call(this);a||(this.d=a=this.p().c(this.X()));return a};function fo(a){return(a=a.c())?a.firstChild:null}p.hj=function(){var a=fo(this);return a?a.firstChild:null};p.Rg=function(){var a=fo(this);return a?a.childNodes[1]:null};function $n(a){return(a=fo(a))&&a.lastChild?a.lastChild.previousSibling:null}function ao(a){return(a=a.c())?a.lastChild:null}p.Fk=function(a){mo(this,Aa(a))};
p.Qc=function(){return Ha(this.xe,"\x26")?"document"in t?Gl(this.xe):Fl(this.xe):this.xe};function mo(a,b){a.xe=b;var c=$n(a);c&&(c.innerHTML=b);(c=a.Ia())&&no(c.Ze,a)}function ho(a){var b=fo(a);b&&(b.className=a.re())}p.af=function(){var a=this.hj();a&&(a.className=lo(this));if(a=ao(this))a.style.backgroundPosition=jo(this)};p.fn=Ul;p.fk=function(a){!a.altKey&&(37<=a.keyCode&&40>=a.keyCode)&&a.preventDefault()};function oo(a){return a.pb()&&xl(a)?oo(W(a,bf(a)-1)):a}
function co(a,b){a.Ua!=b&&(a.Ua=b,no(b.Ze,a),V(a,function(a){co(a,b)}))};function po(a,b,c){Xn.call(this,a,b,c)}D(po,Xn);po.prototype.Ua=null;po.prototype.Ia=function(){if(this.Ua)return this.Ua;var a=this.getParent();return a&&(a=a.Ia())?(co(this,a),a):null};po.prototype.Pg=function(){var a=this.pb();if(a&&this.bj)return this.bj;if(!a&&this.Cj)return this.Cj;var b=this.Va;if(xl(this)){if(a&&b.Jl)return b.de+" "+b.Jl;if(!a&&b.El)return b.de+" "+b.El}else if(b.Ll)return b.de+" "+b.Ll;return""};function qo(a){this.Q=void 0;this.R={};if(a){var b=ud(a);a=td(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}p=qo.prototype;p.set=function(a,b){ro(this,a,b,!1)};p.add=function(a,b){ro(this,a,b,!0)};function ro(a,b,c,d){for(var f=0;f<b.length;f++){var g=b.charAt(f);a.R[g]||(a.R[g]=new qo);a=a.R[g]}if(d&&void 0!==a.Q)throw Error('The collection already contains the key "'+b+'"');a.Q=c}p.get=function(a){for(var b=this,c=0;c<a.length;c++){var d=a.charAt(c);if(!b.R[d])return;b=b.R[d]}return b.Q};
p.Ja=function(){var a=[];so(this,a);return a};function so(a,b){void 0!==a.Q&&b.push(a.Q);for(var c in a.R)so(a.R[c],b)}p.qb=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var f=a.charAt(d);if(!c.R[f])return[];c=c.R[f]}to(c,a,b)}else to(this,"",b);return b};function to(a,b,c){void 0!==a.Q&&c.push(b);for(var d in a.R)to(a.R[d],b+d,c)}p.Kc=function(a){return void 0!==this.get(a)};p.lc=function(a){if(this.Q===a)return!0;for(var b in this.R)if(this.R[b].lc(a))return!0;return!1};
p.clear=function(){this.R={};this.Q=void 0};p.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var f=a.charAt(d);if(!b.R[f])throw Error('The collection does not have the key "'+a+'"');c.push([b,f]);b=b.R[f]}a=b.Q;for(delete b.Q;0<c.length;)if(f=c.pop(),b=f[0],f=f[1],El(b.R[f].R))delete b.R[f];else break;return a};p.S=function(){return new qo(this)};p.M=function(){return sd(this.Ja())};
p.Za=function(){return void 0===this.Q&&("function"==typeof this.R.Za?this.R.Za():ga(this.R)||A(this.R)?0==this.R.length:El(this.R))};function uo(){this.Jd=new qo}p=uo.prototype;p.va="";p.Wj=null;p.uh=null;p.If=0;p.Je=0;function no(a,b){var c=b.Qc();if(c&&!Yl(c)){var c=c.toLowerCase(),d=a.Jd.get(c);d?d.push(b):a.Jd.set(c,[b])}}function vo(a,b){var c=!1,d=a.Jd.qb(b);d&&d.length&&(a.Je=0,a.If=0,c=a.Jd.get(d[0]),c=wo(a,c))&&(a.Wj=d);return c}function wo(a,b){var c;b&&(a.Je<b.length&&(c=b[a.Je],a.uh=b),c&&(c.rk(),c.select()));return!!c}p.clear=function(){this.va=""};function xo(a,b,c){Xn.call(this,a,b,c);this.sf=!0;go(this,!0);this.ma=this;this.Ze=new uo;if(I)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){}}D(xo,Xn);p=xo.prototype;p.ea=null;p.cj=null;p.ej=!1;p.np=null;p.Nn=!0;p.Hr=!0;p.Qd=!0;p.Pn=!0;p.Ia=function(){return this};p.xd=l(0);p.rk=ba();p.zd=function(){this.ej=!0;gf(this.c(),"focused");this.ma&&this.ma.select()};p.zp=function(){this.ej=!1;jf(this.c(),"focused")};p.hasFocus=e("ej");p.pb=function(){return!this.Qd||xo.a.pb.call(this)};
p.ed=function(a){this.Qd?xo.a.ed.call(this,a):this.sf=a};p.km=l("");p.Rg=function(){var a=fo(this);return a?a.firstChild:null};p.hj=l(null);p.af=ba();p.re=function(){return xo.a.re.call(this)+(this.Qd?"":" "+this.Va.Wo)};p.Pg=function(){var a=this.pb();if(a&&this.bj)return this.bj;if(!a&&this.Cj)return this.Cj;var b=this.Va;return a&&b.Kl?b.de+" "+b.Kl:!a&&b.Fl?b.de+" "+b.Fl:""};
p.gc=function(a){if(this.ma!=a){var b=!1;this.ma&&(b=this.ma==this.np,go(this.ma,!1));if(this.ma=a)go(a,!0),b&&a.select();this.dispatchEvent("change")}};p.Kb=e("ma");p.fh=function(){xo.a.fh.call(this);var a=this.c();Kf(a,"tree");X(a,"labelledby",$n(this).id)};
p.g=function(){xo.a.g.call(this);var a=this.c();a.className=this.Va.Zo;a.setAttribute("hideFocus","true");a=this.c();a.tabIndex=0;var b=this.ea=new Df(a),c=this.cj=new Wn(a);this.i().b(c,"focusout",this.zp).b(c,"focusin",this.zd).b(b,"key",this.fb).b(a,"mousedown",this.tj).b(a,"click",this.tj).b(a,"dblclick",this.tj);this.fh()};p.ja=function(){xo.a.ja.call(this);this.ea.j();this.ea=null;this.cj.j();this.cj=null};
p.tj=function(a){var b;a:{b=null;for(var c=a.target;null!=c;){if(b=Zn[c.id])break a;if(c==this.c())break;c=c.parentNode}b=null}if(b)switch(a.type){case "mousedown":"expand"==a.target.getAttribute("type")&&xl(b)?b.lh&&b.toggle():(b.select(),ho(b));break;case "click":b.fn(a);break;case "dblclick":"expand"==a.target.getAttribute("type")&&xl(b)||b.lh&&b.toggle()}};
p.fb=function(a){var b=!1,b=this.Ze,c=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){var c=40==a.keyCode?1:-1,d=b.Wj;if(d){var f=null,g=!1;if(b.uh){var h=b.Je+c;0<=h&&h<b.uh.length?(b.Je=h,f=b.uh):g=!0}f||(h=b.If+c,0<=h&&h<d.length&&(b.If=h),d.length>b.If&&(f=b.Jd.get(d[b.If])),f&&(f.length&&g)&&(b.Je=-1==c?f.length-1:0));wo(b,f)&&(b.Wj=d)}c=!0}break;case 8:d=b.va.length-1;c=!0;0<d?(b.va=b.va.substring(0,d),vo(b,b.va)):0==d?b.va="":c=!1;break;case 27:b.va="",c=!0}if(!(b=c)){if(b=this.ma){b=this.ma;
c=!0;switch(a.keyCode){case 39:if(a.altKey)break;xl(b)&&(b.pb()?W(b,0).select():b.ed(!0));break;case 37:if(a.altKey)break;xl(b)&&b.pb()&&b.lh?b.ed(!1):(d=b.getParent(),f=b.Ia(),d&&(f.Qd||d!=f)&&d.select());break;case 40:a:if(xl(b)&&b.pb())d=W(b,0);else{for(d=b;d!=b.Ia();){f=d.Ob;if(null!=f){d=f;break a}d=d.getParent()}d=null}d&&d.select();break;case 38:d=b.Md;null!=d?d=oo(d):(d=b.getParent(),f=b.Ia(),d=f.Qd||d!=f?d:null);d&&d.select();break;default:c=!1}c&&(a.preventDefault(),(f=b.Ia())&&f.Ze.clear());
b=c}b||(b=this.Ze,c=!1,a.ctrlKey||a.altKey||(d=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==d.length&&" "<=d&&"~">=d||""<=d&&"�">=d)&&(" "!=d||b.va)&&(b.va+=d,c=vo(b,b.va))),b=c)}b&&a.preventDefault();return b};p.removeNode=function(a){var b=this.Ze,c=a.Qc();if(c&&!Yl(c)){var c=c.toLowerCase(),d=b.Jd.get(c);d&&(Ua(d,a),d.length&&b.Jd.remove(c))}};
var Yn={Gj:19,Zo:"goog-tree-root goog-tree-item",Wo:"goog-tree-hide-root",Xo:"goog-tree-item",No:"goog-tree-children",Oo:"goog-tree-children-nolines",Nl:"goog-tree-row",Yo:"goog-tree-item-label",de:"goog-tree-icon",Po:"goog-tree-expand-icon",To:"goog-tree-expand-icon-plus",So:"goog-tree-expand-icon-minus",Vo:"goog-tree-expand-icon-tplus",Uo:"goog-tree-expand-icon-tminus",Ro:"goog-tree-expand-icon-lplus",Qo:"goog-tree-expand-icon-lminus",Il:"goog-tree-expand-icon-t",Hl:"goog-tree-expand-icon-l",Gl:"goog-tree-expand-icon-blank",
Jl:"goog-tree-expanded-folder-icon",El:"goog-tree-collapsed-folder-icon",Ll:"goog-tree-file-icon",Kl:"goog-tree-expanded-folder-icon",Fl:"goog-tree-collapsed-folder-icon",Ml:"selected"};function yo(){R.call(this);this.Qa=[];this.Nk=[];this.Uf=[]}D(yo,R);yo.prototype.jh=!1;yo.prototype.kh=!1;yo.prototype.Hj=!1;var zo={og:"dragover",ng:"dragout",po:"drag",ff:"drop",ni:"dragstart",mi:"dragend"};p=yo.prototype;p.In=ca("Oh");p.Ka=function(){if(!this.Hj){for(var a,b=0;a=this.Qa[b];b++)Ao(this,a);this.Hj=!0}};function Ao(a,b){a.jh&&(Q(b.element,"mousedown",b.bn,!1,b),a.Uh&&gf(b.element,a.Uh));a.kh&&a.Xh&&gf(b.element,a.Xh)}
function Bo(a,b){a.jh&&(dd(b.element,"mousedown",b.bn,!1,b),a.Uh&&jf(b.element,a.Uh));a.kh&&a.Xh&&jf(b.element,a.Xh);b.j()}
p.Ve=function(a,b){if(!this.yb)if(this.yb=b,!1==this.dispatchEvent(new Co(zo.ni,this,this.yb)))this.yb=null;else{var c=b.kf,d=this.Hi(c);this.Vi&&gf(d,this.Vi);this.le=d;d=N(c);d.body.appendChild(this.le);var f=this.le,g=Ee(c),c=Re(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.aa=new ym(f);this.aa.In(this.Oh);Q(this.aa,"drag",this.dn,!1,this);Q(this.aa,"end",this.vd,!1,this);Q(d.body,"selectstart",this.Zn);this.Xe=[];for(d=
0;c=this.Nk[d];d++)for(var h,f=0;h=c.Qa[f];f++)for(var g=c,k=[h.element],m=this.Xe,n=0;n<k.length;n++){var q=k[n],v=Ee(q),Za=Ke(q),v=new te(v.y,v.x+Za.width,v.y+Za.height,v.x);m.push(new Do(v,g,h,q));Eo(this,v)}this.Ec||(this.Ec=new te(0,0,0,0));for(d=0;c=this.Uf[d];d++)c.Li=[],c.An=c.d.scrollLeft,c.Bn=c.d.scrollTop,f=Ee(c.d),g=Ke(c.d),c.ua=new te(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.Xe[d];d++)for(f=0;c=this.Uf[f];f++)nc(c.d,g.d)&&(c.Li.push(g),g.Tf=c);this.kd=null;for(d=0;c=this.Uf[d];d++)Q(c.d,
"scroll",this.zl,!1,this);this.aa.Ve(a);a.preventDefault()}};
p.vd=function(a){var b=a.fp?null:this.kd;if(b&&b.F){var c=a.clientX;a=a.clientY;var d=xc(Ub(this.le)),f=c+d.x,d=a+d.y,g;this.dg&&(g=this.dg(b.yc,b.ua,f,d));this.dispatchEvent(new Co(zo.po,this,this.yb,b.F,b.yc,b.d,c,a,f,d));b.F.dispatchEvent(new Co(zo.ff,this,this.yb,b.F,b.yc,b.d,c,a,f,d,g))}this.dispatchEvent(new Co(zo.mi,this,this.yb));dd(this.aa,"drag",this.dn,!1,this);dd(this.aa,"end",this.vd,!1,this);dd(N(this.yb.kf).body,"selectstart",this.Zn);for(b=0;c=this.Uf[b];b++)dd(c.d,"scroll",this.zl,
!1,this),c.Li=[];this.aa.j();jc(this.le);delete this.yb;delete this.le;delete this.aa;delete this.Xe;delete this.kd};
p.dn=function(a){var b,c=xc(Ub(this.le));b=new M(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.kd,g;if(f){this.dg&&f.F&&(g=this.dg(f.yc,f.ua,c,d));if(f.ua.contains(b)&&g==this.ll)return;f.F&&(this.dispatchEvent(new Co(zo.ng,this,this.yb,f.F,f.yc,f.d)),f.F.dispatchEvent(new Co(zo.ng,this,this.yb,f.F,f.yc,f.d,void 0,void 0,void 0,void 0,this.ll)));this.ll=g;this.kd=null}if(this.Ec.contains(b)){a:{for(var h=0;f=this.Xe[h];h++)if(f.ua.contains(b))if(f.Tf){if(f.Tf.ua.contains(b)){b=f;break a}}else{b=
f;break a}b=null}if((f=this.kd=b)&&f.F)this.dg&&(g=this.dg(f.yc,f.ua,c,d)),c=new Co(zo.og,this,this.yb,f.F,f.yc,f.d),c.Nr=g,this.dispatchEvent(c),f.F.dispatchEvent(new Co(zo.og,this,this.yb,f.F,f.yc,f.d,a.clientX,a.clientY,void 0,void 0,g));else if(!f){this.mb||(this.mb=new Do(this.Ec.S()));a=this.mb.ua;a.top=this.Ec.top;a.right=this.Ec.right;a.bottom=this.Ec.bottom;a.left=this.Ec.left;for(g=0;f=this.Xe[g];g++)b=f.ua,f.Tf&&(f=f.Tf.ua,b=new te(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,
f.bottom),Math.max(b.left,f.left))),f=null,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=null,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),null===f||null===h||(Math.abs(f-c)>Math.abs(h-d)?h=null:f=null),null!==f?f<=c?a.left=f:a.right=f:null!==h&&(h<=d?a.top=h:a.bottom=h);this.kd=10<=(a.right-a.left)*(a.bottom-a.top)?this.mb:null}}};p.Zn=l(!1);
p.zl=function(a){for(var b=0,c;c=this.Uf[b];b++)if(a.target==c.d){var d=c.Bn-c.d.scrollTop,f=c.An-c.d.scrollLeft;c.Bn=c.d.scrollTop;c.An=c.d.scrollLeft;this.mb&&this.kd==this.mb&&(0<d?this.mb.ua.top+=d:this.mb.ua.bottom+=d,0<f?this.mb.ua.left+=f:this.mb.ua.right+=f);for(var g=0,h;h=c.Li[g];g++)h=h.ua,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,Eo(this,h)}this.aa.on(a)};
p.Hi=function(a){var b=a.cloneNode(!0);switch(a.tagName.toLowerCase()){case "tr":return Wl("table",null,Wl("tbody",null,b));case "td":case "th":return Wl("table",null,Wl("tbody",null,Wl("tr",null,b)));default:return b}};function Eo(a,b){if(1==a.Xe.length)a.Ec=new te(b.top,b.right,b.bottom,b.left);else{var c=a.Ec;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
p.e=function(){yo.a.e.call(this);for(var a,b=0;a=this.Qa[b];b++)Bo(this,a);this.Qa.length=0};function Co(a,b,c,d,f,g,h,k,m,n,q){P.call(this,a);this.ns=b;this.Xi=c;this.qs=d;this.Gg=f;this.rs=g;this.clientX=h;this.clientY=k;this.Gs=m;this.Hs=n;this.Nr=q}D(Co,P);Co.prototype.e=ba();function Fo(a,b){R.call(this);this.element=Wb(document,a);this.data=b;this.T=null;this.s=new S(this);Dc(this,this.s);if(!this.element)throw Error("Invalid argument");}D(Fo,R);p=Fo.prototype;p.kf=null;p.getData=e("data");
p.bn=function(a){if(Mc(a)){var b=a.target;b&&(this.s.b(b,"mousemove",this.cn,!1).b(b,"mouseout",this.cn,!1),this.s.b(N(b),"mouseup",this.cr,!0),this.kf=b,this.Ik=new M(a.clientX,a.clientY),a.preventDefault())}};p.Xf=ca("T");p.cn=function(a){var b=this.kf,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Ik.x)+Math.abs(a.clientY-this.Ik.y)||b)this.s.tb(),this.T.Ve(a,this)};p.cr=function(){this.s.tb();delete this.Ik;this.kf=null};
function Do(a,b,c,d){this.ua=a;this.F=b;this.yc=c;this.d=d}Do.prototype.Tf=null;function Go(){yo.call(this)}D(Go,yo);Go.prototype.ib=function(a,b){var c=new Fo(a,b);c.Xf(this);this.Qa.push(c);this.Hj&&Ao(this,c)};Go.prototype.removeItem=function(a){a=Wb(document,a);for(var b,c=0;b=this.Qa[c];c++)if(b.element==a){this.Qa.splice(c,1);Bo(this,b);break}};function Ho(a,b){Xn.call(this,Io(a),void 0,void 0);this.nf=b}D(Ho,po);function Io(a){return'\x3cspan class\x3d"drag-item"\x3e'+a+'\x3c/span\x3e\x3cdiv class\x3d"edit-btns"\x3e\x3cspan class\x3d"rename"\x3e\x3c/span\x3e\x3cspan class\x3d"delete"\x3e\x3c/span\x3e\x3c/div\x3e'}Ho.prototype.g=function(){Ho.a.g.call(this);this.nf.ib(this)};Ho.prototype.se=function(){return this.Ra.type};
Ho.prototype.fn=function(a){var b=this.Ra;a=a.target;if(H(Eb(a),"rename")){if(a=prompt("Neuer Name: ",b.title))b.title=a,this.dispatchEvent("change"),mo(this,Io(a))}else H(Eb(a),"delete")?(this.getParent().removeChild(this),this.dispatchEvent("change")):H(Eb(a),"goog-tree-expand-icon")||Jo(this)};function Jo(a){if(a.se()==Ko){var b=a.Ra,c=vi.h().search(b.query,void 0,void 0,void 0);Ll(c,b.title)}a.se()==Lo&&(Jl.h().Gi(),V(a,function(a){Jo(a)}))}
Ho.prototype.re=function(){var a=this.Va,b=" ";this.ih()&&(b+=a.Ml);b=this.se()==Lo?b+" search-folder":b+" search-link";return a.Nl+b};var Lo="folder",Ko="request";function Mo(){R.call(this);this.k=new S(this);Dc(this,this.k);var a=this.lb=new Go,b=this.lb;a.Nk.push(b);b.kh=!0;a.jh=!0;a=this.nc=new Go;b=this.lb;a.Nk.push(b);b.kh=!0;a.jh=!0;this.Ka()}D(Mo,R);p=Mo.prototype;
p.Ka=function(){this.lb.Vi="search-item-drag";this.lb.Uh="source";this.lb.Xh="target";this.lb.Ka();this.nc.Vi="search-item-drag";this.nc.Ka();this.k.b(this.lb,zo.og,this.sm);this.k.b(this.lb,zo.ng,this.rm);this.k.b(this.lb,zo.ff,this.tm);this.k.b(this.lb,zo.ni,this.Ug);this.k.b(this.lb,zo.mi,this.Tg);this.k.b(this.nc,zo.og,this.sm);this.k.b(this.nc,zo.ng,this.rm);this.k.b(this.nc,zo.ff,this.tm);this.k.b(this.nc,zo.ni,this.Ug);this.k.b(this.nc,zo.mi,this.Tg)};
p.ib=function(a){var b=a.I("drag-item");a.se()==Lo?this.lb.ib(b,a):this.nc.ib(b,a)};p.sm=function(a){Fb(a.Gg.element,"drag-over")};p.rm=function(a){Gb(a.Gg.element,"drag-over")};p.tm=function(a){var b=a.Xi.data,c=a.Gg.data;Gb(a.Gg.element,"drag-over");b!==c&&(b.getParent().remove(b),c.add(b),this.dispatchEvent(zo.ff))};p.Ug=function(a){Fb(a.Xi.element,"dragged")};p.Tg=function(a){Gb(a.Xi.element,"dragged")};function No(){U.call(this);this.Ua=new xo("root");Dc(this,this.Ua);this.nf=new Mo;Dc(this,this.nf)}D(No,U);p=No.prototype;p.f=function(){var a=this.p(),a=a.f("div",void 0,[a.f("div",{"class":"btn add-folder-btn tooltip","data-tooltip":"Add Folder"},"+")]);this.o(a)};
p.g=function(){No.a.g.call(this);var a=this.I("add-folder-btn");this.i().b(a,"click",this.xo);for(var a=je.h().Wb.searchtree||[],b=0;b<a.length;b++)Kl(this,this.Ua.Ia(),a[b]);a=this.Ua;!1!=a.Qd&&(a.Qd=!1,a.v&&(b=fo(a))&&(b.className=a.re()),a.Kb()==a&&W(a,0)&&a.gc(W(a,0)));this.Ua.ga(this.c());this.i().b(this.nf,zo.ff,this.ue)};function Kl(a,b,c){var d=new Ho(c.title,a.nf);d.Ra=c;b.add(d);a.i().b(d,"change",a.ue);if(c.children)for(b=0;b<c.children.length;b++)Kl(a,d,c.children[b])}
p.xo=function(a){a={title:A(a)?a:"new folder",type:"folder"};Kl(this,this.Ua.Ia(),a);this.ue()};p.ue=function(){var a=this.ec(),b=je.h();b.Wb.searchtree=a;ne(b,void 0,void 0)};p.ec=function(){for(var a=[],b=this.Ua.fj(),c=0;c<b.length;c++)a.push(Oo(this,b[c]));return a};function Oo(a,b){for(var c=b.Ra,d=b.fj(),f=[],g=0;g<d.length;g++)f.push(Oo(a,d[g]));return{title:c.title,type:c.type,query:c.query,children:f}};function Jl(){ge.call(this);this.Vr=[];this.rh=new Pn;this.xk=this.Pf=null}D(Jl,ge);w(Jl);Jl.prototype.Da=function(){Gb(document.getElementById("page"),"hidden");this.Pf=Zb("main-panel");var a=this.rh;a.ga(this.Pf);this.Vr.push(a);this.xk=new No;this.xk.ga(document.getElementById("searchtree"))};Jl.prototype.Gi=function(){this.rh.Gi()};function Po(a,b){U.call(this);this.Vb=a;this.ce=b||"";this.Kk=null;this.La=!1}D(Po,U);p=Po.prototype;p.f=function(){var a=this.p();this.Kk=a.f("ul");a=a.f("div","action-item",[a.f("div",{"class":"toggle-icon "+this.ce,title:this.Vb}),this.Kk]);this.o(a)};p.ba=e("Kk");p.g=function(){Po.a.g.call(this);this.i().b(this.c(),"click",this.Rc)};function Qo(a,b){a.V(b,!0)}
p.Rc=function(a){a=a.target;xl(this)?(this.La=!this.La&&H(Eb(a),"toggle-icon"),Ib(this.c(),"visible",this.La),this.La?this.i().Yc(document.body,"click",this.qm,!0):this.i().G(document.body,"click",this.qm,!0)):this.dispatchEvent("action")};p.qm=function(){Gb(this.c(),"visible")};function Ro(){ge.call(this);this.ls=[];var a=this.Tc=new Po("Undo","icon-undo");So.h().V(a,!0)}D(Ro,ge);w(Ro);Ro.prototype.Da=function(){var a=ri.h();this.i().b(a,"destroy",this.Fp);To(this)};Ro.prototype.Fp=function(a){a=a.target;var b=a.Qc().substr(0,15),b=new Uo(b,"icon-undo1");b.Ra=a;Qo(this.Tc,b);this.i().b(b,"action",this.zq);10<bf(this.Tc)&&this.Tc.removeChild(W(this.Tc,0),void 0);To(this)};function To(a){var b=bf(a.Tc);Ib(a.Tc.c(),"hidden",!b)}
Ro.prototype.zq=function(a){a=a.target;a.Ra.save();this.Tc.removeChild(a,!0);a.j();To(this)};function Vo(){this.Sr=[];this.Tl="fx"}w(Vo);function Wo(){var a=Vo.h(),b=Xb(a.Tl,void 0);G(b,function(a){var b=nf(a);null!==b&&(b.L(a),this.Sr.push(b));Gb(a,this.Tl)},a)};function Vn(){U.call(this)}D(Vn,U);w(Vn);Vn.prototype.f=function(){var a=this.p().f("div","overlay");this.o(a)};Vn.prototype.g=function(){this.i().b(this.c(),"click",this.Rc)};Vn.prototype.Rc=function(){this.dispatchEvent("close");this.$(!1)};Vn.prototype.$=function(a){this.v||this.ga(document.body);Ib(this.c(),"visible",a);Ib(document.body,"body-overlay",a)};function Xo(){U.call(this);this.La=!1}D(Xo,U);w(Xo);Xo.prototype.o=function(a){Xo.a.o.call(this,a)};Xo.prototype.g=function(){Xo.a.g.call(this)};Xo.prototype.toggle=function(){this.La=!this.La;var a=Vn.h();a.$(this.La);this.La?this.i().Yc(a,"close",this.toggle):this.i().G(a,"close",this.toggle);Ib(this.c(),"visible",this.La)};lf("page-sidebar",function(){return Xo.h()});function Uo(a,b,c){U.call(this);this.Vb=a;this.ce=b||"";ia(c)&&this.i().b(this,"action",c)}D(Uo,U);Uo.prototype.f=function(){var a=this.p().f("li",this.ce,this.Vb);this.o(a)};Uo.prototype.g=function(){Uo.a.g.call(this);this.i().b(this.c(),"click",this.Rc)};Uo.prototype.Rc=function(){this.dispatchEvent("action")};function So(){U.call(this)}D(So,U);w(So);So.prototype.ba=function(){return this.I("header-right-bar")};So.prototype.g=function(){So.a.g.call(this);var a=this.I("sidebar-toggle-btn");this.i().b(a,"click",this.xq);Yo(this)};
function Yo(a){var b=new Po("Search","icon-search mobile-only");a.i().b(b,"action",function(){Sn.h().toggle()});a.V(b,!0);b=new Po("Add","icon-add-light");a.i().b(b,"action",function(){var a=new Zm;Hl(a)});a.V(b,!0);b=new Po("Settings","icon-gears-light");Qo(b,new Uo("Settings","icon-gears-light",function(){(new Un).ga(document.body)}));Qo(b,new Uo("Logout","icon-user-light",function(){var a=je.h(),b=new Rd;b.b("complete",a.um,!1,a);b.send("/logout")}));a.V(b,!0)}So.prototype.xq=function(){Xo.h().toggle()};
lf("page-header",function(){return So.h()});function ol(a,b){this.Ra=a;this.Ib=b;this.Vb=this.Dj="";this.wj=!0;this.k=null;this.Pk=[]}D(ol,O);p=ol.prototype;p.i=function(){return this.k||(this.k=new S(this))};p.e=function(){this.k&&this.k.j();ol.a.e.call(this)};p.Ka=ba();p.qg=function(a){this.Ib.qg(this,a);this.Pk.push(a)};p.vr=function(){G(this.Pk,function(a){this.Ib.removeChild(a,!0);a.j()},this);this.Pk=[]};function Zo(){R.call(this);this.k=null}D(Zo,R);w(Zo);Zo.prototype.i=function(){return this.k||(this.k=new S(this))};Zo.prototype.autocomplete=function(a,b,c,d){var f=new Rd;f.b("complete",function(a){a=ee(a.target);var b=[];if(a.tags)for(var f=0;f<a.tags.length;f++){var m=a.tags[f];b.push("#"+m.name);if(m.values)for(var n=0;n<m.values.length;n++)b.push("#"+m.name+"\x3d"+m.values[n])}c.call(d,b)},!1,this);a=ul({text:a,tag:b}).toString();f.send("/autocomplete","POST",a)};
function $o(a,b,c,d){var f=new Rd;f.b("complete",function(a){a=ee(a.target);var b=[];if(a.recs)for(var f=0;f<a.recs.length;f++){var m=a.recs[f];b.push("#"+m.name);if(m.values)for(var n=0;n<m.values.length;n++)b.push("#"+m.name+"\x3d"+m.values[n])}c.call(d,b)},!1,a);a=ul({text:b}).toString();f.send("/recommend","POST",a)};function ap(a,b){if(bp(a))a.selectionStart=b;else if(I){var c=cp(a),d=c[0];d.inRange(c[1])&&(b=dp(a,b),d.collapse(!0),d.move("character",b),d.select())}}
function ep(a){var b;a:{var c=0,d=0;if(bp(a))c=a.selectionStart,d=-1;else if(I){var f=cp(a);b=f[0];f=f[1];if(b.inRange(f)){b.setEndPoint("EndToStart",f);if("textarea"==a.type){f.duplicate();c=a=b.text;for(d=!1;!d;)0==b.compareEndPoints("StartToEnd",b)?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function fp(a,b){if(bp(a))a.selectionEnd=b;else if(I){var c=cp(a),d=c[1];c[0].inRange(d)&&(b=dp(a,b),c=dp(a,ep(a)),d.collapse(!0),d.moveEnd("character",b-c),d.select())}}function cp(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function dp(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}
function bp(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function gp(a,b,c,d){O.call(this);d=d||150;this.Ne=null!=c?c:!0;this.Vf=a||",;";this.cp=this.Vf.substring(0,1);a=this.Ne?"[\\s"+this.Vf+"]+":"[\\s]+";this.ho=RegExp("^"+a+"|"+a+"$","g");this.zr=RegExp("\\s*["+this.Vf+"]$");this.Wm=b||"";this.tr=this.Ne;this.w=0<d?new nd(d):null;this.sa=new S(this);this.ri=new S(this);this.ea=new Df;this.Sm=-1}D(gp,O);var hp=(Pg||Qg)&&!L("533.17.9");p=gp.prototype;p.Yr=!0;p.op=!0;p.ko=!1;p.Br=!0;p.Ar=!0;p.si=null;p.K=null;p.Sj="";p.jd=!1;p.tk=!1;p.Tr=!0;p.t=function(){return this.K.value};
p.N=function(a){this.K.value=a};p.xi=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];ka(c)&&1==c.nodeType&&X(c,"haspopup",!0);this.sa.b(c,"focus",this.yd);this.sa.b(c,"blur",this.uc);if(!this.K&&(this.ri.b(c,"keydown",this.jr),ka(c)&&1==c.nodeType)){var d;a:{var f=N(c);try{d=f&&f.activeElement;break a}catch(g){}d=null}d==c&&ip(this,c)}}};
p.Kn=function(a,b){if(x(b)?b:this.Ne){var c=jp(this,this.t(),ep(this.K)),d=kp(this,this.t()),f=a;this.zr.test(f)||(f=f.replace(/[\s\xa0]+$/,"")+this.cp);this.Yr&&(0==c||/^[\s\xa0]*$/.test(d[c-1])||(f=" "+f),c==d.length-1&&(f+=" "));if(f!=d[c]){d[c]=f;f=this.K;(J||I&&L("9"))&&f.blur();f.value=d.join("");for(var g=0,h=0;h<=c;h++)g+=d[h].length;f.focus();c=g;ap(this.K,c);fp(this.K,c)}}else this.N(a);this.tk=!0};
p.e=function(){gp.a.e.call(this);null!=this.si&&window.clearTimeout(this.si);this.sa.j();delete this.sa;this.ri.j();this.ea.j();Ec(this.w)};
p.fb=function(a){switch(a.keyCode){case 40:if(this.U.Nb())return this.ak(),a.preventDefault(),!0;if(!this.Ne)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.U.Nb())return this.bk(),a.preventDefault(),!0;break;case 9:if(this.U.Nb()&&!a.shiftKey){if(this.update(),lp(this.U)&&this.tr)return a.preventDefault(),!0}else this.U.oc();break;case 13:if(this.U.Nb()){if(this.update(),lp(this.U))return a.preventDefault(),a.stopPropagation(),!0}else this.U.oc();break;case 27:if(this.U.Nb())return this.U.oc(),
a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.jd)return this.jd||(this.sa.b(this.K,"keyup",this.kn),this.sa.b(this.K,"keypress",this.fk),this.jd=!0),!0;break;default:this.w&&!this.Tr&&(this.w.stop(),this.w.start())}return mp(this,a)};function mp(a,b){var c=a.Ne&&b.charCode&&-1!=a.Vf.indexOf(String.fromCharCode(b.charCode));a.Br&&c&&a.update();return a.Ar&&c&&lp(a.U)?(b.preventDefault(),!0):!1}p.$p=l(!1);p.yd=function(a){ip(this,a.target||null)};
function ip(a,b){a.ri.tb();a.U&&np(a.U);b!=a.K&&(a.K=b,a.w&&(a.w.start(),a.sa.b(a.w,od,a.Ah)),a.Sj=a.t(),a.ea.hf(a.K),a.sa.b(a.ea,"key",a.ln),a.sa.b(a.K,"mousedown",a.mn),I&&a.sa.b(a.K,"keypress",a.jn))}p.uc=function(){hp?this.si=window.setTimeout(B(this.sn,this),0):this.sn()};
p.sn=function(){this.K&&(this.sa.G(this.ea,"key",this.ln),this.ea.detach(),this.sa.G(this.K,"keyup",this.$p),this.sa.G(this.K,"mousedown",this.mn),I&&this.sa.G(this.K,"keypress",this.jn),this.jd&&op(this),this.K=null,this.w&&(this.w.stop(),this.sa.G(this.w,od,this.Ah)),this.U&&pp(this.U))};p.Ah=function(){this.update()};p.jr=function(a){this.yd(a)};p.ln=function(a){this.Sm=a.keyCode;this.U&&this.fb(a)};p.fk=function(){this.jd&&229!=this.Sm&&op(this)};
p.kn=function(a){this.jd&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&op(this)};p.mn=function(a){this.U&&this.$b(a)};p.$b=ba();function op(a){a.jd&&(a.jd=!1,a.sa.G(a.K,"keypress",a.fk),a.sa.G(a.K,"keyup",a.kn))}p.jn=function(a){mp(this,a)};p.update=function(a){if(this.K&&(a||this.t()!=this.Sj)){if(a||!this.tk)a=this.kk(),this.U&&(this.U.F=this.K,this.U.Rh(a,this.t()));this.Sj=this.t()}this.tk=!1};
p.kk=function(){var a=ep(this.K),b=this.t(),a=kp(this,b)[jp(this,b,a)];return this.ho?String(a).replace(this.ho,""):a};p.bk=function(){return this.ko?qp(this.U):rp(this.U)};p.ak=function(){return this.ko?rp(this.U):qp(this.U)};function jp(a,b,c){a=kp(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b}
function kp(a,b){if(!a.Ne)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)a.Wm&&-1!=a.Wm.indexOf(c[g])?(a.op&&!h&&(d.push(f.join("")),f.length=0),f.push(c[g]),h=!h):h||-1==a.Vf.indexOf(c[g])?f.push(c[g]):(f.push(c[g]),d.push(f.join("")),f.length=0);d.push(f.join(""));return d};function sp(a,b,c,d){gp.call(this,a,b,c,d)}D(sp,gp);sp.prototype.kk=function(){for(var a=ep(this.K),b=this.t(),c="",d=a-1;0<d;d--){var f=b.charAt(d);if(" "===f||"\n"===f)break;else if("#"===f){c=b.substr(d,a-d);break}}return c};sp.prototype.Kn=function(a){var b=this.kk(),c=ep(this.K),d=this.t(),c=d.lastIndexOf(b,c);this.N(d.substr(0,c)+a+d.substr(c+b.length));a=c+a.length;ap(this.K,a);fp(this.K,a)};function tp(a,b,c){R.call(this);this.Hf=a;this.dd=c;this.m=b;Q(b,[up,vp,wp,xp],this.handleEvent,!1,this);this.Eb=null;this.ha=[];this.Vc=-1;this.Ya=0;this.rd=this.F=null;this.Hm={}}D(tp,R);tp.prototype.Fo=!0;tp.prototype.ml=!1;tp.prototype.oo=!1;tp.prototype.fo=!1;var up="hilite",vp="select",xp="dismiss",wp="canceldismiss";p=tp.prototype;p.Ab=e("Eb");
p.handleEvent=function(a){if(a.target==this.m)switch(a.type){case up:this.wc(a.Qe);break;case vp:a=a.Qe;var b=this.ha[yp(this,a)],c=!!b&&this.Hf.Kj&&this.Hf.Kj(b);a&&(b&&!c&&this.Vc!=a)&&this.wc(a);c||lp(this);break;case wp:np(this);break;case xp:pp(this)}};p.Rh=function(a,b){this.Eb!=a&&(this.Eb=a,zp(this.Eb,B(this.Vq,this),b),np(this))};p.Nb=function(){return this.m.Y()};
function qp(a){for(var b=a.Ya+a.ha.length-1,c=a.Vc,d=0;d<a.ha.length;d++){if(c>=a.Ya&&c<b)c++;else if(-1==c)c=a.Ya;else if(a.ml&&c==b){a.wc(-1);break}else if(a.oo&&c==b)c=a.Ya;else break;if(a.wc(c))return!0}return!1}function rp(a){for(var b=a.Ya+a.ha.length-1,c=a.Vc,d=0;d<a.ha.length;d++){if(c>a.Ya)c--;else if(a.ml&&c==a.Ya){a.wc(-1);break}else if(!a.oo||-1!=c&&c!=a.Ya)break;else c=b;if(a.wc(c))return!0}return!1}
p.wc=function(a){var b=yp(this,a),c=this.ha[b];return c&&this.Hf.Kj&&this.Hf.Kj(c)?!1:(this.Vc=a,this.m.wc(a),-1!=b)};function lp(a){var b=yp(a,a.Vc);if(-1!=b)return b=a.ha[b],a.dd.Kn(b.toString(),void 0),a.fo?(a.Eb=null,pp(a)):a.oc(),a.dispatchEvent({type:"update",Qe:b}),a.fo&&a.dd.update(!0),!0;a.oc();a.dispatchEvent({type:"update",Qe:null});return!1}
p.oc=function(){this.Vc=-1;this.Eb=null;this.Ya+=this.ha.length;this.ha=[];window.clearTimeout(this.rd);this.rd=null;this.m.oc();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(xp)};function pp(a){a.rd||(a.rd=window.setTimeout(B(a.oc,a),100))}p.Gm=function(){return this.rd?(window.clearTimeout(this.rd),this.rd=null,!0):!1};function np(a){a.Gm()||window.setTimeout(B(a.Gm,a),10)}p.e=function(){tp.a.e.call(this);delete this.Hm;this.m.j();this.dd.j();this.Hf=null};
p.Vq=function(a,b,c){this.Eb==a&&this.pk(b,c)};p.pk=function(a,b){var c="object"==fa(b)&&b,d=(c?c.us():b)?yp(this,this.Vc):-1;this.Ya+=this.ha.length;this.ha=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.Ya+g,data:a[g]});g=null;this.F&&(g=this.Hm[la(this.F)]||this.F);this.m.Co=g;this.m.pk(f,this.Eb,this.F);g=this.Fo;c&&void 0!==c.pp()&&(g=c.pp());this.Vc=-1;(g||0<=d)&&(0!=f.length&&this.Eb)&&(0<=d?this.wc(this.Ya+d):qp(this));this.dispatchEvent("suggestionsupdate")};
function yp(a,b){var c=b-a.Ya;return 0>c||c>=a.ha.length?-1:c}p.xi=function(a){var b=this.dd;b.xi.apply(b,arguments)};p.update=function(a){this.dd.update(a)};function Ap(a,b,c,d,f){Hn.call(this,b,c,d,f);this.element=a}D(Ap,Hn);p=Ap.prototype;p.Gc=u;p.Fd=function(){x(this.gb)||(this.gb=Ge(this.element));return this.gb};p.Lf=function(){this.Gc();Ap.a.Lf.call(this)};p.$c=function(){this.Gc();Ap.a.$c.call(this)};p.Bc=function(){this.Gc();Ap.a.Bc.call(this)};function Bp(a,b,c,d,f){ha(b)&&(b=[b]);ha(c)&&(c=[c]);Ap.call(this,a,b,c,d,f);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}D(Bp,Ap);
Bp.prototype.Gc=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity\x3d"+100*a+")")};Bp.prototype.show=function(){this.element.style.display=""};function Cp(a,b,c){Bp.call(this,a,1,0,b,c)}D(Cp,Bp);Cp.prototype.Bc=function(){this.show();Cp.a.Bc.call(this)};Cp.prototype.$c=function(){this.element.style.display="none";Cp.a.$c.call(this)};function Dp(a,b,c){Bp.call(this,a,0,1,b,c)}D(Dp,Bp);
Dp.prototype.Bc=function(){this.show();Dp.a.Bc.call(this)};function Ep(a,b,c,d){R.call(this);this.T=a||document.body;this.C=Ub(this.T);this.xr=!a;this.d=null;this.Eb="";this.ha=[];this.Nd=[];this.Vn=this.ah=-1;this.pa=!1;this.className="ac-renderer";this.sk="ac-row";this.Um="active";this.kl="ac-active";this.Iq="ac-highlighted";this.lf=b||null;this.Ur=null!=d?d:!0;this.Wq=!0;this.zj=!1;this.yr=!!c;this.Zh=!1;this.wh=0}D(Ep,R);p=Ep.prototype;p.c=e("d");p.pk=function(a,b,c){this.Eb=b;this.ha=a;this.ah=-1;this.Vn=C();this.F=c;this.Nd=[];Fp(this)};
p.oc=function(){this.F&&Pl(this.F,null);this.pa&&(this.pa=!1,this.F&&X(this.F,"haspopup",!1),0<this.wh?(Ec(this.be),this.be=new Cp(this.d,this.wh),this.be.play()):T(this.d,!1))};p.show=function(){this.pa||(this.pa=!0,this.F&&(Kf(this.F,"combobox"),X(this.F,"autocomplete","list"),X(this.F,"haspopup",!0)),0<this.wh?(Ec(this.be),this.be=new Dp(this.d,this.wh),this.be.play()):T(this.d,!0))};p.Y=e("pa");
function Gp(a,b){var c=0<=b&&b<a.ha.length?a.ha[b]:void 0,d=0<=b&&b<a.Nd.length?a.Nd[b]:void 0;a.dispatchEvent({type:"rowhilite",Es:d,Qe:c?c.data:null})&&(0<=a.ah&&kf(a.Nd[a.ah],[a.kl,a.Um]),a.ah=b,d&&(hf(d,[a.kl,a.Um]),a.F&&Pl(a.F,d),He(d,a.d)))}p.wc=function(a){if(-1==a)Gp(this,-1);else for(var b=0;b<this.ha.length;b++)if(this.ha[b].id==a){Gp(this,b);break}};
function Hp(a){if(!a.d){var b=a.C.f("div",{style:"display:none"});a.d=b;hf(b,ya(a.className).split(" "));Kf(b,"listbox");b.id=We(Ve.h());a.C.appendChild(a.T,b);Q(b,"click",a.Rc,!1,a);Q(b,"mousedown",a.ym,!1,a);Q(b,"mouseover",a.zm,!1,a)}}
function Fp(a){Hp(a);a.Zh&&(a.d.style.visibility="hidden");a.Zr&&(a.d.style.minWidth=a.Zr.clientWidth+"px");a.Nd.length=0;a.C.Jh(a.d);if(a.lf&&a.lf.ga)a.lf.ga(a);else{var b=null;G(a.ha,function(a){var d=this.Eb,f=this.C.f("div",{className:this.sk,id:We(Ve.h())});Kf(f,"option");this.lf&&this.lf.Cs||(f.innerHTML=Aa(a.data.toString()));d&&this.Ur&&Ip(this,f,d);gf(f,this.sk);this.Nd.push(f);a=f;this.Zh?this.d.insertBefore(a,b):this.C.appendChild(this.d,a);b=a},a)}0==a.ha.length?a.oc():(a.show(),a.Qb(),
Oe(a.d,!0))}p.Qb=function(){if(this.F&&this.xr){var a;a=this.yr?3:1;this.Zh&&(a^=1);aj(this.Co||this.F,a,this.d,a^1,null,null,65);this.Zh&&(this.d.style.visibility="visible")}};p.e=function(){this.d&&(dd(this.d,"click",this.Rc,!1,this),dd(this.d,"mousedown",this.ym,!1,this),dd(this.d,"mouseover",this.zm,!1,this),this.C.removeNode(this.d),this.d=null,this.pa=!1);Ec(this.be);this.T=null;Ep.a.e.call(this)};
function Ip(a,b,c){if(3==b.nodeType){var d=null;y(c)&&(1<c.length&&!a.zj)&&(d=ab(c,1));c=Jp(a,c);if(0!=c.length){var f=b.nodeValue,g=a.Wq?RegExp("\\b(?:"+c+")","gi"):RegExp(c,"gi");c=[];for(var h=0,k=g.exec(f),m=0;k;)m++,c.push(f.substring(h,k.index)),c.push(f.substring(k.index,g.lastIndex)),h=g.lastIndex,k=g.exec(f);c.push(f.substring(h));if(1<c.length){d=a.zj?m:1;for(f=0;f<d;f++)g=2*f,b.nodeValue=c[g],h=a.C.createElement("b"),h.className=a.Iq,a.C.appendChild(h,a.C.createTextNode(c[g+1])),h=b.parentNode.insertBefore(h,
b.nextSibling),b.parentNode.insertBefore(a.C.createTextNode(""),h.nextSibling),b=h.nextSibling;a=ab(c,2*d);b.nodeValue=a.join("")}else d&&Ip(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Ip(a,b,c),b=d}function Jp(a,b){var c="";if(!b)return c;y(b)&&(b=Ma(b,function(a){return!Yl(a)}));a.zj?y(b)?c=Na(b,Ia).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ia(c),c=c.replace(/ /g,"|")):y(b)?c=0<b.length?Ia(b[0]):"":/^\W/.test(b)||(c=Ia(b));return c}
function Kp(a,b){for(;b&&b!=a.d&&!ff(b,a.sk);)b=b.parentNode;return b?La(a.Nd,b):-1}p.Rc=function(a){var b=Kp(this,a.target);0<=b&&this.dispatchEvent({type:vp,Qe:this.ha[b].id});a.stopPropagation()};p.ym=function(a){a.stopPropagation();a.preventDefault()};p.zm=function(a){a=Kp(this,a.target);0<=a&&!(300>C()-this.Vn)&&this.dispatchEvent({type:up,Qe:this.ha[a].id})};function Lp(){}function zp(a,b,c){3<a.length?Zo.h().autocomplete(c||"",a,function(c){b.call(void 0,a,c)}):b.call(void 0,a,[])};function Mp(a,b){ol.call(this,a,b);this.ok=this.Do=null;this.wj=!1}D(Mp,ol);Mp.prototype.Ka=function(){var a=this.Ib,b=a.Ub.c(),c=new Ep,d=new sp(void 0,void 0,!0,300),c=new tp(new Lp,c,d);d.U=c;d.xi(b);this.Do=c;this.ok=Zb("recommondations");this.i().b(a,Ii,this.Bd).b(this.ok,"click",this.nq);Np(this)};Mp.prototype.Bd=function(){Np(this)};
function Np(a){var b=a.Ib.Ub.t();$o(Zo.h(),b,function(a){this.ok.innerHTML=a.reduce(function(a,b){return a+' \x3cspan class\x3d"suggest"\x3e'+b+"\x3c/span\x3e"},"")},a)}Mp.prototype.nq=function(a){var b=a.target;if(H(Eb(b),"suggest")){a=this.Ib;var b=b.innerHTML,c=a.Ub.t();a.Ub.N(c+" "+b)}};function Op(){O.call(this)}D(Op,Hh);Op.prototype.Da=function(){Ji.h().pd.push(Mp)};function Pp(){this.id="linkParser"}Pp.prototype.parse=function(a){return twttr.txt.extractUrlsWithIndices(a.ic)||[]};function Qp(){U.call(this);this.Ej=null}D(Qp,U);w(Qp);Qp.prototype.f=function(){var a=this.p();this.Ej=a.f("img");a=a.f("div","image-preview",this.Ej);this.o(a)};Qp.prototype.Th=function(a){this.Ej.src=a;return!0};Qp.prototype.iq=function(a){this.v||this.ga(document.body);var b=a.target,c=this.c();this.Th(b.href)&&(ze(c,a.clientX+10,a.clientY+10),Fb(c,"visible"))};Qp.prototype.jq=function(){Gb(this.c(),"visible")};function Rp(){O.call(this)}D(Rp,Hh);Rp.prototype.Da=function(){var a=ri.h();Q(a,Ym,this.Sp,!1,this);Q(a,"entry_display",this.Pp,!1,this)};Rp.prototype.Sp=function(a){a=a.target;for(var b=a.Kf,c=a.qe().om(Pp),d=0;d<c.length;d++){var f=c[d].url,g=20<f.length?f.substr(0,20)+"...":f;f.match(/^(http)/gi)||(f="http://"+f);b=b.replace(c[d].url,'\x3ca href\x3d"'+f+'" target\x3d"_blank" class\x3d"extern-link"\x3e'+g+"\x3c/a\x3e")}a.Kf=b};
Rp.prototype.Pp=function(a){a=a.io.Qg("extern-link");for(var b,c=0;c<a.length;c++){var d=a[c];if(d.href.match(/(jpg|png|gif)$/gi)){var f=b=b||Qp.h();f.i().b(d,"mouseenter",f.iq).b(d,"mouseleave",f.jq)}}};function Sp(){O.call(this)}D(Sp,Hh);Sp.prototype.Da=function(a){a=a.Ki;Wo();Jl.h().Da(a);Ji.h().Da(a);Ro.h().Da(a);var b=um.h();b.Da(a);wm(b,"search/:searchStr",function(a,b){var f=vi.h().search("#"+b,void 0,void 0,void 0);Ll(f,"#"+b)},this);wm(b,"edit/:entryId",function(a,b){var f=new Zm(b);Hl(f)},this);wm(b,"delete/:entryId",function(a,b){(new Zm(b)).ie()},this,!1);Nl(Op);Nl(Rp)};Gh("core",Sp);
//@ sourceURL=/client/asset/common/js-min/LANG/core.js