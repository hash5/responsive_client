<!DOCTYPE html>
<head>
    <title>Unit Tests - hash5.ds.ConnectionManager</title>
    <script src="http://localhost:9810/compile?id=hash5&mode=RAW"></script>
</head>
<body>
    <script>
        goog.require('hash5.ds.ConnectionManager');

        goog.require('goog.testing.jsunit');
        goog.require('hash5.testing.AsyncTestCase');
        goog.require('hash5.controller.UserController');
        goog.require('hash5.model.Entry');
    </script>
    <script>
        var asyncTestCase = hash5.testing.AsyncTestCase.createAndInstallWithAuthUser();

        /** @type {hash5.ds.ConnectionManager} */
        var connManager = hash5.ds.ConnectionManager.getInstance();

        function testSimpleRequest()
        {
            asyncTestCase.waitForAsync('wait for request callback');
            hash5.ds.ConnectionManager.request('/entries', 'GET', undefined, function(e){
                assert(e.getResponseJson() != null);
                asyncTestCase.continueTesting();
            });

        }

        function testRetry()
        {
            // TODO how to simulate???
        }
    </script>
</body>
</html>